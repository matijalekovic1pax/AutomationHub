(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function mm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uc={exports:{}},hs={},dc={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xr=Symbol.for("react.element"),hm=Symbol.for("react.portal"),gm=Symbol.for("react.fragment"),ym=Symbol.for("react.strict_mode"),xm=Symbol.for("react.profiler"),vm=Symbol.for("react.provider"),Em=Symbol.for("react.context"),Cm=Symbol.for("react.forward_ref"),wm=Symbol.for("react.suspense"),Sm=Symbol.for("react.memo"),Tm=Symbol.for("react.lazy"),Sa=Symbol.iterator;function km(e){return e===null||typeof e!="object"?null:(e=Sa&&e[Sa]||e["@@iterator"],typeof e=="function"?e:null)}var cc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fc=Object.assign,pc={};function tr(e,t,n){this.props=e,this.context=t,this.refs=pc,this.updater=n||cc}tr.prototype.isReactComponent={};tr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};tr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mc(){}mc.prototype=tr.prototype;function hl(e,t,n){this.props=e,this.context=t,this.refs=pc,this.updater=n||cc}var gl=hl.prototype=new mc;gl.constructor=hl;fc(gl,tr.prototype);gl.isPureReactComponent=!0;var Ta=Array.isArray,hc=Object.prototype.hasOwnProperty,yl={current:null},gc={key:!0,ref:!0,__self:!0,__source:!0};function yc(e,t,n){var r,o={},s=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(s=""+t.key),t)hc.call(t,r)&&!gc.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(u===1)o.children=n;else if(1<u){for(var c=Array(u),f=0;f<u;f++)c[f]=arguments[f+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)o[r]===void 0&&(o[r]=u[r]);return{$$typeof:Xr,type:e,key:s,ref:l,props:o,_owner:yl.current}}function Nm(e,t){return{$$typeof:Xr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xr}function _m(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ka=/\/+/g;function Us(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_m(""+e.key):t.toString(36)}function ko(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Xr:case hm:l=!0}}if(l)return l=e,o=o(l),e=r===""?"."+Us(l,0):r,Ta(o)?(n="",e!=null&&(n=e.replace(ka,"$&/")+"/"),ko(o,t,n,"",function(f){return f})):o!=null&&(xl(o)&&(o=Nm(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(ka,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=r===""?".":r+":",Ta(e))for(var u=0;u<e.length;u++){s=e[u];var c=r+Us(s,u);l+=ko(s,t,n,c,o)}else if(c=km(e),typeof c=="function")for(e=c.call(e),u=0;!(s=e.next()).done;)s=s.value,c=r+Us(s,u++),l+=ko(s,t,n,c,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function io(e,t,n){if(e==null)return e;var r=[],o=0;return ko(e,r,"","",function(s){return t.call(n,s,o++)}),r}function Im(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ve={current:null},No={transition:null},Am={ReactCurrentDispatcher:Ve,ReactCurrentBatchConfig:No,ReactCurrentOwner:yl};function xc(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:io,forEach:function(e,t,n){io(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return io(e,function(){t++}),t},toArray:function(e){return io(e,function(t){return t})||[]},only:function(e){if(!xl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};K.Component=tr;K.Fragment=gm;K.Profiler=xm;K.PureComponent=hl;K.StrictMode=ym;K.Suspense=wm;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Am;K.act=xc;K.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=fc({},e.props),o=e.key,s=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,l=yl.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)hc.call(t,c)&&!gc.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&u!==void 0?u[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];r.children=u}return{$$typeof:Xr,type:e.type,key:o,ref:s,props:r,_owner:l}};K.createContext=function(e){return e={$$typeof:Em,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:vm,_context:e},e.Consumer=e};K.createElement=yc;K.createFactory=function(e){var t=yc.bind(null,e);return t.type=e,t};K.createRef=function(){return{current:null}};K.forwardRef=function(e){return{$$typeof:Cm,render:e}};K.isValidElement=xl;K.lazy=function(e){return{$$typeof:Tm,_payload:{_status:-1,_result:e},_init:Im}};K.memo=function(e,t){return{$$typeof:Sm,type:e,compare:t===void 0?null:t}};K.startTransition=function(e){var t=No.transition;No.transition={};try{e()}finally{No.transition=t}};K.unstable_act=xc;K.useCallback=function(e,t){return Ve.current.useCallback(e,t)};K.useContext=function(e){return Ve.current.useContext(e)};K.useDebugValue=function(){};K.useDeferredValue=function(e){return Ve.current.useDeferredValue(e)};K.useEffect=function(e,t){return Ve.current.useEffect(e,t)};K.useId=function(){return Ve.current.useId()};K.useImperativeHandle=function(e,t,n){return Ve.current.useImperativeHandle(e,t,n)};K.useInsertionEffect=function(e,t){return Ve.current.useInsertionEffect(e,t)};K.useLayoutEffect=function(e,t){return Ve.current.useLayoutEffect(e,t)};K.useMemo=function(e,t){return Ve.current.useMemo(e,t)};K.useReducer=function(e,t,n){return Ve.current.useReducer(e,t,n)};K.useRef=function(e){return Ve.current.useRef(e)};K.useState=function(e){return Ve.current.useState(e)};K.useSyncExternalStore=function(e,t,n){return Ve.current.useSyncExternalStore(e,t,n)};K.useTransition=function(){return Ve.current.useTransition()};K.version="18.3.1";dc.exports=K;var P=dc.exports;const vc=mm(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm=P,Pm=Symbol.for("react.element"),Mm=Symbol.for("react.fragment"),Dm=Object.prototype.hasOwnProperty,bm=Rm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lm={key:!0,ref:!0,__self:!0,__source:!0};function Ec(e,t,n){var r,o={},s=null,l=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Dm.call(t,r)&&!Lm.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Pm,type:e,key:s,ref:l,props:o,_owner:bm.current}}hs.Fragment=Mm;hs.jsx=Ec;hs.jsxs=Ec;uc.exports=hs;var d=uc.exports,ci={},Cc={exports:{}},Xe={},wc={exports:{}},Sc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,G){var z=L.length;L.push(G);e:for(;0<z;){var ee=z-1>>>1,fe=L[ee];if(0<o(fe,G))L[ee]=G,L[z]=fe,z=ee;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var G=L[0],z=L.pop();if(z!==G){L[0]=z;e:for(var ee=0,fe=L.length,Tt=fe>>>1;ee<Tt;){var et=2*(ee+1)-1,Vt=L[et],be=et+1,at=L[be];if(0>o(Vt,z))be<fe&&0>o(at,Vt)?(L[ee]=at,L[be]=z,ee=be):(L[ee]=Vt,L[et]=z,ee=et);else if(be<fe&&0>o(at,z))L[ee]=at,L[be]=z,ee=be;else break e}}return G}function o(L,G){var z=L.sortIndex-G.sortIndex;return z!==0?z:L.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var c=[],f=[],p=1,m=null,h=3,g=!1,E=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(L){for(var G=n(f);G!==null;){if(G.callback===null)r(f);else if(G.startTime<=L)r(f),G.sortIndex=G.expirationTime,t(c,G);else break;G=n(f)}}function S(L){if(C=!1,v(L),!E)if(n(c)!==null)E=!0,$(_);else{var G=n(f);G!==null&&te(S,G.startTime-L)}}function _(L,G){E=!1,C&&(C=!1,x(w),w=-1),g=!0;var z=h;try{for(v(G),m=n(c);m!==null&&(!(m.expirationTime>G)||L&&!H());){var ee=m.callback;if(typeof ee=="function"){m.callback=null,h=m.priorityLevel;var fe=ee(m.expirationTime<=G);G=e.unstable_now(),typeof fe=="function"?m.callback=fe:m===n(c)&&r(c),v(G)}else r(c);m=n(c)}if(m!==null)var Tt=!0;else{var et=n(f);et!==null&&te(S,et.startTime-G),Tt=!1}return Tt}finally{m=null,h=z,g=!1}}var R=!1,I=null,w=-1,M=5,b=-1;function H(){return!(e.unstable_now()-b<M)}function k(){if(I!==null){var L=e.unstable_now();b=L;var G=!0;try{G=I(!0,L)}finally{G?B():(R=!1,I=null)}}else R=!1}var B;if(typeof y=="function")B=function(){y(k)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,J=X.port2;X.port1.onmessage=k,B=function(){J.postMessage(null)}}else B=function(){T(k,0)};function $(L){I=L,R||(R=!0,B())}function te(L,G){w=T(function(){L(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){E||g||(E=!0,$(_))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(L){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var z=h;h=G;try{return L()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,G){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var z=h;h=L;try{return G()}finally{h=z}},e.unstable_scheduleCallback=function(L,G,z){var ee=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?ee+z:ee):z=ee,L){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=z+fe,L={id:p++,callback:G,priorityLevel:L,startTime:z,expirationTime:fe,sortIndex:-1},z>ee?(L.sortIndex=z,t(f,L),n(c)===null&&L===n(f)&&(C?(x(w),w=-1):C=!0,te(S,z-ee))):(L.sortIndex=fe,t(c,L),E||g||(E=!0,$(_))),L},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(L){var G=h;return function(){var z=h;h=G;try{return L.apply(this,arguments)}finally{h=z}}}})(Sc);wc.exports=Sc;var Um=wc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm=P,Qe=Um;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tc=new Set,br={};function En(e,t){Yn(e,t),Yn(e+"Capture",t)}function Yn(e,t){for(br[e]=t,e=0;e<t.length;e++)Tc.add(t[e])}var Rt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fi=Object.prototype.hasOwnProperty,Vm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Na={},_a={};function Gm(e){return fi.call(_a,e)?!0:fi.call(Na,e)?!1:Vm.test(e)?_a[e]=!0:(Na[e]=!0,!1)}function qm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Hm(e,t,n,r){if(t===null||typeof t>"u"||qm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ge(e,t,n,r,o,s,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ie[e]=new Ge(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ie[t]=new Ge(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ie[e]=new Ge(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ie[e]=new Ge(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ie[e]=new Ge(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ie[e]=new Ge(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ie[e]=new Ge(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ie[e]=new Ge(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ie[e]=new Ge(e,5,!1,e.toLowerCase(),null,!1,!1)});var vl=/[\-:]([a-z])/g;function El(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vl,El);Ie[t]=new Ge(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vl,El);Ie[t]=new Ge(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vl,El);Ie[t]=new Ge(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ie[e]=new Ge(e,1,!1,e.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ie[e]=new Ge(e,1,!1,e.toLowerCase(),null,!0,!0)});function Cl(e,t,n,r){var o=Ie.hasOwnProperty(t)?Ie[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Hm(t,n,o,r)&&(n=null),r||o===null?Gm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Lt=Fm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lo=Symbol.for("react.element"),Nn=Symbol.for("react.portal"),_n=Symbol.for("react.fragment"),wl=Symbol.for("react.strict_mode"),pi=Symbol.for("react.profiler"),kc=Symbol.for("react.provider"),Nc=Symbol.for("react.context"),Sl=Symbol.for("react.forward_ref"),mi=Symbol.for("react.suspense"),hi=Symbol.for("react.suspense_list"),Tl=Symbol.for("react.memo"),qt=Symbol.for("react.lazy"),_c=Symbol.for("react.offscreen"),Ia=Symbol.iterator;function ur(e){return e===null||typeof e!="object"?null:(e=Ia&&e[Ia]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Object.assign,Fs;function vr(e){if(Fs===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Fs=t&&t[1]||""}return`
`+Fs+e}var Vs=!1;function Gs(e,t){if(!e||Vs)return"";Vs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var o=f.stack.split(`
`),s=r.stack.split(`
`),l=o.length-1,u=s.length-1;1<=l&&0<=u&&o[l]!==s[u];)u--;for(;1<=l&&0<=u;l--,u--)if(o[l]!==s[u]){if(l!==1||u!==1)do if(l--,u--,0>u||o[l]!==s[u]){var c=`
`+o[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=u);break}}}finally{Vs=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?vr(e):""}function Bm(e){switch(e.tag){case 5:return vr(e.type);case 16:return vr("Lazy");case 13:return vr("Suspense");case 19:return vr("SuspenseList");case 0:case 2:case 15:return e=Gs(e.type,!1),e;case 11:return e=Gs(e.type.render,!1),e;case 1:return e=Gs(e.type,!0),e;default:return""}}function gi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _n:return"Fragment";case Nn:return"Portal";case pi:return"Profiler";case wl:return"StrictMode";case mi:return"Suspense";case hi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Nc:return(e.displayName||"Context")+".Consumer";case kc:return(e._context.displayName||"Context")+".Provider";case Sl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tl:return t=e.displayName||null,t!==null?t:gi(e.type)||"Memo";case qt:t=e._payload,e=e._init;try{return gi(e(t))}catch{}}return null}function zm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gi(t);case 8:return t===wl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function en(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ic(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $m(e){var t=Ic(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(l){r=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ao(e){e._valueTracker||(e._valueTracker=$m(e))}function Ac(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ic(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ho(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function yi(e,t){var n=t.checked;return ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Aa(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=en(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Rc(e,t){t=t.checked,t!=null&&Cl(e,"checked",t,!1)}function xi(e,t){Rc(e,t);var n=en(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?vi(e,t.type,n):t.hasOwnProperty("defaultValue")&&vi(e,t.type,en(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ra(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function vi(e,t,n){(t!=="number"||Ho(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Er=Array.isArray;function Gn(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+en(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ei(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pa(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(Er(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:en(n)}}function Pc(e,t){var n=en(t.value),r=en(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ma(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Mc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ci(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Mc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var uo,Dc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(uo=uo||document.createElement("div"),uo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=uo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Lr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Sr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jm=["Webkit","ms","Moz","O"];Object.keys(Sr).forEach(function(e){Jm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sr[t]=Sr[e]})});function bc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Sr.hasOwnProperty(e)&&Sr[e]?(""+t).trim():t+"px"}function Lc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=bc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Om=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wi(e,t){if(t){if(Om[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function Si(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ti=null;function kl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ki=null,qn=null,Hn=null;function Da(e){if(e=to(e)){if(typeof ki!="function")throw Error(D(280));var t=e.stateNode;t&&(t=Es(t),ki(e.stateNode,e.type,t))}}function Uc(e){qn?Hn?Hn.push(e):Hn=[e]:qn=e}function Fc(){if(qn){var e=qn,t=Hn;if(Hn=qn=null,Da(e),t)for(e=0;e<t.length;e++)Da(t[e])}}function Vc(e,t){return e(t)}function Gc(){}var qs=!1;function qc(e,t,n){if(qs)return e(t,n);qs=!0;try{return Vc(e,t,n)}finally{qs=!1,(qn!==null||Hn!==null)&&(Gc(),Fc())}}function Ur(e,t){var n=e.stateNode;if(n===null)return null;var r=Es(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var Ni=!1;if(Rt)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){Ni=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{Ni=!1}function Wm(e,t,n,r,o,s,l,u,c){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(p){this.onError(p)}}var Tr=!1,Bo=null,zo=!1,_i=null,Ym={onError:function(e){Tr=!0,Bo=e}};function Km(e,t,n,r,o,s,l,u,c){Tr=!1,Bo=null,Wm.apply(Ym,arguments)}function jm(e,t,n,r,o,s,l,u,c){if(Km.apply(this,arguments),Tr){if(Tr){var f=Bo;Tr=!1,Bo=null}else throw Error(D(198));zo||(zo=!0,_i=f)}}function Cn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Hc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ba(e){if(Cn(e)!==e)throw Error(D(188))}function Qm(e){var t=e.alternate;if(!t){if(t=Cn(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return ba(o),e;if(s===r)return ba(o),t;s=s.sibling}throw Error(D(188))}if(n.return!==r.return)n=o,r=s;else{for(var l=!1,u=o.child;u;){if(u===n){l=!0,n=o,r=s;break}if(u===r){l=!0,r=o,n=s;break}u=u.sibling}if(!l){for(u=s.child;u;){if(u===n){l=!0,n=s,r=o;break}if(u===r){l=!0,r=s,n=o;break}u=u.sibling}if(!l)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function Bc(e){return e=Qm(e),e!==null?zc(e):null}function zc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zc(e);if(t!==null)return t;e=e.sibling}return null}var $c=Qe.unstable_scheduleCallback,La=Qe.unstable_cancelCallback,Xm=Qe.unstable_shouldYield,Zm=Qe.unstable_requestPaint,he=Qe.unstable_now,eh=Qe.unstable_getCurrentPriorityLevel,Nl=Qe.unstable_ImmediatePriority,Jc=Qe.unstable_UserBlockingPriority,$o=Qe.unstable_NormalPriority,th=Qe.unstable_LowPriority,Oc=Qe.unstable_IdlePriority,gs=null,wt=null;function nh(e){if(wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(gs,e,void 0,(e.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:sh,rh=Math.log,oh=Math.LN2;function sh(e){return e>>>=0,e===0?32:31-(rh(e)/oh|0)|0}var co=64,fo=4194304;function Cr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,l=n&268435455;if(l!==0){var u=l&~o;u!==0?r=Cr(u):(s&=l,s!==0&&(r=Cr(s)))}else l=n&~o,l!==0?r=Cr(l):s!==0&&(r=Cr(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-mt(t),o=1<<n,r|=e[n],t&=~o;return r}function ih(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-mt(s),u=1<<l,c=o[l];c===-1?(!(u&n)||u&r)&&(o[l]=ih(u,t)):c<=t&&(e.expiredLanes|=u),s&=~u}}function Ii(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Wc(){var e=co;return co<<=1,!(co&4194240)&&(co=64),e}function Hs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mt(t),e[t]=n}function ah(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-mt(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function _l(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-mt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Z=0;function Yc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Kc,Il,jc,Qc,Xc,Ai=!1,po=[],Ot=null,Wt=null,Yt=null,Fr=new Map,Vr=new Map,Bt=[],uh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ua(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Wt=null;break;case"mouseover":case"mouseout":Yt=null;break;case"pointerover":case"pointerout":Fr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vr.delete(t.pointerId)}}function cr(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=to(t),t!==null&&Il(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function dh(e,t,n,r,o){switch(t){case"focusin":return Ot=cr(Ot,e,t,n,r,o),!0;case"dragenter":return Wt=cr(Wt,e,t,n,r,o),!0;case"mouseover":return Yt=cr(Yt,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return Fr.set(s,cr(Fr.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,Vr.set(s,cr(Vr.get(s)||null,e,t,n,r,o)),!0}return!1}function Zc(e){var t=dn(e.target);if(t!==null){var n=Cn(t);if(n!==null){if(t=n.tag,t===13){if(t=Hc(n),t!==null){e.blockedOn=t,Xc(e.priority,function(){jc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _o(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ri(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ti=r,n.target.dispatchEvent(r),Ti=null}else return t=to(n),t!==null&&Il(t),e.blockedOn=n,!1;t.shift()}return!0}function Fa(e,t,n){_o(e)&&n.delete(t)}function ch(){Ai=!1,Ot!==null&&_o(Ot)&&(Ot=null),Wt!==null&&_o(Wt)&&(Wt=null),Yt!==null&&_o(Yt)&&(Yt=null),Fr.forEach(Fa),Vr.forEach(Fa)}function fr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ai||(Ai=!0,Qe.unstable_scheduleCallback(Qe.unstable_NormalPriority,ch)))}function Gr(e){function t(o){return fr(o,e)}if(0<po.length){fr(po[0],e);for(var n=1;n<po.length;n++){var r=po[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ot!==null&&fr(Ot,e),Wt!==null&&fr(Wt,e),Yt!==null&&fr(Yt,e),Fr.forEach(t),Vr.forEach(t),n=0;n<Bt.length;n++)r=Bt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Bt.length&&(n=Bt[0],n.blockedOn===null);)Zc(n),n.blockedOn===null&&Bt.shift()}var Bn=Lt.ReactCurrentBatchConfig,Oo=!0;function fh(e,t,n,r){var o=Z,s=Bn.transition;Bn.transition=null;try{Z=1,Al(e,t,n,r)}finally{Z=o,Bn.transition=s}}function ph(e,t,n,r){var o=Z,s=Bn.transition;Bn.transition=null;try{Z=4,Al(e,t,n,r)}finally{Z=o,Bn.transition=s}}function Al(e,t,n,r){if(Oo){var o=Ri(e,t,n,r);if(o===null)Qs(e,t,r,Wo,n),Ua(e,r);else if(dh(o,e,t,n,r))r.stopPropagation();else if(Ua(e,r),t&4&&-1<uh.indexOf(e)){for(;o!==null;){var s=to(o);if(s!==null&&Kc(s),s=Ri(e,t,n,r),s===null&&Qs(e,t,r,Wo,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else Qs(e,t,r,null,n)}}var Wo=null;function Ri(e,t,n,r){if(Wo=null,e=kl(r),e=dn(e),e!==null)if(t=Cn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Hc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wo=e,null}function ef(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eh()){case Nl:return 1;case Jc:return 4;case $o:case th:return 16;case Oc:return 536870912;default:return 16}default:return 16}}var $t=null,Rl=null,Io=null;function tf(){if(Io)return Io;var e,t=Rl,n=t.length,r,o="value"in $t?$t.value:$t.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===o[s-r];r++);return Io=o.slice(e,1<r?1-r:void 0)}function Ao(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mo(){return!0}function Va(){return!1}function Ze(e){function t(n,r,o,s,l){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?mo:Va,this.isPropagationStopped=Va,this}return ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mo)},persist:function(){},isPersistent:mo}),t}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pl=Ze(nr),eo=ce({},nr,{view:0,detail:0}),mh=Ze(eo),Bs,zs,pr,ys=ce({},eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ml,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pr&&(pr&&e.type==="mousemove"?(Bs=e.screenX-pr.screenX,zs=e.screenY-pr.screenY):zs=Bs=0,pr=e),Bs)},movementY:function(e){return"movementY"in e?e.movementY:zs}}),Ga=Ze(ys),hh=ce({},ys,{dataTransfer:0}),gh=Ze(hh),yh=ce({},eo,{relatedTarget:0}),$s=Ze(yh),xh=ce({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),vh=Ze(xh),Eh=ce({},nr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ch=Ze(Eh),wh=ce({},nr,{data:0}),qa=Ze(wh),Sh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Th={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kh[e])?!!t[e]:!1}function Ml(){return Nh}var _h=ce({},eo,{key:function(e){if(e.key){var t=Sh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ao(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Th[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ml,charCode:function(e){return e.type==="keypress"?Ao(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ao(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ih=Ze(_h),Ah=ce({},ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ha=Ze(Ah),Rh=ce({},eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ml}),Ph=Ze(Rh),Mh=ce({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dh=Ze(Mh),bh=ce({},ys,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lh=Ze(bh),Uh=[9,13,27,32],Dl=Rt&&"CompositionEvent"in window,kr=null;Rt&&"documentMode"in document&&(kr=document.documentMode);var Fh=Rt&&"TextEvent"in window&&!kr,nf=Rt&&(!Dl||kr&&8<kr&&11>=kr),Ba=" ",za=!1;function rf(e,t){switch(e){case"keyup":return Uh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function of(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var In=!1;function Vh(e,t){switch(e){case"compositionend":return of(t);case"keypress":return t.which!==32?null:(za=!0,Ba);case"textInput":return e=t.data,e===Ba&&za?null:e;default:return null}}function Gh(e,t){if(In)return e==="compositionend"||!Dl&&rf(e,t)?(e=tf(),Io=Rl=$t=null,In=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nf&&t.locale!=="ko"?null:t.data;default:return null}}var qh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $a(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qh[e.type]:t==="textarea"}function sf(e,t,n,r){Uc(r),t=Yo(t,"onChange"),0<t.length&&(n=new Pl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Nr=null,qr=null;function Hh(e){yf(e,0)}function xs(e){var t=Pn(e);if(Ac(t))return e}function Bh(e,t){if(e==="change")return t}var lf=!1;if(Rt){var Js;if(Rt){var Os="oninput"in document;if(!Os){var Ja=document.createElement("div");Ja.setAttribute("oninput","return;"),Os=typeof Ja.oninput=="function"}Js=Os}else Js=!1;lf=Js&&(!document.documentMode||9<document.documentMode)}function Oa(){Nr&&(Nr.detachEvent("onpropertychange",af),qr=Nr=null)}function af(e){if(e.propertyName==="value"&&xs(qr)){var t=[];sf(t,qr,e,kl(e)),qc(Hh,t)}}function zh(e,t,n){e==="focusin"?(Oa(),Nr=t,qr=n,Nr.attachEvent("onpropertychange",af)):e==="focusout"&&Oa()}function $h(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xs(qr)}function Jh(e,t){if(e==="click")return xs(t)}function Oh(e,t){if(e==="input"||e==="change")return xs(t)}function Wh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gt=typeof Object.is=="function"?Object.is:Wh;function Hr(e,t){if(gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!fi.call(t,o)||!gt(e[o],t[o]))return!1}return!0}function Wa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ya(e,t){var n=Wa(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wa(n)}}function uf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function df(){for(var e=window,t=Ho();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ho(e.document)}return t}function bl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Yh(e){var t=df(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&uf(n.ownerDocument.documentElement,n)){if(r!==null&&bl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=Ya(n,s);var l=Ya(n,r);o&&l&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Kh=Rt&&"documentMode"in document&&11>=document.documentMode,An=null,Pi=null,_r=null,Mi=!1;function Ka(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mi||An==null||An!==Ho(r)||(r=An,"selectionStart"in r&&bl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_r&&Hr(_r,r)||(_r=r,r=Yo(Pi,"onSelect"),0<r.length&&(t=new Pl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=An)))}function ho(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rn={animationend:ho("Animation","AnimationEnd"),animationiteration:ho("Animation","AnimationIteration"),animationstart:ho("Animation","AnimationStart"),transitionend:ho("Transition","TransitionEnd")},Ws={},cf={};Rt&&(cf=document.createElement("div").style,"AnimationEvent"in window||(delete Rn.animationend.animation,delete Rn.animationiteration.animation,delete Rn.animationstart.animation),"TransitionEvent"in window||delete Rn.transitionend.transition);function vs(e){if(Ws[e])return Ws[e];if(!Rn[e])return e;var t=Rn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in cf)return Ws[e]=t[n];return e}var ff=vs("animationend"),pf=vs("animationiteration"),mf=vs("animationstart"),hf=vs("transitionend"),gf=new Map,ja="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nn(e,t){gf.set(e,t),En(t,[e])}for(var Ys=0;Ys<ja.length;Ys++){var Ks=ja[Ys],jh=Ks.toLowerCase(),Qh=Ks[0].toUpperCase()+Ks.slice(1);nn(jh,"on"+Qh)}nn(ff,"onAnimationEnd");nn(pf,"onAnimationIteration");nn(mf,"onAnimationStart");nn("dblclick","onDoubleClick");nn("focusin","onFocus");nn("focusout","onBlur");nn(hf,"onTransitionEnd");Yn("onMouseEnter",["mouseout","mouseover"]);Yn("onMouseLeave",["mouseout","mouseover"]);Yn("onPointerEnter",["pointerout","pointerover"]);Yn("onPointerLeave",["pointerout","pointerover"]);En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));En("onBeforeInput",["compositionend","keypress","textInput","paste"]);En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xh=new Set("cancel close invalid load scroll toggle".split(" ").concat(wr));function Qa(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,jm(r,t,void 0,e),e.currentTarget=null}function yf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var l=r.length-1;0<=l;l--){var u=r[l],c=u.instance,f=u.currentTarget;if(u=u.listener,c!==s&&o.isPropagationStopped())break e;Qa(o,u,f),s=c}else for(l=0;l<r.length;l++){if(u=r[l],c=u.instance,f=u.currentTarget,u=u.listener,c!==s&&o.isPropagationStopped())break e;Qa(o,u,f),s=c}}}if(zo)throw e=_i,zo=!1,_i=null,e}function re(e,t){var n=t[Fi];n===void 0&&(n=t[Fi]=new Set);var r=e+"__bubble";n.has(r)||(xf(t,e,2,!1),n.add(r))}function js(e,t,n){var r=0;t&&(r|=4),xf(n,e,r,t)}var go="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[go]){e[go]=!0,Tc.forEach(function(n){n!=="selectionchange"&&(Xh.has(n)||js(n,!1,e),js(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[go]||(t[go]=!0,js("selectionchange",!1,t))}}function xf(e,t,n,r){switch(ef(t)){case 1:var o=fh;break;case 4:o=ph;break;default:o=Al}n=o.bind(null,t,n,e),o=void 0,!Ni||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Qs(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var u=r.stateNode.containerInfo;if(u===o||u.nodeType===8&&u.parentNode===o)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;l=l.return}for(;u!==null;){if(l=dn(u),l===null)return;if(c=l.tag,c===5||c===6){r=s=l;continue e}u=u.parentNode}}r=r.return}qc(function(){var f=s,p=kl(n),m=[];e:{var h=gf.get(e);if(h!==void 0){var g=Pl,E=e;switch(e){case"keypress":if(Ao(n)===0)break e;case"keydown":case"keyup":g=Ih;break;case"focusin":E="focus",g=$s;break;case"focusout":E="blur",g=$s;break;case"beforeblur":case"afterblur":g=$s;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Ga;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=gh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Ph;break;case ff:case pf:case mf:g=vh;break;case hf:g=Dh;break;case"scroll":g=mh;break;case"wheel":g=Lh;break;case"copy":case"cut":case"paste":g=Ch;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Ha}var C=(t&4)!==0,T=!C&&e==="scroll",x=C?h!==null?h+"Capture":null:h;C=[];for(var y=f,v;y!==null;){v=y;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,x!==null&&(S=Ur(y,x),S!=null&&C.push(zr(y,S,v)))),T)break;y=y.return}0<C.length&&(h=new g(h,E,null,n,p),m.push({event:h,listeners:C}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&n!==Ti&&(E=n.relatedTarget||n.fromElement)&&(dn(E)||E[Pt]))break e;if((g||h)&&(h=p.window===p?p:(h=p.ownerDocument)?h.defaultView||h.parentWindow:window,g?(E=n.relatedTarget||n.toElement,g=f,E=E?dn(E):null,E!==null&&(T=Cn(E),E!==T||E.tag!==5&&E.tag!==6)&&(E=null)):(g=null,E=f),g!==E)){if(C=Ga,S="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(C=Ha,S="onPointerLeave",x="onPointerEnter",y="pointer"),T=g==null?h:Pn(g),v=E==null?h:Pn(E),h=new C(S,y+"leave",g,n,p),h.target=T,h.relatedTarget=v,S=null,dn(p)===f&&(C=new C(x,y+"enter",E,n,p),C.target=v,C.relatedTarget=T,S=C),T=S,g&&E)t:{for(C=g,x=E,y=0,v=C;v;v=Tn(v))y++;for(v=0,S=x;S;S=Tn(S))v++;for(;0<y-v;)C=Tn(C),y--;for(;0<v-y;)x=Tn(x),v--;for(;y--;){if(C===x||x!==null&&C===x.alternate)break t;C=Tn(C),x=Tn(x)}C=null}else C=null;g!==null&&Xa(m,h,g,C,!1),E!==null&&T!==null&&Xa(m,T,E,C,!0)}}e:{if(h=f?Pn(f):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var _=Bh;else if($a(h))if(lf)_=Oh;else{_=$h;var R=zh}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=Jh);if(_&&(_=_(e,f))){sf(m,_,n,p);break e}R&&R(e,h,f),e==="focusout"&&(R=h._wrapperState)&&R.controlled&&h.type==="number"&&vi(h,"number",h.value)}switch(R=f?Pn(f):window,e){case"focusin":($a(R)||R.contentEditable==="true")&&(An=R,Pi=f,_r=null);break;case"focusout":_r=Pi=An=null;break;case"mousedown":Mi=!0;break;case"contextmenu":case"mouseup":case"dragend":Mi=!1,Ka(m,n,p);break;case"selectionchange":if(Kh)break;case"keydown":case"keyup":Ka(m,n,p)}var I;if(Dl)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else In?rf(e,n)&&(w="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(nf&&n.locale!=="ko"&&(In||w!=="onCompositionStart"?w==="onCompositionEnd"&&In&&(I=tf()):($t=p,Rl="value"in $t?$t.value:$t.textContent,In=!0)),R=Yo(f,w),0<R.length&&(w=new qa(w,e,null,n,p),m.push({event:w,listeners:R}),I?w.data=I:(I=of(n),I!==null&&(w.data=I)))),(I=Fh?Vh(e,n):Gh(e,n))&&(f=Yo(f,"onBeforeInput"),0<f.length&&(p=new qa("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:f}),p.data=I))}yf(m,t)})}function zr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yo(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Ur(e,n),s!=null&&r.unshift(zr(e,s,o)),s=Ur(e,t),s!=null&&r.push(zr(e,s,o))),e=e.return}return r}function Tn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Xa(e,t,n,r,o){for(var s=t._reactName,l=[];n!==null&&n!==r;){var u=n,c=u.alternate,f=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&f!==null&&(u=f,o?(c=Ur(n,s),c!=null&&l.unshift(zr(n,c,u))):o||(c=Ur(n,s),c!=null&&l.push(zr(n,c,u)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Zh=/\r\n?/g,e0=/\u0000|\uFFFD/g;function Za(e){return(typeof e=="string"?e:""+e).replace(Zh,`
`).replace(e0,"")}function yo(e,t,n){if(t=Za(t),Za(e)!==t&&n)throw Error(D(425))}function Ko(){}var Di=null,bi=null;function Li(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ui=typeof setTimeout=="function"?setTimeout:void 0,t0=typeof clearTimeout=="function"?clearTimeout:void 0,eu=typeof Promise=="function"?Promise:void 0,n0=typeof queueMicrotask=="function"?queueMicrotask:typeof eu<"u"?function(e){return eu.resolve(null).then(e).catch(r0)}:Ui;function r0(e){setTimeout(function(){throw e})}function Xs(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Gr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Gr(t)}function Kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function tu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var rr=Math.random().toString(36).slice(2),Ct="__reactFiber$"+rr,$r="__reactProps$"+rr,Pt="__reactContainer$"+rr,Fi="__reactEvents$"+rr,o0="__reactListeners$"+rr,s0="__reactHandles$"+rr;function dn(e){var t=e[Ct];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pt]||n[Ct]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=tu(e);e!==null;){if(n=e[Ct])return n;e=tu(e)}return t}e=n,n=e.parentNode}return null}function to(e){return e=e[Ct]||e[Pt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Pn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function Es(e){return e[$r]||null}var Vi=[],Mn=-1;function rn(e){return{current:e}}function ie(e){0>Mn||(e.current=Vi[Mn],Vi[Mn]=null,Mn--)}function ne(e,t){Mn++,Vi[Mn]=e.current,e.current=t}var tn={},De=rn(tn),ze=rn(!1),hn=tn;function Kn(e,t){var n=e.type.contextTypes;if(!n)return tn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function $e(e){return e=e.childContextTypes,e!=null}function jo(){ie(ze),ie(De)}function nu(e,t,n){if(De.current!==tn)throw Error(D(168));ne(De,t),ne(ze,n)}function vf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(D(108,zm(e)||"Unknown",o));return ce({},n,r)}function Qo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tn,hn=De.current,ne(De,e),ne(ze,ze.current),!0}function ru(e,t,n){var r=e.stateNode;if(!r)throw Error(D(169));n?(e=vf(e,t,hn),r.__reactInternalMemoizedMergedChildContext=e,ie(ze),ie(De),ne(De,e)):ie(ze),ne(ze,n)}var Nt=null,Cs=!1,Zs=!1;function Ef(e){Nt===null?Nt=[e]:Nt.push(e)}function i0(e){Cs=!0,Ef(e)}function on(){if(!Zs&&Nt!==null){Zs=!0;var e=0,t=Z;try{var n=Nt;for(Z=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Nt=null,Cs=!1}catch(o){throw Nt!==null&&(Nt=Nt.slice(e+1)),$c(Nl,on),o}finally{Z=t,Zs=!1}}return null}var Dn=[],bn=0,Xo=null,Zo=0,tt=[],nt=0,gn=null,_t=1,It="";function ln(e,t){Dn[bn++]=Zo,Dn[bn++]=Xo,Xo=e,Zo=t}function Cf(e,t,n){tt[nt++]=_t,tt[nt++]=It,tt[nt++]=gn,gn=e;var r=_t;e=It;var o=32-mt(r)-1;r&=~(1<<o),n+=1;var s=32-mt(t)+o;if(30<s){var l=o-o%5;s=(r&(1<<l)-1).toString(32),r>>=l,o-=l,_t=1<<32-mt(t)+o|n<<o|r,It=s+e}else _t=1<<s|n<<o|r,It=e}function Ll(e){e.return!==null&&(ln(e,1),Cf(e,1,0))}function Ul(e){for(;e===Xo;)Xo=Dn[--bn],Dn[bn]=null,Zo=Dn[--bn],Dn[bn]=null;for(;e===gn;)gn=tt[--nt],tt[nt]=null,It=tt[--nt],tt[nt]=null,_t=tt[--nt],tt[nt]=null}var je=null,Ke=null,le=!1,pt=null;function wf(e,t){var n=rt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ou(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,je=e,Ke=Kt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,je=e,Ke=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=gn!==null?{id:_t,overflow:It}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=rt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,je=e,Ke=null,!0):!1;default:return!1}}function Gi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function qi(e){if(le){var t=Ke;if(t){var n=t;if(!ou(e,t)){if(Gi(e))throw Error(D(418));t=Kt(n.nextSibling);var r=je;t&&ou(e,t)?wf(r,n):(e.flags=e.flags&-4097|2,le=!1,je=e)}}else{if(Gi(e))throw Error(D(418));e.flags=e.flags&-4097|2,le=!1,je=e}}}function su(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;je=e}function xo(e){if(e!==je)return!1;if(!le)return su(e),le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Li(e.type,e.memoizedProps)),t&&(t=Ke)){if(Gi(e))throw Sf(),Error(D(418));for(;t;)wf(e,t),t=Kt(t.nextSibling)}if(su(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ke=Kt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ke=null}}else Ke=je?Kt(e.stateNode.nextSibling):null;return!0}function Sf(){for(var e=Ke;e;)e=Kt(e.nextSibling)}function jn(){Ke=je=null,le=!1}function Fl(e){pt===null?pt=[e]:pt.push(e)}var l0=Lt.ReactCurrentBatchConfig;function mr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(l){var u=o.refs;l===null?delete u[s]:u[s]=l},t._stringRef=s,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function iu(e){var t=e._init;return t(e._payload)}function Tf(e){function t(x,y){if(e){var v=x.deletions;v===null?(x.deletions=[y],x.flags|=16):v.push(y)}}function n(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function o(x,y){return x=Zt(x,y),x.index=0,x.sibling=null,x}function s(x,y,v){return x.index=v,e?(v=x.alternate,v!==null?(v=v.index,v<y?(x.flags|=2,y):v):(x.flags|=2,y)):(x.flags|=1048576,y)}function l(x){return e&&x.alternate===null&&(x.flags|=2),x}function u(x,y,v,S){return y===null||y.tag!==6?(y=ii(v,x.mode,S),y.return=x,y):(y=o(y,v),y.return=x,y)}function c(x,y,v,S){var _=v.type;return _===_n?p(x,y,v.props.children,S,v.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===qt&&iu(_)===y.type)?(S=o(y,v.props),S.ref=mr(x,y,v),S.return=x,S):(S=Uo(v.type,v.key,v.props,null,x.mode,S),S.ref=mr(x,y,v),S.return=x,S)}function f(x,y,v,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=li(v,x.mode,S),y.return=x,y):(y=o(y,v.children||[]),y.return=x,y)}function p(x,y,v,S,_){return y===null||y.tag!==7?(y=mn(v,x.mode,S,_),y.return=x,y):(y=o(y,v),y.return=x,y)}function m(x,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ii(""+y,x.mode,v),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case lo:return v=Uo(y.type,y.key,y.props,null,x.mode,v),v.ref=mr(x,null,y),v.return=x,v;case Nn:return y=li(y,x.mode,v),y.return=x,y;case qt:var S=y._init;return m(x,S(y._payload),v)}if(Er(y)||ur(y))return y=mn(y,x.mode,v,null),y.return=x,y;vo(x,y)}return null}function h(x,y,v,S){var _=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return _!==null?null:u(x,y,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case lo:return v.key===_?c(x,y,v,S):null;case Nn:return v.key===_?f(x,y,v,S):null;case qt:return _=v._init,h(x,y,_(v._payload),S)}if(Er(v)||ur(v))return _!==null?null:p(x,y,v,S,null);vo(x,v)}return null}function g(x,y,v,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(v)||null,u(y,x,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case lo:return x=x.get(S.key===null?v:S.key)||null,c(y,x,S,_);case Nn:return x=x.get(S.key===null?v:S.key)||null,f(y,x,S,_);case qt:var R=S._init;return g(x,y,v,R(S._payload),_)}if(Er(S)||ur(S))return x=x.get(v)||null,p(y,x,S,_,null);vo(y,S)}return null}function E(x,y,v,S){for(var _=null,R=null,I=y,w=y=0,M=null;I!==null&&w<v.length;w++){I.index>w?(M=I,I=null):M=I.sibling;var b=h(x,I,v[w],S);if(b===null){I===null&&(I=M);break}e&&I&&b.alternate===null&&t(x,I),y=s(b,y,w),R===null?_=b:R.sibling=b,R=b,I=M}if(w===v.length)return n(x,I),le&&ln(x,w),_;if(I===null){for(;w<v.length;w++)I=m(x,v[w],S),I!==null&&(y=s(I,y,w),R===null?_=I:R.sibling=I,R=I);return le&&ln(x,w),_}for(I=r(x,I);w<v.length;w++)M=g(I,x,w,v[w],S),M!==null&&(e&&M.alternate!==null&&I.delete(M.key===null?w:M.key),y=s(M,y,w),R===null?_=M:R.sibling=M,R=M);return e&&I.forEach(function(H){return t(x,H)}),le&&ln(x,w),_}function C(x,y,v,S){var _=ur(v);if(typeof _!="function")throw Error(D(150));if(v=_.call(v),v==null)throw Error(D(151));for(var R=_=null,I=y,w=y=0,M=null,b=v.next();I!==null&&!b.done;w++,b=v.next()){I.index>w?(M=I,I=null):M=I.sibling;var H=h(x,I,b.value,S);if(H===null){I===null&&(I=M);break}e&&I&&H.alternate===null&&t(x,I),y=s(H,y,w),R===null?_=H:R.sibling=H,R=H,I=M}if(b.done)return n(x,I),le&&ln(x,w),_;if(I===null){for(;!b.done;w++,b=v.next())b=m(x,b.value,S),b!==null&&(y=s(b,y,w),R===null?_=b:R.sibling=b,R=b);return le&&ln(x,w),_}for(I=r(x,I);!b.done;w++,b=v.next())b=g(I,x,w,b.value,S),b!==null&&(e&&b.alternate!==null&&I.delete(b.key===null?w:b.key),y=s(b,y,w),R===null?_=b:R.sibling=b,R=b);return e&&I.forEach(function(k){return t(x,k)}),le&&ln(x,w),_}function T(x,y,v,S){if(typeof v=="object"&&v!==null&&v.type===_n&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case lo:e:{for(var _=v.key,R=y;R!==null;){if(R.key===_){if(_=v.type,_===_n){if(R.tag===7){n(x,R.sibling),y=o(R,v.props.children),y.return=x,x=y;break e}}else if(R.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===qt&&iu(_)===R.type){n(x,R.sibling),y=o(R,v.props),y.ref=mr(x,R,v),y.return=x,x=y;break e}n(x,R);break}else t(x,R);R=R.sibling}v.type===_n?(y=mn(v.props.children,x.mode,S,v.key),y.return=x,x=y):(S=Uo(v.type,v.key,v.props,null,x.mode,S),S.ref=mr(x,y,v),S.return=x,x=S)}return l(x);case Nn:e:{for(R=v.key;y!==null;){if(y.key===R)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(x,y.sibling),y=o(y,v.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else t(x,y);y=y.sibling}y=li(v,x.mode,S),y.return=x,x=y}return l(x);case qt:return R=v._init,T(x,y,R(v._payload),S)}if(Er(v))return E(x,y,v,S);if(ur(v))return C(x,y,v,S);vo(x,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(n(x,y.sibling),y=o(y,v),y.return=x,x=y):(n(x,y),y=ii(v,x.mode,S),y.return=x,x=y),l(x)):n(x,y)}return T}var Qn=Tf(!0),kf=Tf(!1),es=rn(null),ts=null,Ln=null,Vl=null;function Gl(){Vl=Ln=ts=null}function ql(e){var t=es.current;ie(es),e._currentValue=t}function Hi(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function zn(e,t){ts=e,Vl=Ln=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Be=!0),e.firstContext=null)}function it(e){var t=e._currentValue;if(Vl!==e)if(e={context:e,memoizedValue:t,next:null},Ln===null){if(ts===null)throw Error(D(308));Ln=e,ts.dependencies={lanes:0,firstContext:e}}else Ln=Ln.next=e;return t}var cn=null;function Hl(e){cn===null?cn=[e]:cn.push(e)}function Nf(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Hl(t)):(n.next=o.next,o.next=n),t.interleaved=n,Mt(e,r)}function Mt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ht=!1;function Bl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _f(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function At(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,j&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Mt(e,n)}return o=r.interleaved,o===null?(t.next=t,Hl(r)):(t.next=o.next,o.next=t),r.interleaved=t,Mt(e,n)}function Ro(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_l(e,n)}}function lu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ns(e,t,n,r){var o=e.updateQueue;Ht=!1;var s=o.firstBaseUpdate,l=o.lastBaseUpdate,u=o.shared.pending;if(u!==null){o.shared.pending=null;var c=u,f=c.next;c.next=null,l===null?s=f:l.next=f,l=c;var p=e.alternate;p!==null&&(p=p.updateQueue,u=p.lastBaseUpdate,u!==l&&(u===null?p.firstBaseUpdate=f:u.next=f,p.lastBaseUpdate=c))}if(s!==null){var m=o.baseState;l=0,p=f=c=null,u=s;do{var h=u.lane,g=u.eventTime;if((r&h)===h){p!==null&&(p=p.next={eventTime:g,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var E=e,C=u;switch(h=t,g=n,C.tag){case 1:if(E=C.payload,typeof E=="function"){m=E.call(g,m,h);break e}m=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=C.payload,h=typeof E=="function"?E.call(g,m,h):E,h==null)break e;m=ce({},m,h);break e;case 2:Ht=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[u]:h.push(u))}else g={eventTime:g,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},p===null?(f=p=g,c=m):p=p.next=g,l|=h;if(u=u.next,u===null){if(u=o.shared.pending,u===null)break;h=u,u=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(p===null&&(c=m),o.baseState=c,o.firstBaseUpdate=f,o.lastBaseUpdate=p,t=o.shared.interleaved,t!==null){o=t;do l|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);xn|=l,e.lanes=l,e.memoizedState=m}}function au(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(D(191,o));o.call(r)}}}var no={},St=rn(no),Jr=rn(no),Or=rn(no);function fn(e){if(e===no)throw Error(D(174));return e}function zl(e,t){switch(ne(Or,t),ne(Jr,e),ne(St,no),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ci(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ci(t,e)}ie(St),ne(St,t)}function Xn(){ie(St),ie(Jr),ie(Or)}function If(e){fn(Or.current);var t=fn(St.current),n=Ci(t,e.type);t!==n&&(ne(Jr,e),ne(St,n))}function $l(e){Jr.current===e&&(ie(St),ie(Jr))}var ue=rn(0);function rs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ei=[];function Jl(){for(var e=0;e<ei.length;e++)ei[e]._workInProgressVersionPrimary=null;ei.length=0}var Po=Lt.ReactCurrentDispatcher,ti=Lt.ReactCurrentBatchConfig,yn=0,de=null,ve=null,we=null,os=!1,Ir=!1,Wr=0,a0=0;function Ae(){throw Error(D(321))}function Ol(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gt(e[n],t[n]))return!1;return!0}function Wl(e,t,n,r,o,s){if(yn=s,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Po.current=e===null||e.memoizedState===null?f0:p0,e=n(r,o),Ir){s=0;do{if(Ir=!1,Wr=0,25<=s)throw Error(D(301));s+=1,we=ve=null,t.updateQueue=null,Po.current=m0,e=n(r,o)}while(Ir)}if(Po.current=ss,t=ve!==null&&ve.next!==null,yn=0,we=ve=de=null,os=!1,t)throw Error(D(300));return e}function Yl(){var e=Wr!==0;return Wr=0,e}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?de.memoizedState=we=e:we=we.next=e,we}function lt(){if(ve===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=ve.next;var t=we===null?de.memoizedState:we.next;if(t!==null)we=t,ve=e;else{if(e===null)throw Error(D(310));ve=e,e={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},we===null?de.memoizedState=we=e:we=we.next=e}return we}function Yr(e,t){return typeof t=="function"?t(e):t}function ni(e){var t=lt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=ve,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var l=o.next;o.next=s.next,s.next=l}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var u=l=null,c=null,f=s;do{var p=f.lane;if((yn&p)===p)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var m={lane:p,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(u=c=m,l=r):c=c.next=m,de.lanes|=p,xn|=p}f=f.next}while(f!==null&&f!==s);c===null?l=r:c.next=u,gt(r,t.memoizedState)||(Be=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,de.lanes|=s,xn|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ri(e){var t=lt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var l=o=o.next;do s=e(s,l.action),l=l.next;while(l!==o);gt(s,t.memoizedState)||(Be=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Af(){}function Rf(e,t){var n=de,r=lt(),o=t(),s=!gt(r.memoizedState,o);if(s&&(r.memoizedState=o,Be=!0),r=r.queue,Kl(Df.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||we!==null&&we.memoizedState.tag&1){if(n.flags|=2048,Kr(9,Mf.bind(null,n,r,o,t),void 0,null),Se===null)throw Error(D(349));yn&30||Pf(n,t,o)}return o}function Pf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Mf(e,t,n,r){t.value=n,t.getSnapshot=r,bf(t)&&Lf(e)}function Df(e,t,n){return n(function(){bf(t)&&Lf(e)})}function bf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gt(e,n)}catch{return!0}}function Lf(e){var t=Mt(e,1);t!==null&&ht(t,e,1,-1)}function uu(e){var t=Et();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:e},t.queue=e,e=e.dispatch=c0.bind(null,de,e),[t.memoizedState,e]}function Kr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Uf(){return lt().memoizedState}function Mo(e,t,n,r){var o=Et();de.flags|=e,o.memoizedState=Kr(1|t,n,void 0,r===void 0?null:r)}function ws(e,t,n,r){var o=lt();r=r===void 0?null:r;var s=void 0;if(ve!==null){var l=ve.memoizedState;if(s=l.destroy,r!==null&&Ol(r,l.deps)){o.memoizedState=Kr(t,n,s,r);return}}de.flags|=e,o.memoizedState=Kr(1|t,n,s,r)}function du(e,t){return Mo(8390656,8,e,t)}function Kl(e,t){return ws(2048,8,e,t)}function Ff(e,t){return ws(4,2,e,t)}function Vf(e,t){return ws(4,4,e,t)}function Gf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qf(e,t,n){return n=n!=null?n.concat([e]):null,ws(4,4,Gf.bind(null,t,e),n)}function jl(){}function Hf(e,t){var n=lt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ol(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Bf(e,t){var n=lt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ol(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function zf(e,t,n){return yn&21?(gt(n,t)||(n=Wc(),de.lanes|=n,xn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Be=!0),e.memoizedState=n)}function u0(e,t){var n=Z;Z=n!==0&&4>n?n:4,e(!0);var r=ti.transition;ti.transition={};try{e(!1),t()}finally{Z=n,ti.transition=r}}function $f(){return lt().memoizedState}function d0(e,t,n){var r=Xt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jf(e))Of(t,n);else if(n=Nf(e,t,n,r),n!==null){var o=Ue();ht(n,e,r,o),Wf(n,t,r)}}function c0(e,t,n){var r=Xt(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jf(e))Of(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,u=s(l,n);if(o.hasEagerState=!0,o.eagerState=u,gt(u,l)){var c=t.interleaved;c===null?(o.next=o,Hl(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=Nf(e,t,o,r),n!==null&&(o=Ue(),ht(n,e,r,o),Wf(n,t,r))}}function Jf(e){var t=e.alternate;return e===de||t!==null&&t===de}function Of(e,t){Ir=os=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Wf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_l(e,n)}}var ss={readContext:it,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useInsertionEffect:Ae,useLayoutEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useMutableSource:Ae,useSyncExternalStore:Ae,useId:Ae,unstable_isNewReconciler:!1},f0={readContext:it,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:it,useEffect:du,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Mo(4194308,4,Gf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var n=Et();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Et();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=d0.bind(null,de,e),[r.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:uu,useDebugValue:jl,useDeferredValue:function(e){return Et().memoizedState=e},useTransition:function(){var e=uu(!1),t=e[0];return e=u0.bind(null,e[1]),Et().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=de,o=Et();if(le){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),Se===null)throw Error(D(349));yn&30||Pf(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,du(Df.bind(null,r,s,e),[e]),r.flags|=2048,Kr(9,Mf.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Et(),t=Se.identifierPrefix;if(le){var n=It,r=_t;n=(r&~(1<<32-mt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Wr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=a0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},p0={readContext:it,useCallback:Hf,useContext:it,useEffect:Kl,useImperativeHandle:qf,useInsertionEffect:Ff,useLayoutEffect:Vf,useMemo:Bf,useReducer:ni,useRef:Uf,useState:function(){return ni(Yr)},useDebugValue:jl,useDeferredValue:function(e){var t=lt();return zf(t,ve.memoizedState,e)},useTransition:function(){var e=ni(Yr)[0],t=lt().memoizedState;return[e,t]},useMutableSource:Af,useSyncExternalStore:Rf,useId:$f,unstable_isNewReconciler:!1},m0={readContext:it,useCallback:Hf,useContext:it,useEffect:Kl,useImperativeHandle:qf,useInsertionEffect:Ff,useLayoutEffect:Vf,useMemo:Bf,useReducer:ri,useRef:Uf,useState:function(){return ri(Yr)},useDebugValue:jl,useDeferredValue:function(e){var t=lt();return ve===null?t.memoizedState=e:zf(t,ve.memoizedState,e)},useTransition:function(){var e=ri(Yr)[0],t=lt().memoizedState;return[e,t]},useMutableSource:Af,useSyncExternalStore:Rf,useId:$f,unstable_isNewReconciler:!1};function ct(e,t){if(e&&e.defaultProps){t=ce({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Bi(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ce({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ss={isMounted:function(e){return(e=e._reactInternals)?Cn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ue(),o=Xt(e),s=At(r,o);s.payload=t,n!=null&&(s.callback=n),t=jt(e,s,o),t!==null&&(ht(t,e,o,r),Ro(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ue(),o=Xt(e),s=At(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=jt(e,s,o),t!==null&&(ht(t,e,o,r),Ro(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ue(),r=Xt(e),o=At(n,r);o.tag=2,t!=null&&(o.callback=t),t=jt(e,o,r),t!==null&&(ht(t,e,r,n),Ro(t,e,r))}};function cu(e,t,n,r,o,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,l):t.prototype&&t.prototype.isPureReactComponent?!Hr(n,r)||!Hr(o,s):!0}function Yf(e,t,n){var r=!1,o=tn,s=t.contextType;return typeof s=="object"&&s!==null?s=it(s):(o=$e(t)?hn:De.current,r=t.contextTypes,s=(r=r!=null)?Kn(e,o):tn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ss,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function fu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ss.enqueueReplaceState(t,t.state,null)}function zi(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Bl(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=it(s):(s=$e(t)?hn:De.current,o.context=Kn(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Bi(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Ss.enqueueReplaceState(o,o.state,null),ns(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Zn(e,t){try{var n="",r=t;do n+=Bm(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function oi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function $i(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var h0=typeof WeakMap=="function"?WeakMap:Map;function Kf(e,t,n){n=At(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ls||(ls=!0,el=r),$i(e,t)},n}function jf(e,t,n){n=At(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){$i(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){$i(e,t),typeof r!="function"&&(Qt===null?Qt=new Set([this]):Qt.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function pu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new h0;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=A0.bind(null,e,t,n),t.then(e,e))}function mu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hu(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=At(-1,1),t.tag=2,jt(n,t,1))),n.lanes|=1),e)}var g0=Lt.ReactCurrentOwner,Be=!1;function Le(e,t,n,r){t.child=e===null?kf(t,null,n,r):Qn(t,e.child,n,r)}function gu(e,t,n,r,o){n=n.render;var s=t.ref;return zn(t,o),r=Wl(e,t,n,r,s,o),n=Yl(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Dt(e,t,o)):(le&&n&&Ll(t),t.flags|=1,Le(e,t,r,o),t.child)}function yu(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!oa(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Qf(e,t,s,r,o)):(e=Uo(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:Hr,n(l,r)&&e.ref===t.ref)return Dt(e,t,o)}return t.flags|=1,e=Zt(s,r),e.ref=t.ref,e.return=t,t.child=e}function Qf(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(Hr(s,r)&&e.ref===t.ref)if(Be=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(Be=!0);else return t.lanes=e.lanes,Dt(e,t,o)}return Ji(e,t,n,r,o)}function Xf(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ne(Fn,Ye),Ye|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ne(Fn,Ye),Ye|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ne(Fn,Ye),Ye|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,ne(Fn,Ye),Ye|=r;return Le(e,t,o,n),t.child}function Zf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ji(e,t,n,r,o){var s=$e(n)?hn:De.current;return s=Kn(t,s),zn(t,o),n=Wl(e,t,n,r,s,o),r=Yl(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Dt(e,t,o)):(le&&r&&Ll(t),t.flags|=1,Le(e,t,n,o),t.child)}function xu(e,t,n,r,o){if($e(n)){var s=!0;Qo(t)}else s=!1;if(zn(t,o),t.stateNode===null)Do(e,t),Yf(t,n,r),zi(t,n,r,o),r=!0;else if(e===null){var l=t.stateNode,u=t.memoizedProps;l.props=u;var c=l.context,f=n.contextType;typeof f=="object"&&f!==null?f=it(f):(f=$e(n)?hn:De.current,f=Kn(t,f));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==r||c!==f)&&fu(t,l,r,f),Ht=!1;var h=t.memoizedState;l.state=h,ns(t,r,l,o),c=t.memoizedState,u!==r||h!==c||ze.current||Ht?(typeof p=="function"&&(Bi(t,n,p,r),c=t.memoizedState),(u=Ht||cu(t,n,u,r,h,c,f))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),l.props=r,l.state=c,l.context=f,r=u):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,_f(e,t),u=t.memoizedProps,f=t.type===t.elementType?u:ct(t.type,u),l.props=f,m=t.pendingProps,h=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=it(c):(c=$e(n)?hn:De.current,c=Kn(t,c));var g=n.getDerivedStateFromProps;(p=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==m||h!==c)&&fu(t,l,r,c),Ht=!1,h=t.memoizedState,l.state=h,ns(t,r,l,o);var E=t.memoizedState;u!==m||h!==E||ze.current||Ht?(typeof g=="function"&&(Bi(t,n,g,r),E=t.memoizedState),(f=Ht||cu(t,n,f,r,h,E,c)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,E,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,E,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=E),l.props=r,l.state=E,l.context=c,r=f):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Oi(e,t,n,r,s,o)}function Oi(e,t,n,r,o,s){Zf(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return o&&ru(t,n,!1),Dt(e,t,s);r=t.stateNode,g0.current=t;var u=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Qn(t,e.child,null,s),t.child=Qn(t,null,u,s)):Le(e,t,u,s),t.memoizedState=r.state,o&&ru(t,n,!0),t.child}function ep(e){var t=e.stateNode;t.pendingContext?nu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nu(e,t.context,!1),zl(e,t.containerInfo)}function vu(e,t,n,r,o){return jn(),Fl(o),t.flags|=256,Le(e,t,n,r),t.child}var Wi={dehydrated:null,treeContext:null,retryLane:0};function Yi(e){return{baseLanes:e,cachePool:null,transitions:null}}function tp(e,t,n){var r=t.pendingProps,o=ue.current,s=!1,l=(t.flags&128)!==0,u;if((u=l)||(u=e!==null&&e.memoizedState===null?!1:(o&2)!==0),u?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ne(ue,o&1),e===null)return qi(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,s?(r=t.mode,s=t.child,l={mode:"hidden",children:l},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=Ns(l,r,0,null),e=mn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Yi(n),t.memoizedState=Wi,e):Ql(t,l));if(o=e.memoizedState,o!==null&&(u=o.dehydrated,u!==null))return y0(e,t,l,r,u,o,n);if(s){s=r.fallback,l=t.mode,o=e.child,u=o.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Zt(o,c),r.subtreeFlags=o.subtreeFlags&14680064),u!==null?s=Zt(u,s):(s=mn(s,l,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,l=e.child.memoizedState,l=l===null?Yi(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Wi,r}return s=e.child,e=s.sibling,r=Zt(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ql(e,t){return t=Ns({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Eo(e,t,n,r){return r!==null&&Fl(r),Qn(t,e.child,null,n),e=Ql(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function y0(e,t,n,r,o,s,l){if(n)return t.flags&256?(t.flags&=-257,r=oi(Error(D(422))),Eo(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Ns({mode:"visible",children:r.children},o,0,null),s=mn(s,o,l,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Qn(t,e.child,null,l),t.child.memoizedState=Yi(l),t.memoizedState=Wi,s);if(!(t.mode&1))return Eo(e,t,l,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(D(419)),r=oi(s,r,void 0),Eo(e,t,l,r)}if(u=(l&e.childLanes)!==0,Be||u){if(r=Se,r!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|l)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Mt(e,o),ht(r,e,o,-1))}return ra(),r=oi(Error(D(421))),Eo(e,t,l,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=R0.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,Ke=Kt(o.nextSibling),je=t,le=!0,pt=null,e!==null&&(tt[nt++]=_t,tt[nt++]=It,tt[nt++]=gn,_t=e.id,It=e.overflow,gn=t),t=Ql(t,r.children),t.flags|=4096,t)}function Eu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Hi(e.return,t,n)}function si(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function np(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(Le(e,t,r.children,n),r=ue.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Eu(e,n,t);else if(e.tag===19)Eu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ne(ue,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&rs(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),si(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&rs(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}si(t,!0,n,null,s);break;case"together":si(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Do(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Dt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),xn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=Zt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function x0(e,t,n){switch(t.tag){case 3:ep(t),jn();break;case 5:If(t);break;case 1:$e(t.type)&&Qo(t);break;case 4:zl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ne(es,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ne(ue,ue.current&1),t.flags|=128,null):n&t.child.childLanes?tp(e,t,n):(ne(ue,ue.current&1),e=Dt(e,t,n),e!==null?e.sibling:null);ne(ue,ue.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return np(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ne(ue,ue.current),r)break;return null;case 22:case 23:return t.lanes=0,Xf(e,t,n)}return Dt(e,t,n)}var rp,Ki,op,sp;rp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ki=function(){};op=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,fn(St.current);var s=null;switch(n){case"input":o=yi(e,o),r=yi(e,r),s=[];break;case"select":o=ce({},o,{value:void 0}),r=ce({},r,{value:void 0}),s=[];break;case"textarea":o=Ei(e,o),r=Ei(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ko)}wi(n,r);var l;n=null;for(f in o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&o[f]!=null)if(f==="style"){var u=o[f];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(br.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var c=r[f];if(u=o!=null?o[f]:void 0,r.hasOwnProperty(f)&&c!==u&&(c!=null||u!=null))if(f==="style")if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(s||(s=[]),s.push(f,n)),n=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(s=s||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(br.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&re("scroll",e),s||u===c||(s=[])):(s=s||[]).push(f,c))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}};sp=function(e,t,n,r){n!==r&&(t.flags|=4)};function hr(e,t){if(!le)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Re(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function v0(e,t,n){var r=t.pendingProps;switch(Ul(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(t),null;case 1:return $e(t.type)&&jo(),Re(t),null;case 3:return r=t.stateNode,Xn(),ie(ze),ie(De),Jl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(xo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pt!==null&&(rl(pt),pt=null))),Ki(e,t),Re(t),null;case 5:$l(t);var o=fn(Or.current);if(n=t.type,e!==null&&t.stateNode!=null)op(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(D(166));return Re(t),null}if(e=fn(St.current),xo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Ct]=t,r[$r]=s,e=(t.mode&1)!==0,n){case"dialog":re("cancel",r),re("close",r);break;case"iframe":case"object":case"embed":re("load",r);break;case"video":case"audio":for(o=0;o<wr.length;o++)re(wr[o],r);break;case"source":re("error",r);break;case"img":case"image":case"link":re("error",r),re("load",r);break;case"details":re("toggle",r);break;case"input":Aa(r,s),re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},re("invalid",r);break;case"textarea":Pa(r,s),re("invalid",r)}wi(n,s),o=null;for(var l in s)if(s.hasOwnProperty(l)){var u=s[l];l==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&yo(r.textContent,u,e),o=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&yo(r.textContent,u,e),o=["children",""+u]):br.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&re("scroll",r)}switch(n){case"input":ao(r),Ra(r,s,!0);break;case"textarea":ao(r),Ma(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ko)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Mc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Ct]=t,e[$r]=r,rp(e,t,!1,!1),t.stateNode=e;e:{switch(l=Si(n,r),n){case"dialog":re("cancel",e),re("close",e),o=r;break;case"iframe":case"object":case"embed":re("load",e),o=r;break;case"video":case"audio":for(o=0;o<wr.length;o++)re(wr[o],e);o=r;break;case"source":re("error",e),o=r;break;case"img":case"image":case"link":re("error",e),re("load",e),o=r;break;case"details":re("toggle",e),o=r;break;case"input":Aa(e,r),o=yi(e,r),re("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=ce({},r,{value:void 0}),re("invalid",e);break;case"textarea":Pa(e,r),o=Ei(e,r),re("invalid",e);break;default:o=r}wi(n,o),u=o;for(s in u)if(u.hasOwnProperty(s)){var c=u[s];s==="style"?Lc(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Dc(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Lr(e,c):typeof c=="number"&&Lr(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(br.hasOwnProperty(s)?c!=null&&s==="onScroll"&&re("scroll",e):c!=null&&Cl(e,s,c,l))}switch(n){case"input":ao(e),Ra(e,r,!1);break;case"textarea":ao(e),Ma(e);break;case"option":r.value!=null&&e.setAttribute("value",""+en(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Gn(e,!!r.multiple,s,!1):r.defaultValue!=null&&Gn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Ko)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Re(t),null;case 6:if(e&&t.stateNode!=null)sp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(n=fn(Or.current),fn(St.current),xo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ct]=t,(s=r.nodeValue!==n)&&(e=je,e!==null))switch(e.tag){case 3:yo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yo(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ct]=t,t.stateNode=r}return Re(t),null;case 13:if(ie(ue),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(le&&Ke!==null&&t.mode&1&&!(t.flags&128))Sf(),jn(),t.flags|=98560,s=!1;else if(s=xo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(D(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(D(317));s[Ct]=t}else jn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Re(t),s=!1}else pt!==null&&(rl(pt),pt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ue.current&1?Ee===0&&(Ee=3):ra())),t.updateQueue!==null&&(t.flags|=4),Re(t),null);case 4:return Xn(),Ki(e,t),e===null&&Br(t.stateNode.containerInfo),Re(t),null;case 10:return ql(t.type._context),Re(t),null;case 17:return $e(t.type)&&jo(),Re(t),null;case 19:if(ie(ue),s=t.memoizedState,s===null)return Re(t),null;if(r=(t.flags&128)!==0,l=s.rendering,l===null)if(r)hr(s,!1);else{if(Ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=rs(e),l!==null){for(t.flags|=128,hr(s,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ne(ue,ue.current&1|2),t.child}e=e.sibling}s.tail!==null&&he()>er&&(t.flags|=128,r=!0,hr(s,!1),t.lanes=4194304)}else{if(!r)if(e=rs(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),hr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!le)return Re(t),null}else 2*he()-s.renderingStartTime>er&&n!==1073741824&&(t.flags|=128,r=!0,hr(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(n=s.last,n!==null?n.sibling=l:t.child=l,s.last=l)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=he(),t.sibling=null,n=ue.current,ne(ue,r?n&1|2:n&1),t):(Re(t),null);case 22:case 23:return na(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ye&1073741824&&(Re(t),t.subtreeFlags&6&&(t.flags|=8192)):Re(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function E0(e,t){switch(Ul(t),t.tag){case 1:return $e(t.type)&&jo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xn(),ie(ze),ie(De),Jl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $l(t),null;case 13:if(ie(ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));jn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(ue),null;case 4:return Xn(),null;case 10:return ql(t.type._context),null;case 22:case 23:return na(),null;case 24:return null;default:return null}}var Co=!1,Pe=!1,C0=typeof WeakSet=="function"?WeakSet:Set,V=null;function Un(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pe(e,t,r)}else n.current=null}function ji(e,t,n){try{n()}catch(r){pe(e,t,r)}}var Cu=!1;function w0(e,t){if(Di=Oo,e=df(),bl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,u=-1,c=-1,f=0,p=0,m=e,h=null;t:for(;;){for(var g;m!==n||o!==0&&m.nodeType!==3||(u=l+o),m!==s||r!==0&&m.nodeType!==3||(c=l+r),m.nodeType===3&&(l+=m.nodeValue.length),(g=m.firstChild)!==null;)h=m,m=g;for(;;){if(m===e)break t;if(h===n&&++f===o&&(u=l),h===s&&++p===r&&(c=l),(g=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=g}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(bi={focusedElem:e,selectionRange:n},Oo=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var C=E.memoizedProps,T=E.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?C:ct(t.type,C),T);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(S){pe(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return E=Cu,Cu=!1,E}function Ar(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&ji(t,n,s)}o=o.next}while(o!==r)}}function Ts(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Qi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ip(e){var t=e.alternate;t!==null&&(e.alternate=null,ip(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ct],delete t[$r],delete t[Fi],delete t[o0],delete t[s0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lp(e){return e.tag===5||e.tag===3||e.tag===4}function wu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ko));else if(r!==4&&(e=e.child,e!==null))for(Xi(e,t,n),e=e.sibling;e!==null;)Xi(e,t,n),e=e.sibling}function Zi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Zi(e,t,n),e=e.sibling;e!==null;)Zi(e,t,n),e=e.sibling}var ke=null,ft=!1;function Gt(e,t,n){for(n=n.child;n!==null;)ap(e,t,n),n=n.sibling}function ap(e,t,n){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(gs,n)}catch{}switch(n.tag){case 5:Pe||Un(n,t);case 6:var r=ke,o=ft;ke=null,Gt(e,t,n),ke=r,ft=o,ke!==null&&(ft?(e=ke,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ke.removeChild(n.stateNode));break;case 18:ke!==null&&(ft?(e=ke,n=n.stateNode,e.nodeType===8?Xs(e.parentNode,n):e.nodeType===1&&Xs(e,n),Gr(e)):Xs(ke,n.stateNode));break;case 4:r=ke,o=ft,ke=n.stateNode.containerInfo,ft=!0,Gt(e,t,n),ke=r,ft=o;break;case 0:case 11:case 14:case 15:if(!Pe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&ji(n,t,l),o=o.next}while(o!==r)}Gt(e,t,n);break;case 1:if(!Pe&&(Un(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){pe(n,t,u)}Gt(e,t,n);break;case 21:Gt(e,t,n);break;case 22:n.mode&1?(Pe=(r=Pe)||n.memoizedState!==null,Gt(e,t,n),Pe=r):Gt(e,t,n);break;default:Gt(e,t,n)}}function Su(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new C0),t.forEach(function(r){var o=P0.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function dt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,l=t,u=l;e:for(;u!==null;){switch(u.tag){case 5:ke=u.stateNode,ft=!1;break e;case 3:ke=u.stateNode.containerInfo,ft=!0;break e;case 4:ke=u.stateNode.containerInfo,ft=!0;break e}u=u.return}if(ke===null)throw Error(D(160));ap(s,l,o),ke=null,ft=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(f){pe(o,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)up(t,e),t=t.sibling}function up(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dt(t,e),vt(e),r&4){try{Ar(3,e,e.return),Ts(3,e)}catch(C){pe(e,e.return,C)}try{Ar(5,e,e.return)}catch(C){pe(e,e.return,C)}}break;case 1:dt(t,e),vt(e),r&512&&n!==null&&Un(n,n.return);break;case 5:if(dt(t,e),vt(e),r&512&&n!==null&&Un(n,n.return),e.flags&32){var o=e.stateNode;try{Lr(o,"")}catch(C){pe(e,e.return,C)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,l=n!==null?n.memoizedProps:s,u=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&Rc(o,s),Si(u,l);var f=Si(u,s);for(l=0;l<c.length;l+=2){var p=c[l],m=c[l+1];p==="style"?Lc(o,m):p==="dangerouslySetInnerHTML"?Dc(o,m):p==="children"?Lr(o,m):Cl(o,p,m,f)}switch(u){case"input":xi(o,s);break;case"textarea":Pc(o,s);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Gn(o,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?Gn(o,!!s.multiple,s.defaultValue,!0):Gn(o,!!s.multiple,s.multiple?[]:"",!1))}o[$r]=s}catch(C){pe(e,e.return,C)}}break;case 6:if(dt(t,e),vt(e),r&4){if(e.stateNode===null)throw Error(D(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(C){pe(e,e.return,C)}}break;case 3:if(dt(t,e),vt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gr(t.containerInfo)}catch(C){pe(e,e.return,C)}break;case 4:dt(t,e),vt(e);break;case 13:dt(t,e),vt(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(ea=he())),r&4&&Su(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Pe=(f=Pe)||p,dt(t,e),Pe=f):dt(t,e),vt(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!p&&e.mode&1)for(V=e,p=e.child;p!==null;){for(m=V=p;V!==null;){switch(h=V,g=h.child,h.tag){case 0:case 11:case 14:case 15:Ar(4,h,h.return);break;case 1:Un(h,h.return);var E=h.stateNode;if(typeof E.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(C){pe(r,n,C)}}break;case 5:Un(h,h.return);break;case 22:if(h.memoizedState!==null){ku(m);continue}}g!==null?(g.return=h,V=g):ku(m)}p=p.sibling}e:for(p=null,m=e;;){if(m.tag===5){if(p===null){p=m;try{o=m.stateNode,f?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=m.stateNode,c=m.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=bc("display",l))}catch(C){pe(e,e.return,C)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=f?"":m.memoizedProps}catch(C){pe(e,e.return,C)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:dt(t,e),vt(e),r&4&&Su(e);break;case 21:break;default:dt(t,e),vt(e)}}function vt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(lp(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Lr(o,""),r.flags&=-33);var s=wu(e);Zi(e,s,o);break;case 3:case 4:var l=r.stateNode.containerInfo,u=wu(e);Xi(e,u,l);break;default:throw Error(D(161))}}catch(c){pe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function S0(e,t,n){V=e,dp(e)}function dp(e,t,n){for(var r=(e.mode&1)!==0;V!==null;){var o=V,s=o.child;if(o.tag===22&&r){var l=o.memoizedState!==null||Co;if(!l){var u=o.alternate,c=u!==null&&u.memoizedState!==null||Pe;u=Co;var f=Pe;if(Co=l,(Pe=c)&&!f)for(V=o;V!==null;)l=V,c=l.child,l.tag===22&&l.memoizedState!==null?Nu(o):c!==null?(c.return=l,V=c):Nu(o);for(;s!==null;)V=s,dp(s),s=s.sibling;V=o,Co=u,Pe=f}Tu(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,V=s):Tu(e)}}function Tu(e){for(;V!==null;){var t=V;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pe||Ts(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Pe)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ct(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&au(t,s,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}au(t,l,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var p=f.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&Gr(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}Pe||t.flags&512&&Qi(t)}catch(h){pe(t,t.return,h)}}if(t===e){V=null;break}if(n=t.sibling,n!==null){n.return=t.return,V=n;break}V=t.return}}function ku(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var n=t.sibling;if(n!==null){n.return=t.return,V=n;break}V=t.return}}function Nu(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ts(4,t)}catch(c){pe(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){pe(t,o,c)}}var s=t.return;try{Qi(t)}catch(c){pe(t,s,c)}break;case 5:var l=t.return;try{Qi(t)}catch(c){pe(t,l,c)}}}catch(c){pe(t,t.return,c)}if(t===e){V=null;break}var u=t.sibling;if(u!==null){u.return=t.return,V=u;break}V=t.return}}var T0=Math.ceil,is=Lt.ReactCurrentDispatcher,Xl=Lt.ReactCurrentOwner,ot=Lt.ReactCurrentBatchConfig,j=0,Se=null,xe=null,_e=0,Ye=0,Fn=rn(0),Ee=0,jr=null,xn=0,ks=0,Zl=0,Rr=null,qe=null,ea=0,er=1/0,kt=null,ls=!1,el=null,Qt=null,wo=!1,Jt=null,as=0,Pr=0,tl=null,bo=-1,Lo=0;function Ue(){return j&6?he():bo!==-1?bo:bo=he()}function Xt(e){return e.mode&1?j&2&&_e!==0?_e&-_e:l0.transition!==null?(Lo===0&&(Lo=Wc()),Lo):(e=Z,e!==0||(e=window.event,e=e===void 0?16:ef(e.type)),e):1}function ht(e,t,n,r){if(50<Pr)throw Pr=0,tl=null,Error(D(185));Zr(e,n,r),(!(j&2)||e!==Se)&&(e===Se&&(!(j&2)&&(ks|=n),Ee===4&&zt(e,_e)),Je(e,r),n===1&&j===0&&!(t.mode&1)&&(er=he()+500,Cs&&on()))}function Je(e,t){var n=e.callbackNode;lh(e,t);var r=Jo(e,e===Se?_e:0);if(r===0)n!==null&&La(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&La(n),t===1)e.tag===0?i0(_u.bind(null,e)):Ef(_u.bind(null,e)),n0(function(){!(j&6)&&on()}),n=null;else{switch(Yc(r)){case 1:n=Nl;break;case 4:n=Jc;break;case 16:n=$o;break;case 536870912:n=Oc;break;default:n=$o}n=xp(n,cp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function cp(e,t){if(bo=-1,Lo=0,j&6)throw Error(D(327));var n=e.callbackNode;if($n()&&e.callbackNode!==n)return null;var r=Jo(e,e===Se?_e:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=us(e,r);else{t=r;var o=j;j|=2;var s=pp();(Se!==e||_e!==t)&&(kt=null,er=he()+500,pn(e,t));do try{_0();break}catch(u){fp(e,u)}while(!0);Gl(),is.current=s,j=o,xe!==null?t=0:(Se=null,_e=0,t=Ee)}if(t!==0){if(t===2&&(o=Ii(e),o!==0&&(r=o,t=nl(e,o))),t===1)throw n=jr,pn(e,0),zt(e,r),Je(e,he()),n;if(t===6)zt(e,r);else{if(o=e.current.alternate,!(r&30)&&!k0(o)&&(t=us(e,r),t===2&&(s=Ii(e),s!==0&&(r=s,t=nl(e,s))),t===1))throw n=jr,pn(e,0),zt(e,r),Je(e,he()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(D(345));case 2:an(e,qe,kt);break;case 3:if(zt(e,r),(r&130023424)===r&&(t=ea+500-he(),10<t)){if(Jo(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ue(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ui(an.bind(null,e,qe,kt),t);break}an(e,qe,kt);break;case 4:if(zt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var l=31-mt(r);s=1<<l,l=t[l],l>o&&(o=l),r&=~s}if(r=o,r=he()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*T0(r/1960))-r,10<r){e.timeoutHandle=Ui(an.bind(null,e,qe,kt),r);break}an(e,qe,kt);break;case 5:an(e,qe,kt);break;default:throw Error(D(329))}}}return Je(e,he()),e.callbackNode===n?cp.bind(null,e):null}function nl(e,t){var n=Rr;return e.current.memoizedState.isDehydrated&&(pn(e,t).flags|=256),e=us(e,t),e!==2&&(t=qe,qe=n,t!==null&&rl(t)),e}function rl(e){qe===null?qe=e:qe.push.apply(qe,e)}function k0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!gt(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zt(e,t){for(t&=~Zl,t&=~ks,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-mt(t),r=1<<n;e[n]=-1,t&=~r}}function _u(e){if(j&6)throw Error(D(327));$n();var t=Jo(e,0);if(!(t&1))return Je(e,he()),null;var n=us(e,t);if(e.tag!==0&&n===2){var r=Ii(e);r!==0&&(t=r,n=nl(e,r))}if(n===1)throw n=jr,pn(e,0),zt(e,t),Je(e,he()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,an(e,qe,kt),Je(e,he()),null}function ta(e,t){var n=j;j|=1;try{return e(t)}finally{j=n,j===0&&(er=he()+500,Cs&&on())}}function vn(e){Jt!==null&&Jt.tag===0&&!(j&6)&&$n();var t=j;j|=1;var n=ot.transition,r=Z;try{if(ot.transition=null,Z=1,e)return e()}finally{Z=r,ot.transition=n,j=t,!(j&6)&&on()}}function na(){Ye=Fn.current,ie(Fn)}function pn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,t0(n)),xe!==null)for(n=xe.return;n!==null;){var r=n;switch(Ul(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jo();break;case 3:Xn(),ie(ze),ie(De),Jl();break;case 5:$l(r);break;case 4:Xn();break;case 13:ie(ue);break;case 19:ie(ue);break;case 10:ql(r.type._context);break;case 22:case 23:na()}n=n.return}if(Se=e,xe=e=Zt(e.current,null),_e=Ye=t,Ee=0,jr=null,Zl=ks=xn=0,qe=Rr=null,cn!==null){for(t=0;t<cn.length;t++)if(n=cn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var l=s.next;s.next=o,r.next=l}n.pending=r}cn=null}return e}function fp(e,t){do{var n=xe;try{if(Gl(),Po.current=ss,os){for(var r=de.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}os=!1}if(yn=0,we=ve=de=null,Ir=!1,Wr=0,Xl.current=null,n===null||n.return===null){Ee=1,jr=t,xe=null;break}e:{var s=e,l=n.return,u=n,c=t;if(t=_e,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,p=u,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var h=p.alternate;h?(p.updateQueue=h.updateQueue,p.memoizedState=h.memoizedState,p.lanes=h.lanes):(p.updateQueue=null,p.memoizedState=null)}var g=mu(l);if(g!==null){g.flags&=-257,hu(g,l,u,s,t),g.mode&1&&pu(s,f,t),t=g,c=f;var E=t.updateQueue;if(E===null){var C=new Set;C.add(c),t.updateQueue=C}else E.add(c);break e}else{if(!(t&1)){pu(s,f,t),ra();break e}c=Error(D(426))}}else if(le&&u.mode&1){var T=mu(l);if(T!==null){!(T.flags&65536)&&(T.flags|=256),hu(T,l,u,s,t),Fl(Zn(c,u));break e}}s=c=Zn(c,u),Ee!==4&&(Ee=2),Rr===null?Rr=[s]:Rr.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=Kf(s,c,t);lu(s,x);break e;case 1:u=c;var y=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Qt===null||!Qt.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=jf(s,u,t);lu(s,S);break e}}s=s.return}while(s!==null)}hp(n)}catch(_){t=_,xe===n&&n!==null&&(xe=n=n.return);continue}break}while(!0)}function pp(){var e=is.current;return is.current=ss,e===null?ss:e}function ra(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),Se===null||!(xn&268435455)&&!(ks&268435455)||zt(Se,_e)}function us(e,t){var n=j;j|=2;var r=pp();(Se!==e||_e!==t)&&(kt=null,pn(e,t));do try{N0();break}catch(o){fp(e,o)}while(!0);if(Gl(),j=n,is.current=r,xe!==null)throw Error(D(261));return Se=null,_e=0,Ee}function N0(){for(;xe!==null;)mp(xe)}function _0(){for(;xe!==null&&!Xm();)mp(xe)}function mp(e){var t=yp(e.alternate,e,Ye);e.memoizedProps=e.pendingProps,t===null?hp(e):xe=t,Xl.current=null}function hp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=E0(n,t),n!==null){n.flags&=32767,xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ee=6,xe=null;return}}else if(n=v0(n,t,Ye),n!==null){xe=n;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);Ee===0&&(Ee=5)}function an(e,t,n){var r=Z,o=ot.transition;try{ot.transition=null,Z=1,I0(e,t,n,r)}finally{ot.transition=o,Z=r}return null}function I0(e,t,n,r){do $n();while(Jt!==null);if(j&6)throw Error(D(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(ah(e,s),e===Se&&(xe=Se=null,_e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wo||(wo=!0,xp($o,function(){return $n(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ot.transition,ot.transition=null;var l=Z;Z=1;var u=j;j|=4,Xl.current=null,w0(e,n),up(n,e),Yh(bi),Oo=!!Di,bi=Di=null,e.current=n,S0(n),Zm(),j=u,Z=l,ot.transition=s}else e.current=n;if(wo&&(wo=!1,Jt=e,as=o),s=e.pendingLanes,s===0&&(Qt=null),nh(n.stateNode),Je(e,he()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(ls)throw ls=!1,e=el,el=null,e;return as&1&&e.tag!==0&&$n(),s=e.pendingLanes,s&1?e===tl?Pr++:(Pr=0,tl=e):Pr=0,on(),null}function $n(){if(Jt!==null){var e=Yc(as),t=ot.transition,n=Z;try{if(ot.transition=null,Z=16>e?16:e,Jt===null)var r=!1;else{if(e=Jt,Jt=null,as=0,j&6)throw Error(D(331));var o=j;for(j|=4,V=e.current;V!==null;){var s=V,l=s.child;if(V.flags&16){var u=s.deletions;if(u!==null){for(var c=0;c<u.length;c++){var f=u[c];for(V=f;V!==null;){var p=V;switch(p.tag){case 0:case 11:case 15:Ar(8,p,s)}var m=p.child;if(m!==null)m.return=p,V=m;else for(;V!==null;){p=V;var h=p.sibling,g=p.return;if(ip(p),p===f){V=null;break}if(h!==null){h.return=g,V=h;break}V=g}}}var E=s.alternate;if(E!==null){var C=E.child;if(C!==null){E.child=null;do{var T=C.sibling;C.sibling=null,C=T}while(C!==null)}}V=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,V=l;else e:for(;V!==null;){if(s=V,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ar(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,V=x;break e}V=s.return}}var y=e.current;for(V=y;V!==null;){l=V;var v=l.child;if(l.subtreeFlags&2064&&v!==null)v.return=l,V=v;else e:for(l=y;V!==null;){if(u=V,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Ts(9,u)}}catch(_){pe(u,u.return,_)}if(u===l){V=null;break e}var S=u.sibling;if(S!==null){S.return=u.return,V=S;break e}V=u.return}}if(j=o,on(),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(gs,e)}catch{}r=!0}return r}finally{Z=n,ot.transition=t}}return!1}function Iu(e,t,n){t=Zn(n,t),t=Kf(e,t,1),e=jt(e,t,1),t=Ue(),e!==null&&(Zr(e,1,t),Je(e,t))}function pe(e,t,n){if(e.tag===3)Iu(e,e,n);else for(;t!==null;){if(t.tag===3){Iu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qt===null||!Qt.has(r))){e=Zn(n,e),e=jf(t,e,1),t=jt(t,e,1),e=Ue(),t!==null&&(Zr(t,1,e),Je(t,e));break}}t=t.return}}function A0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ue(),e.pingedLanes|=e.suspendedLanes&n,Se===e&&(_e&n)===n&&(Ee===4||Ee===3&&(_e&130023424)===_e&&500>he()-ea?pn(e,0):Zl|=n),Je(e,t)}function gp(e,t){t===0&&(e.mode&1?(t=fo,fo<<=1,!(fo&130023424)&&(fo=4194304)):t=1);var n=Ue();e=Mt(e,t),e!==null&&(Zr(e,t,n),Je(e,n))}function R0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),gp(e,n)}function P0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(t),gp(e,n)}var yp;yp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ze.current)Be=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Be=!1,x0(e,t,n);Be=!!(e.flags&131072)}else Be=!1,le&&t.flags&1048576&&Cf(t,Zo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Do(e,t),e=t.pendingProps;var o=Kn(t,De.current);zn(t,n),o=Wl(null,t,r,e,o,n);var s=Yl();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$e(r)?(s=!0,Qo(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Bl(t),o.updater=Ss,t.stateNode=o,o._reactInternals=t,zi(t,r,e,n),t=Oi(null,t,r,!0,s,n)):(t.tag=0,le&&s&&Ll(t),Le(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Do(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=D0(r),e=ct(r,e),o){case 0:t=Ji(null,t,r,e,n);break e;case 1:t=xu(null,t,r,e,n);break e;case 11:t=gu(null,t,r,e,n);break e;case 14:t=yu(null,t,r,ct(r.type,e),n);break e}throw Error(D(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ct(r,o),Ji(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ct(r,o),xu(e,t,r,o,n);case 3:e:{if(ep(t),e===null)throw Error(D(387));r=t.pendingProps,s=t.memoizedState,o=s.element,_f(e,t),ns(t,r,null,n);var l=t.memoizedState;if(r=l.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=Zn(Error(D(423)),t),t=vu(e,t,r,n,o);break e}else if(r!==o){o=Zn(Error(D(424)),t),t=vu(e,t,r,n,o);break e}else for(Ke=Kt(t.stateNode.containerInfo.firstChild),je=t,le=!0,pt=null,n=kf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jn(),r===o){t=Dt(e,t,n);break e}Le(e,t,r,n)}t=t.child}return t;case 5:return If(t),e===null&&qi(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,l=o.children,Li(r,o)?l=null:s!==null&&Li(r,s)&&(t.flags|=32),Zf(e,t),Le(e,t,l,n),t.child;case 6:return e===null&&qi(t),null;case 13:return tp(e,t,n);case 4:return zl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Qn(t,null,r,n):Le(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ct(r,o),gu(e,t,r,o,n);case 7:return Le(e,t,t.pendingProps,n),t.child;case 8:return Le(e,t,t.pendingProps.children,n),t.child;case 12:return Le(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,l=o.value,ne(es,r._currentValue),r._currentValue=l,s!==null)if(gt(s.value,l)){if(s.children===o.children&&!ze.current){t=Dt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var u=s.dependencies;if(u!==null){l=s.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=At(-1,n&-n),c.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var p=f.pending;p===null?c.next=c:(c.next=p.next,p.next=c),f.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Hi(s.return,n,t),u.lanes|=n;break}c=c.next}}else if(s.tag===10)l=s.type===t.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(D(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Hi(l,n,t),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===t){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}Le(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,zn(t,n),o=it(o),r=r(o),t.flags|=1,Le(e,t,r,n),t.child;case 14:return r=t.type,o=ct(r,t.pendingProps),o=ct(r.type,o),yu(e,t,r,o,n);case 15:return Qf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ct(r,o),Do(e,t),t.tag=1,$e(r)?(e=!0,Qo(t)):e=!1,zn(t,n),Yf(t,r,o),zi(t,r,o,n),Oi(null,t,r,!0,e,n);case 19:return np(e,t,n);case 22:return Xf(e,t,n)}throw Error(D(156,t.tag))};function xp(e,t){return $c(e,t)}function M0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rt(e,t,n,r){return new M0(e,t,n,r)}function oa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function D0(e){if(typeof e=="function")return oa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Sl)return 11;if(e===Tl)return 14}return 2}function Zt(e,t){var n=e.alternate;return n===null?(n=rt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Uo(e,t,n,r,o,s){var l=2;if(r=e,typeof e=="function")oa(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case _n:return mn(n.children,o,s,t);case wl:l=8,o|=8;break;case pi:return e=rt(12,n,t,o|2),e.elementType=pi,e.lanes=s,e;case mi:return e=rt(13,n,t,o),e.elementType=mi,e.lanes=s,e;case hi:return e=rt(19,n,t,o),e.elementType=hi,e.lanes=s,e;case _c:return Ns(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kc:l=10;break e;case Nc:l=9;break e;case Sl:l=11;break e;case Tl:l=14;break e;case qt:l=16,r=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=rt(l,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function mn(e,t,n,r){return e=rt(7,e,r,t),e.lanes=n,e}function Ns(e,t,n,r){return e=rt(22,e,r,t),e.elementType=_c,e.lanes=n,e.stateNode={isHidden:!1},e}function ii(e,t,n){return e=rt(6,e,null,t),e.lanes=n,e}function li(e,t,n){return t=rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function b0(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hs(0),this.expirationTimes=Hs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hs(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function sa(e,t,n,r,o,s,l,u,c){return e=new b0(e,t,n,u,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=rt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bl(s),e}function L0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function vp(e){if(!e)return tn;e=e._reactInternals;e:{if(Cn(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($e(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if($e(n))return vf(e,n,t)}return t}function Ep(e,t,n,r,o,s,l,u,c){return e=sa(n,r,!0,e,o,s,l,u,c),e.context=vp(null),n=e.current,r=Ue(),o=Xt(n),s=At(r,o),s.callback=t??null,jt(n,s,o),e.current.lanes=o,Zr(e,o,r),Je(e,r),e}function _s(e,t,n,r){var o=t.current,s=Ue(),l=Xt(o);return n=vp(n),t.context===null?t.context=n:t.pendingContext=n,t=At(s,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=jt(o,t,l),e!==null&&(ht(e,o,l,s),Ro(e,o,l)),l}function ds(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Au(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ia(e,t){Au(e,t),(e=e.alternate)&&Au(e,t)}function U0(){return null}var Cp=typeof reportError=="function"?reportError:function(e){console.error(e)};function la(e){this._internalRoot=e}Is.prototype.render=la.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));_s(e,t,null,null)};Is.prototype.unmount=la.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vn(function(){_s(null,e,null,null)}),t[Pt]=null}};function Is(e){this._internalRoot=e}Is.prototype.unstable_scheduleHydration=function(e){if(e){var t=Qc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bt.length&&t!==0&&t<Bt[n].priority;n++);Bt.splice(n,0,e),n===0&&Zc(e)}};function aa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function As(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ru(){}function F0(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var f=ds(l);s.call(f)}}var l=Ep(t,r,e,0,null,!1,!1,"",Ru);return e._reactRootContainer=l,e[Pt]=l.current,Br(e.nodeType===8?e.parentNode:e),vn(),l}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var u=r;r=function(){var f=ds(c);u.call(f)}}var c=sa(e,0,!1,null,null,!1,!1,"",Ru);return e._reactRootContainer=c,e[Pt]=c.current,Br(e.nodeType===8?e.parentNode:e),vn(function(){_s(t,c,n,r)}),c}function Rs(e,t,n,r,o){var s=n._reactRootContainer;if(s){var l=s;if(typeof o=="function"){var u=o;o=function(){var c=ds(l);u.call(c)}}_s(t,l,e,o)}else l=F0(n,t,e,o,r);return ds(l)}Kc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Cr(t.pendingLanes);n!==0&&(_l(t,n|1),Je(t,he()),!(j&6)&&(er=he()+500,on()))}break;case 13:vn(function(){var r=Mt(e,1);if(r!==null){var o=Ue();ht(r,e,1,o)}}),ia(e,1)}};Il=function(e){if(e.tag===13){var t=Mt(e,134217728);if(t!==null){var n=Ue();ht(t,e,134217728,n)}ia(e,134217728)}};jc=function(e){if(e.tag===13){var t=Xt(e),n=Mt(e,t);if(n!==null){var r=Ue();ht(n,e,t,r)}ia(e,t)}};Qc=function(){return Z};Xc=function(e,t){var n=Z;try{return Z=e,t()}finally{Z=n}};ki=function(e,t,n){switch(t){case"input":if(xi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Es(r);if(!o)throw Error(D(90));Ac(r),xi(r,o)}}}break;case"textarea":Pc(e,n);break;case"select":t=n.value,t!=null&&Gn(e,!!n.multiple,t,!1)}};Vc=ta;Gc=vn;var V0={usingClientEntryPoint:!1,Events:[to,Pn,Es,Uc,Fc,ta]},gr={findFiberByHostInstance:dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},G0={bundleType:gr.bundleType,version:gr.version,rendererPackageName:gr.rendererPackageName,rendererConfig:gr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Bc(e),e===null?null:e.stateNode},findFiberByHostInstance:gr.findFiberByHostInstance||U0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var So=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!So.isDisabled&&So.supportsFiber)try{gs=So.inject(G0),wt=So}catch{}}Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V0;Xe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!aa(t))throw Error(D(200));return L0(e,t,null,n)};Xe.createRoot=function(e,t){if(!aa(e))throw Error(D(299));var n=!1,r="",o=Cp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=sa(e,1,!1,null,null,n,!1,r,o),e[Pt]=t.current,Br(e.nodeType===8?e.parentNode:e),new la(t)};Xe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=Bc(t),e=e===null?null:e.stateNode,e};Xe.flushSync=function(e){return vn(e)};Xe.hydrate=function(e,t,n){if(!As(t))throw Error(D(200));return Rs(null,e,t,!0,n)};Xe.hydrateRoot=function(e,t,n){if(!aa(e))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",l=Cp;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Ep(t,null,e,1,n??null,o,!1,s,l),e[Pt]=t.current,Br(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Is(t)};Xe.render=function(e,t,n){if(!As(t))throw Error(D(200));return Rs(null,e,t,!1,n)};Xe.unmountComponentAtNode=function(e){if(!As(e))throw Error(D(40));return e._reactRootContainer?(vn(function(){Rs(null,null,e,!1,function(){e._reactRootContainer=null,e[Pt]=null})}),!0):!1};Xe.unstable_batchedUpdates=ta;Xe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!As(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return Rs(e,t,n,!1,r)};Xe.version="18.3.1-next-f1338f8080-20240426";function wp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wp)}catch(e){console.error(e)}}wp(),Cc.exports=Xe;var q0=Cc.exports,Pu=q0;ci.createRoot=Pu.createRoot,ci.hydrateRoot=Pu.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var H0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),q=(e,t)=>{const n=P.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:u="",children:c,...f},p)=>P.createElement("svg",{ref:p,...H0,width:o,height:o,stroke:r,strokeWidth:l?Number(s)*24/Number(o):s,className:["lucide",`lucide-${B0(e)}`,u].join(" "),...f},[...t.map(([m,h])=>P.createElement(m,h)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=q("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=q("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=q("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=q("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=q("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=q("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=q("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=q("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=q("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=q("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=q("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=q("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=q("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=q("FileCode",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=q("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=q("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=q("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=q("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=q("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=q("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=q("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=q("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=q("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=q("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=q("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=q("MoveRight",[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=q("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=q("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=q("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=q("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=q("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=q("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=q("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=q("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=q("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=q("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var Y=(e=>(e.PENDING="PENDING",e.IN_PROGRESS="IN_PROGRESS",e.COMPLETED="COMPLETED",e.REJECTED="REJECTED",e.RETURNED="RETURNED",e))(Y||{}),ye=(e=>(e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.CRITICAL="CRITICAL",e))(ye||{});const Ne="DEVELOPER",yg="https://automation-hub-backend.vercel.app",Lu="https://automation-hub-backend.vercel.app",un=(Lu.trim().length>0?Lu:yg).replace(/\/$/,""),kn=async e=>{try{const t=await e.json(),n=(t==null?void 0:t.detail)||(t==null?void 0:t.message);return n?new Error(n):new Error(JSON.stringify(t))}catch{const t=await e.text();return new Error(t||e.statusText)}},yr=()=>{const e=sessionStorage.getItem("rah_access_token"),t={"Content-Type":"application/json"};return e&&(t.Authorization=`Bearer ${e}`),t},se={get:async e=>{const t=await fetch(`${un}${e}`,{method:"GET",headers:yr()});if(!t.ok)throw await kn(t);return t.json()},post:async(e,t)=>{const n=await fetch(`${un}${e}`,{method:"POST",headers:yr(),body:t?JSON.stringify(t):void 0});if(!n.ok)throw await kn(n);return n.json()},postForm:async(e,t)=>{const n=sessionStorage.getItem("rah_access_token"),r={};n&&(r.Authorization=`Bearer ${n}`);const o=await fetch(`${un}${e}`,{method:"POST",headers:r,body:t});if(!o.ok)throw await kn(o);return o.json()},patch:async(e,t)=>{const n=await fetch(`${un}${e}`,{method:"PATCH",headers:yr(),body:JSON.stringify(t)});if(!n.ok)throw await kn(n);return n.json()},put:async(e,t)=>{const n=await fetch(`${un}${e}`,{method:"PUT",headers:yr(),body:JSON.stringify(t)});if(!n.ok)throw await kn(n);return n.json()},delete:async e=>{const t=await fetch(`${un}${e}`,{method:"DELETE",headers:yr()});if(!t.ok)throw await kn(t);if(t.status===204)return null;const n=await t.text();if(!n)return null;try{return JSON.parse(n)}catch{return n}}},Uu=async()=>await se.get("/requests"),xg=async e=>{await se.post("/requests",e)},To=async e=>{await se.put(`/requests/${e.id}`,e)},Mp=e=>new Promise((t,n)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(r.result),r.onerror=o=>n(o)}),Dp=async e=>{try{await se.post("/notifications/email",e)}catch(t){console.error("Failed to send email notification:",t)}},vg=async(e,t)=>{const n=await se.post("/auth/login",{username:e,password:t});if(n.access_token)return sessionStorage.setItem("rah_access_token",n.access_token),n.user;throw new Error("Login failed: No access token received")},Eg=async()=>{if(!sessionStorage.getItem("rah_access_token"))return null;try{return await se.get("/users/me")}catch{return bp(),null}},bp=()=>{sessionStorage.removeItem("rah_access_token"),window.location.reload()},Cg=async()=>await se.get("/users"),wg=async(e,t,n,r)=>await se.post("/users",{name:e,email:t,password:n,role:r}),Sg=async e=>{await se.delete(`/users/${e}`)},Tg=async(e,t)=>await se.patch(`/users/${e}/role`,{role:t}),Lp=P.createContext(void 0),kg=({children:e})=>{const[t,n]=P.useState(null),[r,o]=P.useState(!0);P.useEffect(()=>{(async()=>{try{const c=await Eg();n(c)}catch(c){console.error("Session check failed",c)}finally{o(!1)}})()},[]);const s=async(u,c)=>{o(!0);try{const f=await vg(u,c);n(f),sessionStorage.setItem("rah_current_user_id",f.id)}finally{o(!1)}},l=()=>{bp(),n(null)};return d.jsx(Lp.Provider,{value:{user:t,isLoading:r,login:s,logout:l},children:e})},or=()=>{const e=P.useContext(Lp);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Fu={title:"",desc:"",priority:ye.MEDIUM,project:"",role:"",revitVersion:"2024",dueDate:"",files:[],submissionCount:0},Ng=({requests:e,onRequestCreate:t,onViewRequest:n})=>{const{user:r}=or(),[o,s]=P.useState("DASHBOARD"),[l,u]=P.useState(!1),c=e.filter(k=>k.requesterId===(r==null?void 0:r.id)),f=c.filter(k=>k.status===Y.PENDING).length,p=c.filter(k=>k.status===Y.IN_PROGRESS).length,m=c.filter(k=>k.status===Y.COMPLETED).length,h=c.filter(k=>k.status!==Y.COMPLETED),g=c.filter(k=>k.status===Y.COMPLETED),[E,C]=P.useState(()=>({...Fu,role:(r==null?void 0:r.role)||""})),[T,x]=P.useState(!1),[y,v]=P.useState({});P.useEffect(()=>{r!=null&&r.role&&C(k=>({...k,role:k.role||r.role}))},[r==null?void 0:r.role]);const S=k=>`${k.name}_${k.lastModified}`,_=k=>k.type.startsWith("image/")||k.type==="application/pdf",R=()=>{C({...Fu,role:(r==null?void 0:r.role)||""}),Object.values(y).forEach(k=>URL.revokeObjectURL(k)),v({})},I=k=>k===ye.CRITICAL?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-200":k===ye.HIGH?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-200":k===ye.MEDIUM?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-200":"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-200",w=k=>{if(k.target.files&&k.target.files.length>0){const B=Array.from(k.target.files),X={};B.forEach(J=>{_(J)&&(X[S(J)]=URL.createObjectURL(J))}),v(J=>({...J,...X})),C(J=>({...J,files:[...J.files,...B]}))}},M=k=>{C(B=>{const X=B.files[k];if(X){const J=S(X),$=y[J];$&&URL.revokeObjectURL($);const te={...y};delete te[J],v(te)}return{...B,files:B.files.filter((J,$)=>$!==k)}})},b=()=>{R(),s("DASHBOARD")},H=async k=>{k.preventDefault(),x(!0);try{const B=(E.role||"").trim()||(r==null?void 0:r.role)||"";if(!B){alert("Please enter your role before submitting."),x(!1);return}const X=(E.submissionCount||0)+1,J=await Promise.all(E.files.map(async te=>({name:te.name,type:te.type,data:await Mp(te)}))),$={id:`req_${Date.now()}`,title:E.title,description:E.desc,priority:E.priority,status:Y.PENDING,requesterName:(r==null?void 0:r.name)||"Unknown",requesterId:(r==null?void 0:r.id)||"unknown",requesterRole:B,projectName:E.project,revitVersion:E.revitVersion,dueDate:E.dueDate,createdAt:Date.now(),updatedAt:Date.now(),attachments:J};$.submissionCount=X,await xg($),await Dp({subject:`New Automation Request: ${$.title}`,body:`A new request has been submitted by ${$.requesterName}.

Project: ${$.projectName}
Priority: ${$.priority}

Please check the Developer Portal.`}),t(),R(),s("DASHBOARD"),u(!0)}catch(B){console.error(B),alert("Failed to submit request")}finally{x(!1)}};return o==="NEW"?d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-6 text-slate-500 dark:text-slate-300 text-sm",children:[d.jsx("button",{onClick:b,className:"hover:text-indigo-600 transition",children:"Dashboard"}),d.jsx("span",{children:"/"}),d.jsx("span",{className:"text-slate-900 dark:text-white",children:"New Request"})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-1",children:"Submit Automation Request"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-300 mb-8",children:"Provide details about the manual task you want automated."}),d.jsxs("form",{onSubmit:H,className:"space-y-8",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Request Title"}),d.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",placeholder:"e.g., Automatic Room Tagging based on Department",value:E.title,onChange:k=>C({...E,title:k.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Project Name"}),d.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",placeholder:"e.g. Skyline Tower",value:E.project,onChange:k=>C({...E,project:k.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Your Role / Discipline"}),d.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",placeholder:"e.g. Architect, BIM Manager, Engineer",value:E.role,onChange:k=>C({...E,role:k.target.value})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Revit Version"}),d.jsx("select",{className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",value:E.revitVersion,onChange:k=>C({...E,revitVersion:k.target.value}),children:["2022","2023","2024","2025"].map(k=>d.jsxs("option",{value:k,children:["Revit ",k]},k))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Priority Level"}),d.jsx("select",{className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",value:E.priority,onChange:k=>C({...E,priority:k.target.value}),children:Object.values(ye).map(k=>d.jsx("option",{value:k,children:k},k))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Desired Due Date (Optional)"}),d.jsx("input",{type:"date",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",value:E.dueDate,onChange:k=>C({...E,dueDate:k.target.value})})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Detailed Description"}),d.jsx("textarea",{required:!0,rows:6,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",placeholder:"Describe the current workflow, the logic for automation, and specific requirements...",value:E.desc,onChange:k=>C({...E,desc:k.target.value})})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Attachments (Screenshots/Sample Files)"}),d.jsx("div",{className:"flex items-center justify-center w-full",children:d.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-slate-300 dark:border-slate-600 border-dashed rounded-lg cursor-pointer bg-slate-50 dark:bg-slate-800 hover:bg-slate-100 dark:hover:bg-slate-700 transition group",children:[d.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[d.jsx(ag,{className:"w-8 h-8 text-slate-400 dark:text-slate-500 group-hover:text-indigo-500 transition mb-2"}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-300",children:"Click to upload files"})]}),d.jsx("input",{type:"file",className:"hidden",multiple:!0,onChange:w})]})}),E.files.length>0&&d.jsx("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:E.files.map((k,B)=>{var G;const X=S(k),J=y[X],$=k.name.includes(".")?(G=k.name.split(".").pop())==null?void 0:G.toUpperCase():"",te=k.type.startsWith("image/"),L=k.type==="application/pdf";return d.jsxs("div",{className:"relative border border-slate-200 rounded-lg bg-white shadow-sm overflow-hidden",children:[d.jsx("button",{type:"button",onClick:()=>M(B),className:"absolute top-2 right-2 bg-white/80 hover:bg-red-50 border border-slate-200 rounded-full p-1 text-slate-500 hover:text-red-600 transition",title:"Remove file",children:d.jsx(gg,{className:"w-4 h-4"})}),d.jsx("div",{className:"h-32 bg-slate-50 flex items-center justify-center",children:te&&J?d.jsx("img",{src:J,alt:k.name,className:"h-full w-full object-cover"}):L&&J?d.jsx("object",{data:J,type:k.type,className:"h-full w-full","aria-label":k.name,children:d.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[d.jsx(ui,{className:"w-4 h-4"})," PDF preview unavailable"]})}):d.jsxs("div",{className:"flex flex-col items-center text-slate-500",children:[d.jsx(ui,{className:"w-6 h-6 mb-1"}),d.jsx("span",{className:"text-xs",children:"Preview unavailable"})]})}),d.jsxs("div",{className:"flex items-center justify-between px-3 py-2 text-xs text-slate-600",children:[d.jsx("span",{className:"truncate pr-2",children:k.name}),d.jsx("span",{className:"font-semibold text-slate-500",children:$})]})]},X)})})]})]}),d.jsxs("div",{className:"flex gap-4 pt-6 border-t border-slate-100",children:[d.jsx("button",{type:"button",onClick:b,className:"px-6 py-2.5 border border-slate-300 rounded-lg text-slate-700 hover:bg-slate-50 transition font-medium",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:T,className:"flex-1 px-6 py-2.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition flex justify-center items-center gap-2 font-medium shadow-sm shadow-indigo-200",children:T?d.jsx(Fe,{className:"w-4 h-4 animate-spin"}):l?"Resubmit Request":"Submit Request"})]})]})]})]}):d.jsxs("div",{className:"space-y-8 text-slate-900 dark:text-slate-100",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm flex items-center gap-4",children:[d.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-3 rounded-full",children:d.jsx(O0,{className:"w-6 h-6 text-blue-600 dark:text-blue-200"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-300 font-medium",children:"Pending Requests"}),d.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:f})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm flex items-center gap-4",children:[d.jsx("div",{className:"bg-orange-100 dark:bg-orange-900/30 p-3 rounded-full",children:d.jsx(Qr,{className:"w-6 h-6 text-orange-600 dark:text-orange-200"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-300 font-medium",children:"In Progress"}),d.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:p})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm flex items-center gap-4",children:[d.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 p-3 rounded-full",children:d.jsx(Y0,{className:"w-6 h-6 text-green-600 dark:text-green-200"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-300 font-medium",children:"Completed"}),d.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:m})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden",children:[d.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-800 flex justify-between items-center bg-slate-50/50 dark:bg-slate-900/70",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Request History"}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-300 mt-1",children:"Track the status of your automation requests."})]}),d.jsxs("button",{onClick:()=>s("NEW"),className:"bg-indigo-600 text-white px-5 py-2.5 rounded-lg flex items-center gap-2 hover:bg-indigo-700 transition shadow-sm font-medium",children:[d.jsx(dg,{className:"w-4 h-4"})," New Request"]})]}),c.length===0?d.jsxs("div",{className:"text-center py-16",children:[d.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(ui,{className:"w-8 h-8 text-slate-400 dark:text-slate-500"})}),d.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white",children:"No requests yet"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-300 mb-6",children:"Start by submitting your first automation idea."})]}):d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between px-6 pt-6",children:[d.jsx("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200 uppercase tracking-wide",children:"Awaiting / In progress"}),d.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:[h.length," item",h.length===1?"":"s"]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left text-sm text-slate-600 dark:text-slate-200",children:[d.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800 text-slate-700 dark:text-slate-200 font-semibold uppercase text-xs",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-4",children:"Title"}),d.jsx("th",{className:"px-6 py-4",children:"Project"}),d.jsx("th",{className:"px-6 py-4",children:"Created"}),d.jsx("th",{className:"px-6 py-4",children:"Priority"}),d.jsx("th",{className:"px-6 py-4",children:"Status"}),d.jsx("th",{className:"px-6 py-4 text-right",children:"Action"})]})}),d.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:[h.map(k=>{var X;const B=k.submissionCount??((X=k.submissionEvents)==null?void 0:X.length)??0;return d.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800 transition cursor-pointer",onClick:()=>n(k),children:[d.jsx("td",{className:"px-6 py-4 font-medium text-slate-900 dark:text-slate-100",children:k.title}),d.jsx("td",{className:"px-6 py-4",children:k.projectName}),d.jsx("td",{className:"px-6 py-4",children:new Date(k.createdAt).toLocaleDateString()}),d.jsx("td",{className:"px-6 py-4",children:d.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-[11px] font-semibold ${I(k.priority)}`,children:k.priority})}),d.jsxs("td",{className:"px-6 py-4",children:[d.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${k.status===Y.COMPLETED?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":k.status===Y.IN_PROGRESS?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-200":k.status===Y.RETURNED?"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-200":k.status===Y.REJECTED?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-200":"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-200"}`,children:k.status.replace("_"," ")}),B>1&&d.jsxs("span",{className:"ml-2 text-[11px] text-slate-500 dark:text-slate-300",children:["(",B-1," resubmit",B-1===1?"":"s",")"]})]}),d.jsx("td",{className:"px-6 py-4 text-right",children:d.jsx("button",{className:"text-indigo-600 dark:text-indigo-300 hover:text-indigo-800 dark:hover:text-indigo-200 font-medium text-xs",children:"View Details"})})]},k.id)}),h.length===0&&d.jsx("tr",{children:d.jsx("td",{className:"px-6 py-4 text-sm text-slate-500 dark:text-slate-300",colSpan:6,children:"No active requests."})})]})]})})]}),d.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-800 pt-4",children:[d.jsxs("div",{className:"flex items-center justify-between px-6 pb-2",children:[d.jsx("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200 uppercase tracking-wide",children:"Completed"}),d.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:[g.length," item",g.length===1?"":"s"]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left text-sm text-slate-600 dark:text-slate-200",children:[d.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800 text-slate-700 dark:text-slate-200 font-semibold uppercase text-xs",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-4",children:"Title"}),d.jsx("th",{className:"px-6 py-4",children:"Project"}),d.jsx("th",{className:"px-6 py-4",children:"Created"}),d.jsx("th",{className:"px-6 py-4",children:"Priority"}),d.jsx("th",{className:"px-6 py-4",children:"Status"}),d.jsx("th",{className:"px-6 py-4 text-right",children:"Action"})]})}),d.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:[g.map(k=>{var X;const B=k.submissionCount??((X=k.submissionEvents)==null?void 0:X.length)??0;return d.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800 transition cursor-pointer",onClick:()=>n(k),children:[d.jsx("td",{className:"px-6 py-4 font-medium text-slate-900 dark:text-slate-100",children:k.title}),d.jsx("td",{className:"px-6 py-4",children:k.projectName}),d.jsx("td",{className:"px-6 py-4",children:new Date(k.createdAt).toLocaleDateString()}),d.jsx("td",{className:"px-6 py-4",children:d.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-[11px] font-semibold ${I(k.priority)}`,children:k.priority})}),d.jsxs("td",{className:"px-6 py-4",children:[d.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300",children:"Completed"}),B>1&&d.jsxs("span",{className:"ml-2 text-[11px] text-slate-500 dark:text-slate-300",children:["(",B-1," resubmit",B-1===1?"":"s",")"]})]}),d.jsx("td",{className:"px-6 py-4 text-right",children:d.jsx("button",{className:"text-indigo-600 dark:text-indigo-300 hover:text-indigo-800 dark:hover:text-indigo-200 font-medium text-xs",children:"View Details"})})]},k.id)}),g.length===0&&d.jsx("tr",{children:d.jsx("td",{className:"px-6 py-4 text-sm text-slate-500 dark:text-slate-300",colSpan:6,children:"No completed requests yet."})})]})]})})]})]})]})]})},_g=({requests:e,onViewRequest:t})=>{const[n,r]=P.useState("BOARD"),[o,s]=P.useState(""),[l,u]=P.useState("ALL"),[c,f]=P.useState("ALL"),[p,m]=P.useState("DESC"),h=P.useMemo(()=>Array.from(new Set(e.map(w=>w.projectName))).sort(),[e]),g=P.useMemo(()=>{let w=e.filter(M=>M.title.toLowerCase().includes(o.toLowerCase())||M.requesterName.toLowerCase().includes(o.toLowerCase()));return l!=="ALL"&&(w=w.filter(M=>M.priority===l)),c!=="ALL"&&(w=w.filter(M=>M.projectName===c)),w.sort((M,b)=>p==="DESC"?b.createdAt-M.createdAt:M.createdAt-b.createdAt),w},[e,o,l,c,p]),E=new Set([Y.PENDING,Y.IN_PROGRESS,Y.RETURNED]),C=e.filter(w=>w.status===Y.COMPLETED),T=C.length?C.reduce((w,M)=>w+Math.max(0,M.updatedAt-M.createdAt),0)/C.length/(1e3*60*60*24):0,x={total:e.length,pending:e.filter(w=>w.status===Y.PENDING).length,highPriority:e.filter(w=>E.has(w.status)&&(w.priority===ye.HIGH||w.priority===ye.CRITICAL)).length,avgTurnaround:T},y={[ye.CRITICAL]:3,[ye.HIGH]:2,[ye.MEDIUM]:1,[ye.LOW]:0},v=g.filter(w=>w.status===Y.PENDING||w.status===Y.RETURNED).slice().sort((w,M)=>y[M.priority]-y[w.priority]),S=g.filter(w=>w.status===Y.IN_PROGRESS),_=g.filter(w=>w.status===Y.COMPLETED),R=g.filter(w=>w.status===Y.REJECTED),I=({req:w})=>{var b;const M=w.submissionCount??((b=w.submissionEvents)==null?void 0:b.length)??0;return d.jsxs("div",{onClick:()=>t(w),className:"bg-white dark:bg-slate-800/80 px-3 py-2 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 hover:shadow-md hover:border-indigo-400 dark:hover:border-indigo-500 cursor-pointer transition flex flex-col gap-1 group relative",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded tracking-wide leading-none ${w.priority===ye.CRITICAL?"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-300":w.priority===ye.HIGH?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-200":"bg-slate-100 text-slate-600 dark:bg-slate-700/60 dark:text-slate-200"}`,children:w.priority}),d.jsxs("div",{className:"flex items-center gap-1",children:[w.status===Y.RETURNED&&d.jsx("span",{className:"text-[10px] bg-orange-100 text-orange-700 dark:bg-orange-900/40 dark:text-orange-200 px-2 py-0.5 rounded-full border border-orange-200 dark:border-orange-800 font-semibold",children:"Returned"}),d.jsxs("span",{className:"text-[10px] text-slate-500 dark:text-slate-300 font-mono bg-slate-50 dark:bg-slate-700/60 px-1.5 py-0.5 rounded border border-slate-100 dark:border-slate-600 leading-none",children:["R",w.revitVersion]})]})]}),d.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-100 leading-tight text-sm line-clamp-1",children:w.title}),d.jsxs("div",{className:"flex items-center justify-between text-[11px] text-slate-500 dark:text-slate-300",children:[d.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[d.jsx(kp,{className:"w-3 h-3 text-slate-400 dark:text-slate-500"}),d.jsx("span",{className:"truncate",children:w.projectName})]}),w.dueDate&&d.jsxs("span",{className:"text-[10px] text-slate-400 dark:text-slate-300 ml-2 shrink-0",children:["Due ",new Date(w.dueDate).toLocaleDateString(void 0,{month:"short",day:"numeric"})]})]}),d.jsxs("div",{className:"pt-1 border-t border-slate-100 dark:border-slate-700 flex items-center justify-between text-[11px]",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-5 h-5 rounded-full bg-indigo-100 dark:bg-indigo-900/40 text-indigo-600 dark:text-indigo-200 flex items-center justify-center text-[10px] font-bold uppercase",children:w.requesterName.charAt(0)}),d.jsx("span",{className:"text-[11px] text-slate-500 dark:text-slate-300 truncate max-w-[80px]",children:w.requesterName.split(" ")[0]})]}),M>1&&d.jsxs("span",{className:"text-[10px] text-orange-500 dark:text-orange-300 font-semibold",children:["Resubmitted x",M-1]})]})]})};return d.jsxs("div",{className:"flex flex-col space-y-6 pb-12 text-slate-900 dark:text-slate-100",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase font-semibold",children:"Total Requests"}),d.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mt-1",children:x.total})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase font-semibold",children:"Inbox (Pending)"}),d.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400 mt-1",children:x.pending})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase font-semibold",children:"High Priority"}),d.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400 mt-1",children:x.highPriority})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase font-semibold",children:"Avg Turnaround"}),d.jsx("p",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-300 mt-1",children:x.avgTurnaround?`${x.avgTurnaround.toFixed(1)} Days`:""})]})]}),d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center bg-white dark:bg-slate-900 p-2 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm gap-3",children:[d.jsxs("div",{className:"relative w-full sm:w-auto flex-1 max-w-md",children:[d.jsx(_p,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),d.jsx("input",{type:"text",placeholder:"Search requests...",className:"pl-9 pr-4 py-2 text-sm border-none focus:ring-0 w-full text-slate-700 dark:text-slate-100 placeholder-slate-400 dark:placeholder-slate-500 bg-transparent",value:o,onChange:w=>s(w.target.value)})]}),d.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800/80 p-1 rounded-md w-full sm:w-auto border border-slate-200 dark:border-slate-700",children:[d.jsxs("button",{onClick:()=>r("BOARD"),className:`flex-1 sm:flex-none px-3 py-2 rounded flex items-center justify-center gap-2 text-sm font-medium transition ${n==="BOARD"?"bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm":"text-slate-500 dark:text-slate-300 hover:text-slate-700 dark:hover:text-white"}`,children:[d.jsx(ng,{className:"w-4 h-4"})," Board"]}),d.jsxs("button",{onClick:()=>r("LIST"),className:`flex-1 sm:flex-none px-3 py-2 rounded flex items-center justify-center gap-2 text-sm font-medium transition ${n==="LIST"?"bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm":"text-slate-500 dark:text-slate-300 hover:text-slate-700 dark:hover:text-white"}`,children:[d.jsx(rg,{className:"w-4 h-4"})," List"]})]})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-3 bg-white dark:bg-slate-900 px-4 py-3 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm text-sm",children:[d.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-300 mr-2",children:[d.jsx(X0,{className:"w-4 h-4"}),d.jsx("span",{className:"font-semibold text-xs uppercase",children:"Filters"})]}),d.jsxs("select",{value:l,onChange:w=>u(w.target.value),className:"bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-100 rounded-md px-2 py-1.5 focus:ring-1 focus:ring-indigo-500 outline-none",children:[d.jsx("option",{value:"ALL",children:"All Priorities"}),d.jsx("option",{value:ye.CRITICAL,children:"Critical"}),d.jsx("option",{value:ye.HIGH,children:"High"}),d.jsx("option",{value:ye.MEDIUM,children:"Medium"}),d.jsx("option",{value:ye.LOW,children:"Low"})]}),d.jsxs("select",{value:c,onChange:w=>f(w.target.value),className:"bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-100 rounded-md px-2 py-1.5 focus:ring-1 focus:ring-indigo-500 outline-none max-w-[150px]",children:[d.jsx("option",{value:"ALL",children:"All Projects"}),h.map(w=>d.jsx("option",{value:w,children:w},w))]}),d.jsx("div",{className:"w-px h-5 bg-slate-200 mx-2 hidden sm:block"}),d.jsxs("div",{className:"flex items-center gap-2 text-slate-500 ml-auto sm:ml-0",children:[d.jsx($0,{className:"w-4 h-4"}),d.jsx("span",{className:"font-semibold text-xs uppercase",children:"Sort Date"})]}),d.jsxs("select",{value:p,onChange:w=>m(w.target.value),className:"bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-100 rounded-md px-2 py-1.5 focus:ring-1 focus:ring-indigo-500 outline-none",children:[d.jsx("option",{value:"DESC",children:"Newest First"}),d.jsx("option",{value:"ASC",children:"Oldest First"})]}),(l!=="ALL"||c!=="ALL")&&d.jsx("button",{onClick:()=>{u("ALL"),f("ALL")},className:"ml-auto text-xs text-red-500 hover:text-red-700 font-medium",children:"Clear Filters"})]})]}),d.jsx("div",{children:n==="BOARD"?d.jsxs("div",{className:"flex flex-col gap-8",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900/30 p-1.5 rounded-md shadow-sm",children:d.jsx(Qr,{className:"w-4 h-4 text-yellow-700 dark:text-yellow-300"})}),d.jsx("h3",{className:"font-bold text-slate-800 dark:text-white text-lg",children:"Inbox"}),d.jsx("span",{className:"bg-yellow-50 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-200 border border-yellow-200 dark:border-yellow-800 px-2.5 py-0.5 rounded-full text-xs font-bold shadow-sm",children:v.length})]}),d.jsx("div",{className:"bg-slate-100/50 dark:bg-slate-900/40 p-6 rounded-xl border border-slate-200 dark:border-slate-700 border-dashed",children:v.length===0?d.jsxs("div",{className:"text-center py-8 text-slate-400 dark:text-slate-500 text-sm",children:[d.jsx(Qr,{className:"w-8 h-8 mx-auto mb-2 opacity-20"}),"No pending requests matching filters."]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:v.map(w=>d.jsx(I,{req:w},w.id))})})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white text-lg mb-4 flex items-center gap-2",children:[d.jsx(eg,{className:"w-5 h-5 text-slate-500"})," Workflows"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2 border-b-2 border-blue-500 pb-2 bg-white dark:bg-slate-900 px-3 py-2 rounded-t-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),d.jsx("h3",{className:"font-semibold text-slate-800 dark:text-white text-sm",children:"In Development"}),d.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-300 font-medium ml-auto bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded-full border border-slate-200 dark:border-slate-700",children:S.length})]}),d.jsxs("div",{className:"space-y-2.5",children:[S.map(w=>d.jsx(I,{req:w},w.id)),S.length===0&&d.jsx("div",{className:"h-24 rounded-lg border border-dashed border-slate-200 dark:border-slate-700 flex items-center justify-center text-xs text-slate-400 dark:text-slate-500",children:"No active tasks"})]})]}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2 border-b-2 border-green-500 pb-2 bg-white dark:bg-slate-900 px-3 py-2 rounded-t-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),d.jsx("h3",{className:"font-semibold text-slate-800 dark:text-white text-sm",children:"Done"}),d.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-300 font-medium ml-auto bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded-full border border-slate-200 dark:border-slate-700",children:_.length})]}),d.jsxs("div",{className:"space-y-2.5",children:[_.map(w=>d.jsx(I,{req:w},w.id)),_.length===0&&d.jsx("div",{className:"h-24 rounded-lg border border-dashed border-slate-200 dark:border-slate-700 flex items-center justify-center text-xs text-slate-400 dark:text-slate-500",children:"No completed tasks"})]})]}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2 border-b-2 border-red-500 pb-2 bg-white dark:bg-slate-900 px-3 py-2 rounded-t-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),d.jsx("h3",{className:"font-semibold text-slate-800 dark:text-white text-sm",children:"Rejected"}),d.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-300 font-medium ml-auto bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded-full border border-slate-200 dark:border-slate-700",children:R.length})]}),d.jsxs("div",{className:"space-y-2.5 opacity-90",children:[R.map(w=>d.jsx(I,{req:w},w.id)),R.length===0&&d.jsx("div",{className:"h-24 rounded-lg border border-dashed border-slate-200 dark:border-slate-700 flex items-center justify-center text-xs text-slate-400 dark:text-slate-500",children:"No rejected tasks"})]})]})]})]})]}):d.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left text-sm text-slate-600 dark:text-slate-200",children:[d.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800 text-slate-700 dark:text-slate-200 font-semibold uppercase text-xs",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-4",children:"Status"}),d.jsx("th",{className:"px-6 py-4",children:"Title"}),d.jsx("th",{className:"px-6 py-4",children:"Requester"}),d.jsx("th",{className:"px-6 py-4",children:"Project"}),d.jsx("th",{className:"px-6 py-4",children:"Priority"}),d.jsx("th",{className:"px-6 py-4",children:"Created"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:g.map(w=>d.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800 transition cursor-pointer",onClick:()=>t(w),children:[d.jsx("td",{className:"px-6 py-4",children:d.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${w.status===Y.COMPLETED?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":w.status===Y.IN_PROGRESS?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-200":w.status===Y.RETURNED?"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-200":w.status===Y.REJECTED?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-200":"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-200"}`,children:w.status.replace("_"," ")})}),d.jsx("td",{className:"px-6 py-4 font-medium text-slate-900 dark:text-white",children:w.title}),d.jsx("td",{className:"px-6 py-4",children:w.requesterName}),d.jsx("td",{className:"px-6 py-4 text-xs font-mono text-slate-500 dark:text-slate-300",children:w.projectName}),d.jsx("td",{className:"px-6 py-4",children:d.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold ${w.priority===ye.CRITICAL?"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-200":w.priority===ye.HIGH?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-200":"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-200"}`,children:w.priority})}),d.jsx("td",{className:"px-6 py-4",children:new Date(w.createdAt).toLocaleDateString()})]},w.id))})]})})})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ig,Ag;function Rg(){return{geminiUrl:Ig,vertexUrl:Ag}}function Pg(e,t,n,r){var o,s;if(!(e!=null&&e.baseUrl)){const l=Rg();return t?(o=l.vertexUrl)!==null&&o!==void 0?o:n:(s=l.geminiUrl)!==null&&s!==void 0?s:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ut{}function U(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,o)=>{if(Object.prototype.hasOwnProperty.call(t,o)){const s=t[o];return s!=null?String(s):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function a(e,t,n){for(let s=0;s<t.length-1;s++){const l=t[s];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[u])){const c=e[u];if(Array.isArray(n))for(let f=0;f<c.length;f++){const p=c[f];a(p,t.slice(s+1),n[f])}else for(const f of c)a(f,t.slice(s+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in e||(e[u]=[{}]);const c=e[u];a(c[0],t.slice(s+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const r=t[t.length-1],o=e[r];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function i(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const o=t[r];if(o.endsWith("[]")){const s=o.slice(0,-2);if(s in e){const l=e[s];return Array.isArray(l)?l.map(u=>i(u,t.slice(r+1),n)):n}else return n}else e=e[o]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function Mg(e,t){for(const[n,r]of Object.entries(t)){const o=n.split("."),s=r.split("."),l=new Set;let u=-1;for(let c=0;c<o.length;c++)if(o[c]==="*"){u=c;break}if(u!==-1&&s.length>u)for(let c=u;c<s.length;c++){const f=s[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&l.add(f)}sl(e,o,s,0,l)}}function sl(e,t,n,r,o){if(r>=t.length||typeof e!="object"||e===null)return;const s=t[r];if(s.endsWith("[]")){const l=s.slice(0,-2),u=e;if(l in u&&Array.isArray(u[l]))for(const c of u[l])sl(c,t,n,r+1,o)}else if(s==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,u=Object.keys(l).filter(f=>!f.startsWith("_")&&!o.has(f)),c={};for(const f of u)c[f]=l[f];for(const[f,p]of Object.entries(c)){const m=[];for(const h of n.slice(r))h==="*"?m.push(f):m.push(h);a(l,m,p)}for(const f of u)delete l[f]}}else{const l=e;s in l&&sl(l[s],t,n,r+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pa(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dg(e){const t={},n=i(e,["operationName"]);n!=null&&a(t,["operationName"],n);const r=i(e,["resourceName"]);return r!=null&&a(t,["_url","resourceName"],r),t}function bg(e){const t={},n=i(e,["name"]);n!=null&&a(t,["name"],n);const r=i(e,["metadata"]);r!=null&&a(t,["metadata"],r);const o=i(e,["done"]);o!=null&&a(t,["done"],o);const s=i(e,["error"]);s!=null&&a(t,["error"],s);const l=i(e,["response","generateVideoResponse"]);return l!=null&&a(t,["response"],Ug(l)),t}function Lg(e){const t={},n=i(e,["name"]);n!=null&&a(t,["name"],n);const r=i(e,["metadata"]);r!=null&&a(t,["metadata"],r);const o=i(e,["done"]);o!=null&&a(t,["done"],o);const s=i(e,["error"]);s!=null&&a(t,["error"],s);const l=i(e,["response"]);return l!=null&&a(t,["response"],Fg(l)),t}function Ug(e){const t={},n=i(e,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>Vg(l))),a(t,["generatedVideos"],s)}const r=i(e,["raiMediaFilteredCount"]);r!=null&&a(t,["raiMediaFilteredCount"],r);const o=i(e,["raiMediaFilteredReasons"]);return o!=null&&a(t,["raiMediaFilteredReasons"],o),t}function Fg(e){const t={},n=i(e,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>Gg(l))),a(t,["generatedVideos"],s)}const r=i(e,["raiMediaFilteredCount"]);r!=null&&a(t,["raiMediaFilteredCount"],r);const o=i(e,["raiMediaFilteredReasons"]);return o!=null&&a(t,["raiMediaFilteredReasons"],o),t}function Vg(e){const t={},n=i(e,["video"]);return n!=null&&a(t,["video"],Jg(n)),t}function Gg(e){const t={},n=i(e,["_self"]);return n!=null&&a(t,["video"],Og(n)),t}function qg(e){const t={},n=i(e,["operationName"]);return n!=null&&a(t,["_url","operationName"],n),t}function Hg(e){const t={},n=i(e,["operationName"]);return n!=null&&a(t,["_url","operationName"],n),t}function Bg(e){const t={},n=i(e,["name"]);n!=null&&a(t,["name"],n);const r=i(e,["metadata"]);r!=null&&a(t,["metadata"],r);const o=i(e,["done"]);o!=null&&a(t,["done"],o);const s=i(e,["error"]);s!=null&&a(t,["error"],s);const l=i(e,["response"]);return l!=null&&a(t,["response"],zg(l)),t}function zg(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["parent"]);r!=null&&a(t,["parent"],r);const o=i(e,["documentName"]);return o!=null&&a(t,["documentName"],o),t}function Up(e){const t={},n=i(e,["name"]);n!=null&&a(t,["name"],n);const r=i(e,["metadata"]);r!=null&&a(t,["metadata"],r);const o=i(e,["done"]);o!=null&&a(t,["done"],o);const s=i(e,["error"]);s!=null&&a(t,["error"],s);const l=i(e,["response"]);return l!=null&&a(t,["response"],$g(l)),t}function $g(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["parent"]);r!=null&&a(t,["parent"],r);const o=i(e,["documentName"]);return o!=null&&a(t,["documentName"],o),t}function Jg(e){const t={},n=i(e,["uri"]);n!=null&&a(t,["uri"],n);const r=i(e,["encodedVideo"]);r!=null&&a(t,["videoBytes"],pa(r));const o=i(e,["encoding"]);return o!=null&&a(t,["mimeType"],o),t}function Og(e){const t={},n=i(e,["gcsUri"]);n!=null&&a(t,["uri"],n);const r=i(e,["bytesBase64Encoded"]);r!=null&&a(t,["videoBytes"],pa(r));const o=i(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Vu;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Vu||(Vu={}));var Gu;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Gu||(Gu={}));var qu;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(qu||(qu={}));var He;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(He||(He={}));var Hu;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Hu||(Hu={}));var Bu;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Bu||(Bu={}));var zu;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(zu||(zu={}));var $u;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})($u||($u={}));var Ju;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Ju||(Ju={}));var Ou;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"})(Ou||(Ou={}));var Wu;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Wu||(Wu={}));var Yu;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(Yu||(Yu={}));var Ku;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(Ku||(Ku={}));var ju;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(ju||(ju={}));var Qu;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Qu||(Qu={}));var Xu;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Xu||(Xu={}));var Zu;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Zu||(Zu={}));var ed;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(ed||(ed={}));var td;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(td||(td={}));var cs;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(cs||(cs={}));var nd;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(nd||(nd={}));var rd;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(rd||(rd={}));var od;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(od||(od={}));var il;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(il||(il={}));var sd;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(sd||(sd={}));var id;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(id||(id={}));var ld;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(ld||(ld={}));var ad;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(ad||(ad={}));var ud;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(ud||(ud={}));var dd;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(dd||(dd={}));var cd;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(cd||(cd={}));var fd;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(fd||(fd={}));var pd;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(pd||(pd={}));var md;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(md||(md={}));var hd;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(hd||(hd={}));var gd;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(gd||(gd={}));var yd;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(yd||(yd={}));var xd;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(xd||(xd={}));var vd;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(vd||(vd={}));var Ed;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(Ed||(Ed={}));var Cd;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(Cd||(Cd={}));var wd;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(wd||(wd={}));var Sd;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Sd||(Sd={}));var Td;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Td||(Td={}));var kd;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(kd||(kd={}));var Nd;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(Nd||(Nd={}));var _d;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(_d||(_d={}));var Id;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(Id||(Id={}));var Ad;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Ad||(Ad={}));var Rd;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Rd||(Rd={}));var Pd;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(Pd||(Pd={}));var Md;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Md||(Md={}));var Dd;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Dd||(Dd={}));var bd;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(bd||(bd={}));var Vn;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Vn||(Vn={}));class ll{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class xr{get text(){var t,n,r,o,s,l,u,c;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",p=!1;const m=[];for(const h of(c=(u=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[g,E]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(E!==null||E!==void 0)&&m.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;p=!0,f+=h.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?f:void 0}get data(){var t,n,r,o,s,l,u,c;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const p=[];for(const m of(c=(u=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[h,g]of Object.entries(m))h!=="inlineData"&&(g!==null||g!==void 0)&&p.push(h);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var t,n,r,o,s,l,u,c;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var t,n,r,o,s,l,u,c,f;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(c=(u=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var t,n,r,o,s,l,u,c,f;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(c=(u=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.output}}class Ld{}class Ud{}class Wg{}class Yg{}class Kg{}class jg{}class Fd{}class Vd{}class Gd{}class Qg{}class fs{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new fs;let o;const s=t;return n?o=Lg(s):o=bg(s),Object.assign(r,o),r}}class qd{}class Hd{}class Bd{}class Xg{}class Zg{}class ey{}class ma{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new ma,s=Bg(t);return Object.assign(r,s),r}}class ty{}class ny{}class ry{}class zd{}class oy{get text(){var t,n,r;let o="",s=!1;const l=[];for(const u of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&l.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;s=!0,o+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?o:void 0}get data(){var t,n,r;let o="";const s=[];for(const l of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(l))u!=="inlineData"&&c!==null&&s.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(o+=atob(l.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class sy{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ha{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new ha,s=Up(t);return Object.assign(r,s),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Fp(e,t){const n=Q(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function Vp(e){return Array.isArray(e)?e.map(t=>ps(t)):[ps(e)]}function ps(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function Gp(e){const t=ps(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function qp(e){const t=ps(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function $d(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function Hp(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>$d(t)):[$d(e)]}function al(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function Jd(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function Od(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Me(e){if(e==null)throw new Error("ContentUnion is required");return al(e)?e:{role:"user",parts:Hp(e)}}function ga(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=Me(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=Me(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Me(n)):[Me(t)]}function st(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(Jd(e)||Od(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Me(e)]}const t=[],n=[],r=al(e[0]);for(const o of e){const s=al(o);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)t.push(o);else{if(Jd(o)||Od(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return r||t.push({role:"user",parts:Hp(n)}),t}function iy(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(He).includes(n[0].toUpperCase())?n[0].toUpperCase():He.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(He).includes(r.toUpperCase())?r.toUpperCase():He.TYPE_UNSPECIFIED})}}function Jn(e){const t={},n=["items"],r=["anyOf"],o=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=e.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(t.nullable=!0,e=s[1]):s[1].type==="null"&&(t.nullable=!0,e=s[0])),e.type instanceof Array&&iy(e.type,t);for(const[l,u]of Object.entries(e))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(He).includes(u.toUpperCase())?u.toUpperCase():He.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=Jn(u);else if(r.includes(l)){const c=[];for(const f of u){if(f.type=="null"){t.nullable=!0;continue}c.push(Jn(f))}t[l]=c}else if(o.includes(l)){const c={};for(const[f,p]of Object.entries(u))c[f]=Jn(p);t[l]=c}else{if(l==="additionalProperties")continue;t[l]=u}return t}function ya(e){return Jn(e)}function xa(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function va(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function sr(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Jn(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Jn(t.response));return e}function ir(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function ly(e,t,n,r=1){const o=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:o?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}function Ft(e,t){if(typeof t!="string")throw new Error("name must be a string");return ly(e,t,"cachedContents")}function Bp(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function sn(e){return pa(e)}function ay(e){return e!=null&&typeof e=="object"&&"name"in e}function uy(e){return e!=null&&typeof e=="object"&&"video"in e}function dy(e){return e!=null&&typeof e=="object"&&"uri"in e}function zp(e){var t;let n;if(ay(e)&&(n=e.name),!(dy(e)&&(n=e.uri,n===void 0))&&!(uy(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function $p(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function Jp(e){for(const t of["models","tunedModels","publisherModels"])if(cy(e,t))return e[t];return[]}function cy(e,t){return e!==null&&typeof e=="object"&&t in e}function fy(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function py(e,t={}){const n=[],r=new Set;for(const o of e){const s=o.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const l=fy(o,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function Op(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(o>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function my(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Wp(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return e;let s=!1;for(const l of o){if(typeof l!="object"||l===null)continue;const c=l.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){s=!0;break}}return s&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function lr(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Yp(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hy(e){const t={},n=i(e,["responsesFile"]);n!=null&&a(t,["fileName"],n);const r=i(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>Ky(l))),a(t,["inlinedResponses"],s)}const o=i(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),a(t,["inlinedEmbedContentResponses"],s)}return t}function gy(e){const t={},n=i(e,["predictionsFormat"]);n!=null&&a(t,["format"],n);const r=i(e,["gcsDestination","outputUriPrefix"]);r!=null&&a(t,["gcsUri"],r);const o=i(e,["bigqueryDestination","outputUri"]);return o!=null&&a(t,["bigqueryUri"],o),t}function yy(e){const t={},n=i(e,["format"]);n!=null&&a(t,["predictionsFormat"],n);const r=i(e,["gcsUri"]);r!=null&&a(t,["gcsDestination","outputUriPrefix"],r);const o=i(e,["bigqueryUri"]);if(o!=null&&a(t,["bigqueryDestination","outputUri"],o),i(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(i(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(i(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Vo(e){const t={},n=i(e,["name"]);n!=null&&a(t,["name"],n);const r=i(e,["metadata","displayName"]);r!=null&&a(t,["displayName"],r);const o=i(e,["metadata","state"]);o!=null&&a(t,["state"],Yp(o));const s=i(e,["metadata","createTime"]);s!=null&&a(t,["createTime"],s);const l=i(e,["metadata","endTime"]);l!=null&&a(t,["endTime"],l);const u=i(e,["metadata","updateTime"]);u!=null&&a(t,["updateTime"],u);const c=i(e,["metadata","model"]);c!=null&&a(t,["model"],c);const f=i(e,["metadata","output"]);return f!=null&&a(t,["dest"],hy(Wp(f))),t}function ul(e){const t={},n=i(e,["name"]);n!=null&&a(t,["name"],n);const r=i(e,["displayName"]);r!=null&&a(t,["displayName"],r);const o=i(e,["state"]);o!=null&&a(t,["state"],Yp(o));const s=i(e,["error"]);s!=null&&a(t,["error"],s);const l=i(e,["createTime"]);l!=null&&a(t,["createTime"],l);const u=i(e,["startTime"]);u!=null&&a(t,["startTime"],u);const c=i(e,["endTime"]);c!=null&&a(t,["endTime"],c);const f=i(e,["updateTime"]);f!=null&&a(t,["updateTime"],f);const p=i(e,["model"]);p!=null&&a(t,["model"],p);const m=i(e,["inputConfig"]);m!=null&&a(t,["src"],xy(m));const h=i(e,["outputConfig"]);h!=null&&a(t,["dest"],gy(Wp(h)));const g=i(e,["completionStats"]);return g!=null&&a(t,["completionStats"],g),t}function xy(e){const t={},n=i(e,["instancesFormat"]);n!=null&&a(t,["format"],n);const r=i(e,["gcsSource","uris"]);r!=null&&a(t,["gcsUri"],r);const o=i(e,["bigquerySource","inputUri"]);return o!=null&&a(t,["bigqueryUri"],o),t}function vy(e,t){const n={};if(i(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(i(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(i(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=i(t,["fileName"]);r!=null&&a(n,["fileName"],r);const o=i(t,["inlinedRequests"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>Yy(e,l))),a(n,["requests","requests"],s)}return n}function Ey(e){const t={},n=i(e,["format"]);n!=null&&a(t,["instancesFormat"],n);const r=i(e,["gcsUri"]);r!=null&&a(t,["gcsSource","uris"],r);const o=i(e,["bigqueryUri"]);if(o!=null&&a(t,["bigquerySource","inputUri"],o),i(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(i(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Cy(e){const t={},n=i(e,["data"]);if(n!=null&&a(t,["data"],n),i(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=i(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function wy(e,t){const n={},r=i(t,["name"]);return r!=null&&a(n,["_url","name"],lr(e,r)),n}function Sy(e,t){const n={},r=i(t,["name"]);return r!=null&&a(n,["_url","name"],lr(e,r)),n}function Ty(e){const t={},n=i(e,["content"]);n!=null&&a(t,["content"],n);const r=i(e,["citationMetadata"]);r!=null&&a(t,["citationMetadata"],ky(r));const o=i(e,["tokenCount"]);o!=null&&a(t,["tokenCount"],o);const s=i(e,["finishReason"]);s!=null&&a(t,["finishReason"],s);const l=i(e,["avgLogprobs"]);l!=null&&a(t,["avgLogprobs"],l);const u=i(e,["groundingMetadata"]);u!=null&&a(t,["groundingMetadata"],u);const c=i(e,["index"]);c!=null&&a(t,["index"],c);const f=i(e,["logprobsResult"]);f!=null&&a(t,["logprobsResult"],f);const p=i(e,["safetyRatings"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>g)),a(t,["safetyRatings"],h)}const m=i(e,["urlContextMetadata"]);return m!=null&&a(t,["urlContextMetadata"],m),t}function ky(e){const t={},n=i(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),a(t,["citations"],r)}return t}function Kp(e){const t={},n=i(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>nx(s))),a(t,["parts"],o)}const r=i(e,["role"]);return r!=null&&a(t,["role"],r),t}function Ny(e,t){const n={},r=i(e,["displayName"]);if(t!==void 0&&r!=null&&a(t,["batch","displayName"],r),i(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function _y(e,t){const n={},r=i(e,["displayName"]);t!==void 0&&r!=null&&a(t,["displayName"],r);const o=i(e,["dest"]);return t!==void 0&&o!=null&&a(t,["outputConfig"],yy(my(o))),n}function Wd(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["src"]);o!=null&&a(n,["batch","inputConfig"],vy(e,Op(e,o)));const s=i(t,["config"]);return s!=null&&Ny(s,n),n}function Iy(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["model"],Q(e,r));const o=i(t,["src"]);o!=null&&a(n,["inputConfig"],Ey(Op(e,o)));const s=i(t,["config"]);return s!=null&&_y(s,n),n}function Ay(e,t){const n={},r=i(e,["displayName"]);return t!==void 0&&r!=null&&a(t,["batch","displayName"],r),n}function Ry(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["src"]);o!=null&&a(n,["batch","inputConfig"],Fy(e,o));const s=i(t,["config"]);return s!=null&&Ay(s,n),n}function Py(e,t){const n={},r=i(t,["name"]);return r!=null&&a(n,["_url","name"],lr(e,r)),n}function My(e,t){const n={},r=i(t,["name"]);return r!=null&&a(n,["_url","name"],lr(e,r)),n}function Dy(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["name"]);r!=null&&a(t,["name"],r);const o=i(e,["done"]);o!=null&&a(t,["done"],o);const s=i(e,["error"]);return s!=null&&a(t,["error"],s),t}function by(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["name"]);r!=null&&a(t,["name"],r);const o=i(e,["done"]);o!=null&&a(t,["done"],o);const s=i(e,["error"]);return s!=null&&a(t,["error"],s),t}function Ly(e,t){const n={},r=i(t,["contents"]);if(r!=null){let s=ga(e,r);Array.isArray(s)&&(s=s.map(l=>l)),a(n,["requests[]","request","content"],s)}const o=i(t,["config"]);return o!=null&&(a(n,["_self"],Uy(o,n)),Mg(n,{"requests[].*":"requests[].request.*"})),n}function Uy(e,t){const n={},r=i(e,["taskType"]);t!==void 0&&r!=null&&a(t,["requests[]","taskType"],r);const o=i(e,["title"]);t!==void 0&&o!=null&&a(t,["requests[]","title"],o);const s=i(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&a(t,["requests[]","outputDimensionality"],s),i(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(i(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Fy(e,t){const n={},r=i(t,["fileName"]);r!=null&&a(n,["file_name"],r);const o=i(t,["inlinedRequests"]);return o!=null&&a(n,["requests"],Ly(e,o)),n}function Vy(e){const t={};if(i(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=i(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const r=i(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function Gy(e){const t={},n=i(e,["id"]);n!=null&&a(t,["id"],n);const r=i(e,["args"]);r!=null&&a(t,["args"],r);const o=i(e,["name"]);if(o!=null&&a(t,["name"],o),i(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(i(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function qy(e){const t={},n=i(e,["mode"]);n!=null&&a(t,["mode"],n);const r=i(e,["allowedFunctionNames"]);if(r!=null&&a(t,["allowedFunctionNames"],r),i(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Hy(e,t,n){const r={},o=i(t,["systemInstruction"]);n!==void 0&&o!=null&&a(n,["systemInstruction"],Kp(Me(o)));const s=i(t,["temperature"]);s!=null&&a(r,["temperature"],s);const l=i(t,["topP"]);l!=null&&a(r,["topP"],l);const u=i(t,["topK"]);u!=null&&a(r,["topK"],u);const c=i(t,["candidateCount"]);c!=null&&a(r,["candidateCount"],c);const f=i(t,["maxOutputTokens"]);f!=null&&a(r,["maxOutputTokens"],f);const p=i(t,["stopSequences"]);p!=null&&a(r,["stopSequences"],p);const m=i(t,["responseLogprobs"]);m!=null&&a(r,["responseLogprobs"],m);const h=i(t,["logprobs"]);h!=null&&a(r,["logprobs"],h);const g=i(t,["presencePenalty"]);g!=null&&a(r,["presencePenalty"],g);const E=i(t,["frequencyPenalty"]);E!=null&&a(r,["frequencyPenalty"],E);const C=i(t,["seed"]);C!=null&&a(r,["seed"],C);const T=i(t,["responseMimeType"]);T!=null&&a(r,["responseMimeType"],T);const x=i(t,["responseSchema"]);x!=null&&a(r,["responseSchema"],ya(x));const y=i(t,["responseJsonSchema"]);if(y!=null&&a(r,["responseJsonSchema"],y),i(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(i(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=i(t,["safetySettings"]);if(n!==void 0&&v!=null){let k=v;Array.isArray(k)&&(k=k.map(B=>rx(B))),a(n,["safetySettings"],k)}const S=i(t,["tools"]);if(n!==void 0&&S!=null){let k=ir(S);Array.isArray(k)&&(k=k.map(B=>sx(sr(B)))),a(n,["tools"],k)}const _=i(t,["toolConfig"]);if(n!==void 0&&_!=null&&a(n,["toolConfig"],ox(_)),i(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=i(t,["cachedContent"]);n!==void 0&&R!=null&&a(n,["cachedContent"],Ft(e,R));const I=i(t,["responseModalities"]);I!=null&&a(r,["responseModalities"],I);const w=i(t,["mediaResolution"]);w!=null&&a(r,["mediaResolution"],w);const M=i(t,["speechConfig"]);if(M!=null&&a(r,["speechConfig"],xa(M)),i(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const b=i(t,["thinkingConfig"]);b!=null&&a(r,["thinkingConfig"],b);const H=i(t,["imageConfig"]);return H!=null&&a(r,["imageConfig"],Wy(H)),r}function By(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>Ty(f))),a(t,["candidates"],c)}const o=i(e,["modelVersion"]);o!=null&&a(t,["modelVersion"],o);const s=i(e,["promptFeedback"]);s!=null&&a(t,["promptFeedback"],s);const l=i(e,["responseId"]);l!=null&&a(t,["responseId"],l);const u=i(e,["usageMetadata"]);return u!=null&&a(t,["usageMetadata"],u),t}function zy(e,t){const n={},r=i(t,["name"]);return r!=null&&a(n,["_url","name"],lr(e,r)),n}function $y(e,t){const n={},r=i(t,["name"]);return r!=null&&a(n,["_url","name"],lr(e,r)),n}function Jy(e){const t={};if(i(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=i(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function Oy(e){const t={};if(i(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(i(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=i(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function Wy(e){const t={},n=i(e,["aspectRatio"]);n!=null&&a(t,["aspectRatio"],n);const r=i(e,["imageSize"]);if(r!=null&&a(t,["imageSize"],r),i(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(i(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Yy(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["request","model"],Q(e,r));const o=i(t,["contents"]);if(o!=null){let u=st(o);Array.isArray(u)&&(u=u.map(c=>Kp(c))),a(n,["request","contents"],u)}const s=i(t,["metadata"]);s!=null&&a(n,["metadata"],s);const l=i(t,["config"]);return l!=null&&a(n,["request","generationConfig"],Hy(e,l,i(n,["request"],{}))),n}function Ky(e){const t={},n=i(e,["response"]);n!=null&&a(t,["response"],By(n));const r=i(e,["error"]);return r!=null&&a(t,["error"],r),t}function jy(e,t){const n={},r=i(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const o=i(e,["pageToken"]);if(t!==void 0&&o!=null&&a(t,["_query","pageToken"],o),i(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Qy(e,t){const n={},r=i(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const o=i(e,["pageToken"]);t!==void 0&&o!=null&&a(t,["_query","pageToken"],o);const s=i(e,["filter"]);return t!==void 0&&s!=null&&a(t,["_query","filter"],s),n}function Xy(e){const t={},n=i(e,["config"]);return n!=null&&jy(n,t),t}function Zy(e){const t={},n=i(e,["config"]);return n!=null&&Qy(n,t),t}function ex(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const o=i(e,["operations"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>Vo(l))),a(t,["batchJobs"],s)}return t}function tx(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const o=i(e,["batchPredictionJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>ul(l))),a(t,["batchJobs"],s)}return t}function nx(e){const t={},n=i(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const r=i(e,["codeExecutionResult"]);r!=null&&a(t,["codeExecutionResult"],r);const o=i(e,["executableCode"]);o!=null&&a(t,["executableCode"],o);const s=i(e,["fileData"]);s!=null&&a(t,["fileData"],Vy(s));const l=i(e,["functionCall"]);l!=null&&a(t,["functionCall"],Gy(l));const u=i(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=i(e,["inlineData"]);c!=null&&a(t,["inlineData"],Cy(c));const f=i(e,["text"]);f!=null&&a(t,["text"],f);const p=i(e,["thought"]);p!=null&&a(t,["thought"],p);const m=i(e,["thoughtSignature"]);m!=null&&a(t,["thoughtSignature"],m);const h=i(e,["videoMetadata"]);return h!=null&&a(t,["videoMetadata"],h),t}function rx(e){const t={},n=i(e,["category"]);if(n!=null&&a(t,["category"],n),i(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=i(e,["threshold"]);return r!=null&&a(t,["threshold"],r),t}function ox(e){const t={},n=i(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],qy(n));const r=i(e,["retrievalConfig"]);return r!=null&&a(t,["retrievalConfig"],r),t}function sx(e){const t={},n=i(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>m)),a(t,["functionDeclarations"],p)}if(i(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=i(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const o=i(e,["computerUse"]);o!=null&&a(t,["computerUse"],o);const s=i(e,["fileSearch"]);s!=null&&a(t,["fileSearch"],s);const l=i(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),i(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=i(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],Jy(u));const c=i(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],Oy(c));const f=i(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var bt;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(bt||(bt={}));class wn{constructor(t,n,r,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,o)}init(t,n,r){var o,s;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(s=(o=l.config)===null||o===void 0?void 0:o.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ix extends Ut{constructor(t){super(),this.apiClient=t,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new wn(bt.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(t){const n=Wd(this.apiClient,t),r=n._url,o=U("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,c=u.requests,f=[];for(const p of c){const m=Object.assign({},p);if(m.systemInstruction){const h=m.systemInstruction;delete m.systemInstruction;const g=m.request;g.systemInstruction=h,m.request=g}f.push(m)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},o=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${o}`),r.dest===void 0){const s=this.getGcsUri(t),l=this.getBigqueryUri(t);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${o}`;else if(l)r.dest=`${l}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,o,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=Iy(this.apiClient,t);return u=U("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>ul(p))}else{const f=Wd(this.apiClient,t);return u=U("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>Vo(p))}}async createEmbeddingsInternal(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Ry(this.apiClient,t);return s=U("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>Vo(c))}}async get(t){var n,r,o,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=$y(this.apiClient,t);return u=U("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>ul(p))}else{const f=zy(this.apiClient,t);return u=U("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>Vo(p))}}async cancel(t){var n,r,o,s;let l="",u={};if(this.apiClient.isVertexAI()){const c=Sy(this.apiClient,t);l=U("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=wy(this.apiClient,t);l=U("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var n,r,o,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=Zy(t);return u=U("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=tx(p),h=new zd;return Object.assign(h,m),h})}else{const f=Xy(t);return u=U("batches",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=ex(p),h=new zd;return Object.assign(h,m),h})}}async delete(t){var n,r,o,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=My(this.apiClient,t);return u=U("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>by(p))}else{const f=Py(this.apiClient,t);return u=U("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>Dy(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lx(e){const t={},n=i(e,["data"]);if(n!=null&&a(t,["data"],n),i(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=i(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function Yd(e){const t={},n=i(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Rx(s))),a(t,["parts"],o)}const r=i(e,["role"]);return r!=null&&a(t,["role"],r),t}function ax(e,t){const n={},r=i(e,["ttl"]);t!==void 0&&r!=null&&a(t,["ttl"],r);const o=i(e,["expireTime"]);t!==void 0&&o!=null&&a(t,["expireTime"],o);const s=i(e,["displayName"]);t!==void 0&&s!=null&&a(t,["displayName"],s);const l=i(e,["contents"]);if(t!==void 0&&l!=null){let p=st(l);Array.isArray(p)&&(p=p.map(m=>Yd(m))),a(t,["contents"],p)}const u=i(e,["systemInstruction"]);t!==void 0&&u!=null&&a(t,["systemInstruction"],Yd(Me(u)));const c=i(e,["tools"]);if(t!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(m=>Mx(m))),a(t,["tools"],p)}const f=i(e,["toolConfig"]);if(t!==void 0&&f!=null&&a(t,["toolConfig"],Px(f)),i(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function ux(e,t){const n={},r=i(e,["ttl"]);t!==void 0&&r!=null&&a(t,["ttl"],r);const o=i(e,["expireTime"]);t!==void 0&&o!=null&&a(t,["expireTime"],o);const s=i(e,["displayName"]);t!==void 0&&s!=null&&a(t,["displayName"],s);const l=i(e,["contents"]);if(t!==void 0&&l!=null){let m=st(l);Array.isArray(m)&&(m=m.map(h=>h)),a(t,["contents"],m)}const u=i(e,["systemInstruction"]);t!==void 0&&u!=null&&a(t,["systemInstruction"],Me(u));const c=i(e,["tools"]);if(t!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(h=>Dx(h))),a(t,["tools"],m)}const f=i(e,["toolConfig"]);t!==void 0&&f!=null&&a(t,["toolConfig"],f);const p=i(e,["kmsKeyName"]);return t!==void 0&&p!=null&&a(t,["encryption_spec","kmsKeyName"],p),n}function dx(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["model"],Fp(e,r));const o=i(t,["config"]);return o!=null&&ax(o,n),n}function cx(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["model"],Fp(e,r));const o=i(t,["config"]);return o!=null&&ux(o,n),n}function fx(e,t){const n={},r=i(t,["name"]);return r!=null&&a(n,["_url","name"],Ft(e,r)),n}function px(e,t){const n={},r=i(t,["name"]);return r!=null&&a(n,["_url","name"],Ft(e,r)),n}function mx(e){const t={},n=i(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function hx(e){const t={},n=i(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function gx(e){const t={};if(i(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=i(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const r=i(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function yx(e){const t={},n=i(e,["id"]);n!=null&&a(t,["id"],n);const r=i(e,["args"]);r!=null&&a(t,["args"],r);const o=i(e,["name"]);if(o!=null&&a(t,["name"],o),i(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(i(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function xx(e){const t={},n=i(e,["mode"]);n!=null&&a(t,["mode"],n);const r=i(e,["allowedFunctionNames"]);if(r!=null&&a(t,["allowedFunctionNames"],r),i(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function vx(e){const t={};if(i(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=i(e,["description"]);n!=null&&a(t,["description"],n);const r=i(e,["name"]);r!=null&&a(t,["name"],r);const o=i(e,["parameters"]);o!=null&&a(t,["parameters"],o);const s=i(e,["parametersJsonSchema"]);s!=null&&a(t,["parametersJsonSchema"],s);const l=i(e,["response"]);l!=null&&a(t,["response"],l);const u=i(e,["responseJsonSchema"]);return u!=null&&a(t,["responseJsonSchema"],u),t}function Ex(e,t){const n={},r=i(t,["name"]);return r!=null&&a(n,["_url","name"],Ft(e,r)),n}function Cx(e,t){const n={},r=i(t,["name"]);return r!=null&&a(n,["_url","name"],Ft(e,r)),n}function wx(e){const t={};if(i(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=i(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function Sx(e){const t={};if(i(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(i(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=i(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function Tx(e,t){const n={},r=i(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const o=i(e,["pageToken"]);return t!==void 0&&o!=null&&a(t,["_query","pageToken"],o),n}function kx(e,t){const n={},r=i(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const o=i(e,["pageToken"]);return t!==void 0&&o!=null&&a(t,["_query","pageToken"],o),n}function Nx(e){const t={},n=i(e,["config"]);return n!=null&&Tx(n,t),t}function _x(e){const t={},n=i(e,["config"]);return n!=null&&kx(n,t),t}function Ix(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const o=i(e,["cachedContents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),a(t,["cachedContents"],s)}return t}function Ax(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const o=i(e,["cachedContents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),a(t,["cachedContents"],s)}return t}function Rx(e){const t={},n=i(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const r=i(e,["codeExecutionResult"]);r!=null&&a(t,["codeExecutionResult"],r);const o=i(e,["executableCode"]);o!=null&&a(t,["executableCode"],o);const s=i(e,["fileData"]);s!=null&&a(t,["fileData"],gx(s));const l=i(e,["functionCall"]);l!=null&&a(t,["functionCall"],yx(l));const u=i(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=i(e,["inlineData"]);c!=null&&a(t,["inlineData"],lx(c));const f=i(e,["text"]);f!=null&&a(t,["text"],f);const p=i(e,["thought"]);p!=null&&a(t,["thought"],p);const m=i(e,["thoughtSignature"]);m!=null&&a(t,["thoughtSignature"],m);const h=i(e,["videoMetadata"]);return h!=null&&a(t,["videoMetadata"],h),t}function Px(e){const t={},n=i(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],xx(n));const r=i(e,["retrievalConfig"]);return r!=null&&a(t,["retrievalConfig"],r),t}function Mx(e){const t={},n=i(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>m)),a(t,["functionDeclarations"],p)}if(i(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=i(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const o=i(e,["computerUse"]);o!=null&&a(t,["computerUse"],o);const s=i(e,["fileSearch"]);s!=null&&a(t,["fileSearch"],s);const l=i(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),i(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=i(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],wx(u));const c=i(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],Sx(c));const f=i(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function Dx(e){const t={},n=i(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(h=>vx(h))),a(t,["functionDeclarations"],m)}const r=i(e,["retrieval"]);r!=null&&a(t,["retrieval"],r);const o=i(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const s=i(e,["computerUse"]);if(s!=null&&a(t,["computerUse"],s),i(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=i(e,["codeExecution"]);l!=null&&a(t,["codeExecution"],l);const u=i(e,["enterpriseWebSearch"]);u!=null&&a(t,["enterpriseWebSearch"],u);const c=i(e,["googleMaps"]);c!=null&&a(t,["googleMaps"],c);const f=i(e,["googleSearch"]);f!=null&&a(t,["googleSearch"],f);const p=i(e,["urlContext"]);return p!=null&&a(t,["urlContext"],p),t}function bx(e,t){const n={},r=i(e,["ttl"]);t!==void 0&&r!=null&&a(t,["ttl"],r);const o=i(e,["expireTime"]);return t!==void 0&&o!=null&&a(t,["expireTime"],o),n}function Lx(e,t){const n={},r=i(e,["ttl"]);t!==void 0&&r!=null&&a(t,["ttl"],r);const o=i(e,["expireTime"]);return t!==void 0&&o!=null&&a(t,["expireTime"],o),n}function Ux(e,t){const n={},r=i(t,["name"]);r!=null&&a(n,["_url","name"],Ft(e,r));const o=i(t,["config"]);return o!=null&&bx(o,n),n}function Fx(e,t){const n={},r=i(t,["name"]);r!=null&&a(n,["_url","name"],Ft(e,r));const o=i(t,["config"]);return o!=null&&Lx(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vx extends Ut{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new wn(bt.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,o,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=cx(this.apiClient,t);return u=U("cachedContents",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const f=dx(this.apiClient,t);return u=U("cachedContents",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async get(t){var n,r,o,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=Cx(this.apiClient,t);return u=U("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const f=Ex(this.apiClient,t);return u=U("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async delete(t){var n,r,o,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=px(this.apiClient,t);return u=U("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=hx(p),h=new Hd;return Object.assign(h,m),h})}else{const f=fx(this.apiClient,t);return u=U("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=mx(p),h=new Hd;return Object.assign(h,m),h})}}async update(t){var n,r,o,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=Fx(this.apiClient,t);return u=U("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const f=Ux(this.apiClient,t);return u=U("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async listInternal(t){var n,r,o,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=_x(t);return u=U("cachedContents",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=Ax(p),h=new Bd;return Object.assign(h,m),h})}else{const f=Nx(t);return u=U("cachedContents",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=Ix(p),h=new Bd;return Object.assign(h,m),h})}}}function Kd(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function oe(e){return this instanceof oe?(this.v=e,this):new oe(e)}function On(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),o[Symbol.asyncIterator]=function(){return this},o;function l(g){return function(E){return Promise.resolve(E).then(g,m)}}function u(g,E){r[g]&&(o[g]=function(C){return new Promise(function(T,x){s.push([g,C,T,x])>1||c(g,C)})},E&&(o[g]=E(o[g])))}function c(g,E){try{f(r[g](E))}catch(C){h(s[0][3],C)}}function f(g){g.value instanceof oe?Promise.resolve(g.value.v).then(p,m):h(s[0][2],g)}function p(g){c("next",g)}function m(g){c("throw",g)}function h(g,E){g(E),s.shift(),s.length&&c(s[0][0],s[0][1])}}function Dr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Kd=="function"?Kd(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(l){return new Promise(function(u,c){l=e[s](l),o(u,c,l.done,l.value)})}}function o(s,l,u,c){Promise.resolve(c).then(function(f){s({value:f,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gx(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:jp(n)}function jp(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function qx(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function jd(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const o=[];let s=!0;for(;r<n&&e[r].role==="model";)o.push(e[r]),s&&!jp(e[r])&&(s=!1),r++;s?t.push(...o):t.pop()}return t}class Hx{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new Bx(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class Bx{constructor(t,n,r,o={},s=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=o,this.history=s,this.sendPromise=Promise.resolve(),qx(s)}async sendMessage(t){var n;await this.sendPromise;const r=Me(t.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,l,u;const c=await o,f=(l=(s=c.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content,p=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let h=[];p!=null&&(h=(u=p.slice(m))!==null&&u!==void 0?u:[]);const g=f?[f]:[];this.recordHistory(r,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(t){var n;await this.sendPromise;const r=Me(t.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const s=await o;return this.processStreamResponse(s,r)}getHistory(t=!1){const n=t?jd(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var r,o;return On(this,arguments,function*(){var l,u,c,f;const p=[];try{for(var m=!0,h=Dr(t),g;g=yield oe(h.next()),l=g.done,!l;m=!0){f=g.value,m=!1;const E=f;if(Gx(E)){const C=(o=(r=E.candidates)===null||r===void 0?void 0:r[0])===null||o===void 0?void 0:o.content;C!==void 0&&p.push(C)}yield yield oe(E)}}catch(E){u={error:E}}finally{try{!m&&!l&&(c=h.return)&&(yield oe(c.call(h)))}finally{if(u)throw u.error}}this.recordHistory(n,p)})}recordHistory(t,n,r){let o=[];n.length>0&&n.every(s=>s.role!==void 0)?o=n:o.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...jd(r)):this.history.push(t),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ps extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Ps.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zx(e){const t={},n=i(e,["file"]);return n!=null&&a(t,["file"],n),t}function $x(e){const t={},n=i(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function Jx(e){const t={},n=i(e,["name"]);return n!=null&&a(t,["_url","file"],zp(n)),t}function Ox(e){const t={},n=i(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function Wx(e){const t={},n=i(e,["name"]);return n!=null&&a(t,["_url","file"],zp(n)),t}function Yx(e,t){const n={},r=i(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const o=i(e,["pageToken"]);return t!==void 0&&o!=null&&a(t,["_query","pageToken"],o),n}function Kx(e){const t={},n=i(e,["config"]);return n!=null&&Yx(n,t),t}function jx(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const o=i(e,["files"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),a(t,["files"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qx extends Ut{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new wn(bt.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Kx(t);return s=U("files",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=jx(c),p=new ty;return Object.assign(p,f),p})}}async createInternal(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=zx(t);return s=U("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>{const f=$x(c),p=new ny;return Object.assign(p,f),p})}}async get(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Wx(t);return s=U("files/{file}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Jx(t);return s=U("files/{file}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=Ox(c),p=new ry;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Go(e){const t={},n=i(e,["data"]);if(n!=null&&a(t,["data"],n),i(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=i(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function Xx(e){const t={},n=i(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>mv(s))),a(t,["parts"],o)}const r=i(e,["role"]);return r!=null&&a(t,["role"],r),t}function Zx(e){const t={};if(i(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=i(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const r=i(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function ev(e){const t={},n=i(e,["id"]);n!=null&&a(t,["id"],n);const r=i(e,["args"]);r!=null&&a(t,["args"],r);const o=i(e,["name"]);if(o!=null&&a(t,["name"],o),i(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(i(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function tv(e){const t={};if(i(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=i(e,["description"]);n!=null&&a(t,["description"],n);const r=i(e,["name"]);r!=null&&a(t,["name"],r);const o=i(e,["parameters"]);o!=null&&a(t,["parameters"],o);const s=i(e,["parametersJsonSchema"]);s!=null&&a(t,["parametersJsonSchema"],s);const l=i(e,["response"]);l!=null&&a(t,["response"],l);const u=i(e,["responseJsonSchema"]);return u!=null&&a(t,["responseJsonSchema"],u),t}function nv(e){const t={},n=i(e,["modelSelectionConfig"]);n!=null&&a(t,["modelConfig"],n);const r=i(e,["responseJsonSchema"]);r!=null&&a(t,["responseJsonSchema"],r);const o=i(e,["audioTimestamp"]);o!=null&&a(t,["audioTimestamp"],o);const s=i(e,["candidateCount"]);s!=null&&a(t,["candidateCount"],s);const l=i(e,["enableAffectiveDialog"]);l!=null&&a(t,["enableAffectiveDialog"],l);const u=i(e,["frequencyPenalty"]);u!=null&&a(t,["frequencyPenalty"],u);const c=i(e,["logprobs"]);c!=null&&a(t,["logprobs"],c);const f=i(e,["maxOutputTokens"]);f!=null&&a(t,["maxOutputTokens"],f);const p=i(e,["mediaResolution"]);p!=null&&a(t,["mediaResolution"],p);const m=i(e,["presencePenalty"]);m!=null&&a(t,["presencePenalty"],m);const h=i(e,["responseLogprobs"]);h!=null&&a(t,["responseLogprobs"],h);const g=i(e,["responseMimeType"]);g!=null&&a(t,["responseMimeType"],g);const E=i(e,["responseModalities"]);E!=null&&a(t,["responseModalities"],E);const C=i(e,["responseSchema"]);C!=null&&a(t,["responseSchema"],C);const T=i(e,["routingConfig"]);T!=null&&a(t,["routingConfig"],T);const x=i(e,["seed"]);x!=null&&a(t,["seed"],x);const y=i(e,["speechConfig"]);y!=null&&a(t,["speechConfig"],Qp(y));const v=i(e,["stopSequences"]);v!=null&&a(t,["stopSequences"],v);const S=i(e,["temperature"]);S!=null&&a(t,["temperature"],S);const _=i(e,["thinkingConfig"]);_!=null&&a(t,["thinkingConfig"],_);const R=i(e,["topK"]);R!=null&&a(t,["topK"],R);const I=i(e,["topP"]);if(I!=null&&a(t,["topP"],I),i(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function rv(e){const t={};if(i(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=i(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function ov(e){const t={};if(i(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(i(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=i(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function sv(e,t){const n={},r=i(e,["generationConfig"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig"],r);const o=i(e,["responseModalities"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig","responseModalities"],o);const s=i(e,["temperature"]);t!==void 0&&s!=null&&a(t,["setup","generationConfig","temperature"],s);const l=i(e,["topP"]);t!==void 0&&l!=null&&a(t,["setup","generationConfig","topP"],l);const u=i(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const c=i(e,["maxOutputTokens"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","maxOutputTokens"],c);const f=i(e,["mediaResolution"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","mediaResolution"],f);const p=i(e,["seed"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","seed"],p);const m=i(e,["speechConfig"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","speechConfig"],va(m));const h=i(e,["thinkingConfig"]);t!==void 0&&h!=null&&a(t,["setup","generationConfig","thinkingConfig"],h);const g=i(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],g);const E=i(e,["systemInstruction"]);t!==void 0&&E!=null&&a(t,["setup","systemInstruction"],Xx(Me(E)));const C=i(e,["tools"]);if(t!==void 0&&C!=null){let R=ir(C);Array.isArray(R)&&(R=R.map(I=>gv(sr(I)))),a(t,["setup","tools"],R)}const T=i(e,["sessionResumption"]);t!==void 0&&T!=null&&a(t,["setup","sessionResumption"],hv(T));const x=i(e,["inputAudioTranscription"]);t!==void 0&&x!=null&&a(t,["setup","inputAudioTranscription"],x);const y=i(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&a(t,["setup","outputAudioTranscription"],y);const v=i(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&a(t,["setup","realtimeInputConfig"],v);const S=i(e,["contextWindowCompression"]);t!==void 0&&S!=null&&a(t,["setup","contextWindowCompression"],S);const _=i(e,["proactivity"]);return t!==void 0&&_!=null&&a(t,["setup","proactivity"],_),n}function iv(e,t){const n={},r=i(e,["generationConfig"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig"],nv(r));const o=i(e,["responseModalities"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig","responseModalities"],o);const s=i(e,["temperature"]);t!==void 0&&s!=null&&a(t,["setup","generationConfig","temperature"],s);const l=i(e,["topP"]);t!==void 0&&l!=null&&a(t,["setup","generationConfig","topP"],l);const u=i(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const c=i(e,["maxOutputTokens"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","maxOutputTokens"],c);const f=i(e,["mediaResolution"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","mediaResolution"],f);const p=i(e,["seed"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","seed"],p);const m=i(e,["speechConfig"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","speechConfig"],Qp(va(m)));const h=i(e,["thinkingConfig"]);t!==void 0&&h!=null&&a(t,["setup","generationConfig","thinkingConfig"],h);const g=i(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],g);const E=i(e,["systemInstruction"]);t!==void 0&&E!=null&&a(t,["setup","systemInstruction"],Me(E));const C=i(e,["tools"]);if(t!==void 0&&C!=null){let R=ir(C);Array.isArray(R)&&(R=R.map(I=>yv(sr(I)))),a(t,["setup","tools"],R)}const T=i(e,["sessionResumption"]);t!==void 0&&T!=null&&a(t,["setup","sessionResumption"],T);const x=i(e,["inputAudioTranscription"]);t!==void 0&&x!=null&&a(t,["setup","inputAudioTranscription"],x);const y=i(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&a(t,["setup","outputAudioTranscription"],y);const v=i(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&a(t,["setup","realtimeInputConfig"],v);const S=i(e,["contextWindowCompression"]);t!==void 0&&S!=null&&a(t,["setup","contextWindowCompression"],S);const _=i(e,["proactivity"]);return t!==void 0&&_!=null&&a(t,["setup","proactivity"],_),n}function lv(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["setup","model"],Q(e,r));const o=i(t,["config"]);return o!=null&&a(n,["config"],sv(o,n)),n}function av(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["setup","model"],Q(e,r));const o=i(t,["config"]);return o!=null&&a(n,["config"],iv(o,n)),n}function uv(e){const t={},n=i(e,["musicGenerationConfig"]);return n!=null&&a(t,["musicGenerationConfig"],n),t}function dv(e){const t={},n=i(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),a(t,["weightedPrompts"],r)}return t}function cv(e){const t={},n=i(e,["media"]);if(n!=null){let f=Vp(n);Array.isArray(f)&&(f=f.map(p=>Go(p))),a(t,["mediaChunks"],f)}const r=i(e,["audio"]);r!=null&&a(t,["audio"],Go(qp(r)));const o=i(e,["audioStreamEnd"]);o!=null&&a(t,["audioStreamEnd"],o);const s=i(e,["video"]);s!=null&&a(t,["video"],Go(Gp(s)));const l=i(e,["text"]);l!=null&&a(t,["text"],l);const u=i(e,["activityStart"]);u!=null&&a(t,["activityStart"],u);const c=i(e,["activityEnd"]);return c!=null&&a(t,["activityEnd"],c),t}function fv(e){const t={},n=i(e,["media"]);if(n!=null){let f=Vp(n);Array.isArray(f)&&(f=f.map(p=>p)),a(t,["mediaChunks"],f)}const r=i(e,["audio"]);r!=null&&a(t,["audio"],qp(r));const o=i(e,["audioStreamEnd"]);o!=null&&a(t,["audioStreamEnd"],o);const s=i(e,["video"]);s!=null&&a(t,["video"],Gp(s));const l=i(e,["text"]);l!=null&&a(t,["text"],l);const u=i(e,["activityStart"]);u!=null&&a(t,["activityStart"],u);const c=i(e,["activityEnd"]);return c!=null&&a(t,["activityEnd"],c),t}function pv(e){const t={},n=i(e,["setupComplete"]);n!=null&&a(t,["setupComplete"],n);const r=i(e,["serverContent"]);r!=null&&a(t,["serverContent"],r);const o=i(e,["toolCall"]);o!=null&&a(t,["toolCall"],o);const s=i(e,["toolCallCancellation"]);s!=null&&a(t,["toolCallCancellation"],s);const l=i(e,["usageMetadata"]);l!=null&&a(t,["usageMetadata"],xv(l));const u=i(e,["goAway"]);u!=null&&a(t,["goAway"],u);const c=i(e,["sessionResumptionUpdate"]);return c!=null&&a(t,["sessionResumptionUpdate"],c),t}function mv(e){const t={},n=i(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const r=i(e,["codeExecutionResult"]);r!=null&&a(t,["codeExecutionResult"],r);const o=i(e,["executableCode"]);o!=null&&a(t,["executableCode"],o);const s=i(e,["fileData"]);s!=null&&a(t,["fileData"],Zx(s));const l=i(e,["functionCall"]);l!=null&&a(t,["functionCall"],ev(l));const u=i(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=i(e,["inlineData"]);c!=null&&a(t,["inlineData"],Go(c));const f=i(e,["text"]);f!=null&&a(t,["text"],f);const p=i(e,["thought"]);p!=null&&a(t,["thought"],p);const m=i(e,["thoughtSignature"]);m!=null&&a(t,["thoughtSignature"],m);const h=i(e,["videoMetadata"]);return h!=null&&a(t,["videoMetadata"],h),t}function hv(e){const t={},n=i(e,["handle"]);if(n!=null&&a(t,["handle"],n),i(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Qp(e){const t={},n=i(e,["languageCode"]);n!=null&&a(t,["languageCode"],n);const r=i(e,["voiceConfig"]);if(r!=null&&a(t,["voiceConfig"],r),i(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function gv(e){const t={},n=i(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>m)),a(t,["functionDeclarations"],p)}if(i(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=i(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const o=i(e,["computerUse"]);o!=null&&a(t,["computerUse"],o);const s=i(e,["fileSearch"]);s!=null&&a(t,["fileSearch"],s);const l=i(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),i(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=i(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],rv(u));const c=i(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],ov(c));const f=i(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function yv(e){const t={},n=i(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(h=>tv(h))),a(t,["functionDeclarations"],m)}const r=i(e,["retrieval"]);r!=null&&a(t,["retrieval"],r);const o=i(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const s=i(e,["computerUse"]);if(s!=null&&a(t,["computerUse"],s),i(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=i(e,["codeExecution"]);l!=null&&a(t,["codeExecution"],l);const u=i(e,["enterpriseWebSearch"]);u!=null&&a(t,["enterpriseWebSearch"],u);const c=i(e,["googleMaps"]);c!=null&&a(t,["googleMaps"],c);const f=i(e,["googleSearch"]);f!=null&&a(t,["googleSearch"],f);const p=i(e,["urlContext"]);return p!=null&&a(t,["urlContext"],p),t}function xv(e){const t={},n=i(e,["promptTokenCount"]);n!=null&&a(t,["promptTokenCount"],n);const r=i(e,["cachedContentTokenCount"]);r!=null&&a(t,["cachedContentTokenCount"],r);const o=i(e,["candidatesTokenCount"]);o!=null&&a(t,["responseTokenCount"],o);const s=i(e,["toolUsePromptTokenCount"]);s!=null&&a(t,["toolUsePromptTokenCount"],s);const l=i(e,["thoughtsTokenCount"]);l!=null&&a(t,["thoughtsTokenCount"],l);const u=i(e,["totalTokenCount"]);u!=null&&a(t,["totalTokenCount"],u);const c=i(e,["promptTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(E=>E)),a(t,["promptTokensDetails"],g)}const f=i(e,["cacheTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(E=>E)),a(t,["cacheTokensDetails"],g)}const p=i(e,["candidatesTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(E=>E)),a(t,["responseTokensDetails"],g)}const m=i(e,["toolUsePromptTokensDetails"]);if(m!=null){let g=m;Array.isArray(g)&&(g=g.map(E=>E)),a(t,["toolUsePromptTokensDetails"],g)}const h=i(e,["trafficType"]);return h!=null&&a(t,["trafficType"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vv(e){const t={},n=i(e,["data"]);if(n!=null&&a(t,["data"],n),i(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=i(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function Ev(e){const t={},n=i(e,["content"]);n!=null&&a(t,["content"],n);const r=i(e,["citationMetadata"]);r!=null&&a(t,["citationMetadata"],Cv(r));const o=i(e,["tokenCount"]);o!=null&&a(t,["tokenCount"],o);const s=i(e,["finishReason"]);s!=null&&a(t,["finishReason"],s);const l=i(e,["avgLogprobs"]);l!=null&&a(t,["avgLogprobs"],l);const u=i(e,["groundingMetadata"]);u!=null&&a(t,["groundingMetadata"],u);const c=i(e,["index"]);c!=null&&a(t,["index"],c);const f=i(e,["logprobsResult"]);f!=null&&a(t,["logprobsResult"],f);const p=i(e,["safetyRatings"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>g)),a(t,["safetyRatings"],h)}const m=i(e,["urlContextMetadata"]);return m!=null&&a(t,["urlContextMetadata"],m),t}function Cv(e){const t={},n=i(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),a(t,["citations"],r)}return t}function wv(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["contents"]);if(o!=null){let s=st(o);Array.isArray(s)&&(s=s.map(l=>l)),a(n,["contents"],s)}return n}function Sv(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["tokensInfo"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),a(t,["tokensInfo"],o)}return t}function Tv(e){const t={},n=i(e,["values"]);n!=null&&a(t,["values"],n);const r=i(e,["statistics"]);return r!=null&&a(t,["statistics"],kv(r)),t}function kv(e){const t={},n=i(e,["truncated"]);n!=null&&a(t,["truncated"],n);const r=i(e,["token_count"]);return r!=null&&a(t,["tokenCount"],r),t}function Ms(e){const t={},n=i(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>bE(s))),a(t,["parts"],o)}const r=i(e,["role"]);return r!=null&&a(t,["role"],r),t}function Nv(e){const t={},n=i(e,["controlType"]);n!=null&&a(t,["controlType"],n);const r=i(e,["enableControlImageComputation"]);return r!=null&&a(t,["computeControl"],r),t}function _v(e){const t={};if(i(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(i(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(i(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function Iv(e,t){const n={},r=i(e,["systemInstruction"]);t!==void 0&&r!=null&&a(t,["systemInstruction"],Me(r));const o=i(e,["tools"]);if(t!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>nm(u))),a(t,["tools"],l)}const s=i(e,["generationConfig"]);return t!==void 0&&s!=null&&a(t,["generationConfig"],vE(s)),n}function Av(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["contents"]);if(o!=null){let l=st(o);Array.isArray(l)&&(l=l.map(u=>Ms(u))),a(n,["contents"],l)}const s=i(t,["config"]);return s!=null&&_v(s),n}function Rv(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["contents"]);if(o!=null){let l=st(o);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const s=i(t,["config"]);return s!=null&&Iv(s,n),n}function Pv(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["totalTokens"]);r!=null&&a(t,["totalTokens"],r);const o=i(e,["cachedContentTokenCount"]);return o!=null&&a(t,["cachedContentTokenCount"],o),t}function Mv(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["totalTokens"]);return r!=null&&a(t,["totalTokens"],r),t}function Dv(e,t){const n={},r=i(t,["model"]);return r!=null&&a(n,["_url","name"],Q(e,r)),n}function bv(e,t){const n={},r=i(t,["model"]);return r!=null&&a(n,["_url","name"],Q(e,r)),n}function Lv(e){const t={},n=i(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function Uv(e){const t={},n=i(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function Fv(e,t){const n={},r=i(e,["outputGcsUri"]);t!==void 0&&r!=null&&a(t,["parameters","storageUri"],r);const o=i(e,["negativePrompt"]);t!==void 0&&o!=null&&a(t,["parameters","negativePrompt"],o);const s=i(e,["numberOfImages"]);t!==void 0&&s!=null&&a(t,["parameters","sampleCount"],s);const l=i(e,["aspectRatio"]);t!==void 0&&l!=null&&a(t,["parameters","aspectRatio"],l);const u=i(e,["guidanceScale"]);t!==void 0&&u!=null&&a(t,["parameters","guidanceScale"],u);const c=i(e,["seed"]);t!==void 0&&c!=null&&a(t,["parameters","seed"],c);const f=i(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&a(t,["parameters","safetySetting"],f);const p=i(e,["personGeneration"]);t!==void 0&&p!=null&&a(t,["parameters","personGeneration"],p);const m=i(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&a(t,["parameters","includeSafetyAttributes"],m);const h=i(e,["includeRaiReason"]);t!==void 0&&h!=null&&a(t,["parameters","includeRaiReason"],h);const g=i(e,["language"]);t!==void 0&&g!=null&&a(t,["parameters","language"],g);const E=i(e,["outputMimeType"]);t!==void 0&&E!=null&&a(t,["parameters","outputOptions","mimeType"],E);const C=i(e,["outputCompressionQuality"]);t!==void 0&&C!=null&&a(t,["parameters","outputOptions","compressionQuality"],C);const T=i(e,["addWatermark"]);t!==void 0&&T!=null&&a(t,["parameters","addWatermark"],T);const x=i(e,["labels"]);t!==void 0&&x!=null&&a(t,["labels"],x);const y=i(e,["editMode"]);t!==void 0&&y!=null&&a(t,["parameters","editMode"],y);const v=i(e,["baseSteps"]);return t!==void 0&&v!=null&&a(t,["parameters","editConfig","baseSteps"],v),n}function Vv(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const s=i(t,["referenceImages"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>qE(c))),a(n,["instances[0]","referenceImages"],u)}const l=i(t,["config"]);return l!=null&&Fv(l,n),n}function Gv(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Ds(s))),a(t,["generatedImages"],o)}return t}function qv(e,t){const n={},r=i(e,["taskType"]);t!==void 0&&r!=null&&a(t,["requests[]","taskType"],r);const o=i(e,["title"]);t!==void 0&&o!=null&&a(t,["requests[]","title"],o);const s=i(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&a(t,["requests[]","outputDimensionality"],s),i(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(i(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Hv(e,t){const n={},r=i(e,["taskType"]);t!==void 0&&r!=null&&a(t,["instances[]","task_type"],r);const o=i(e,["title"]);t!==void 0&&o!=null&&a(t,["instances[]","title"],o);const s=i(e,["outputDimensionality"]);t!==void 0&&s!=null&&a(t,["parameters","outputDimensionality"],s);const l=i(e,["mimeType"]);t!==void 0&&l!=null&&a(t,["instances[]","mimeType"],l);const u=i(e,["autoTruncate"]);return t!==void 0&&u!=null&&a(t,["parameters","autoTruncate"],u),n}function Bv(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["contents"]);if(o!=null){let u=ga(e,o);Array.isArray(u)&&(u=u.map(c=>c)),a(n,["requests[]","content"],u)}const s=i(t,["config"]);s!=null&&qv(s,n);const l=i(t,["model"]);return l!==void 0&&a(n,["requests[]","model"],Q(e,l)),n}function zv(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["contents"]);if(o!=null){let l=ga(e,o);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["instances[]","content"],l)}const s=i(t,["config"]);return s!=null&&Hv(s,n),n}function $v(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>l)),a(t,["embeddings"],s)}const o=i(e,["metadata"]);return o!=null&&a(t,["metadata"],o),t}function Jv(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>Tv(l))),a(t,["embeddings"],s)}const o=i(e,["metadata"]);return o!=null&&a(t,["metadata"],o),t}function Ov(e){const t={},n=i(e,["endpoint"]);n!=null&&a(t,["name"],n);const r=i(e,["deployedModelId"]);return r!=null&&a(t,["deployedModelId"],r),t}function Wv(e){const t={};if(i(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=i(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const r=i(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function Yv(e){const t={},n=i(e,["id"]);n!=null&&a(t,["id"],n);const r=i(e,["args"]);r!=null&&a(t,["args"],r);const o=i(e,["name"]);if(o!=null&&a(t,["name"],o),i(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(i(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Kv(e){const t={},n=i(e,["mode"]);n!=null&&a(t,["mode"],n);const r=i(e,["allowedFunctionNames"]);if(r!=null&&a(t,["allowedFunctionNames"],r),i(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function jv(e){const t={};if(i(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=i(e,["description"]);n!=null&&a(t,["description"],n);const r=i(e,["name"]);r!=null&&a(t,["name"],r);const o=i(e,["parameters"]);o!=null&&a(t,["parameters"],o);const s=i(e,["parametersJsonSchema"]);s!=null&&a(t,["parametersJsonSchema"],s);const l=i(e,["response"]);l!=null&&a(t,["response"],l);const u=i(e,["responseJsonSchema"]);return u!=null&&a(t,["responseJsonSchema"],u),t}function Qv(e,t,n){const r={},o=i(t,["systemInstruction"]);n!==void 0&&o!=null&&a(n,["systemInstruction"],Ms(Me(o)));const s=i(t,["temperature"]);s!=null&&a(r,["temperature"],s);const l=i(t,["topP"]);l!=null&&a(r,["topP"],l);const u=i(t,["topK"]);u!=null&&a(r,["topK"],u);const c=i(t,["candidateCount"]);c!=null&&a(r,["candidateCount"],c);const f=i(t,["maxOutputTokens"]);f!=null&&a(r,["maxOutputTokens"],f);const p=i(t,["stopSequences"]);p!=null&&a(r,["stopSequences"],p);const m=i(t,["responseLogprobs"]);m!=null&&a(r,["responseLogprobs"],m);const h=i(t,["logprobs"]);h!=null&&a(r,["logprobs"],h);const g=i(t,["presencePenalty"]);g!=null&&a(r,["presencePenalty"],g);const E=i(t,["frequencyPenalty"]);E!=null&&a(r,["frequencyPenalty"],E);const C=i(t,["seed"]);C!=null&&a(r,["seed"],C);const T=i(t,["responseMimeType"]);T!=null&&a(r,["responseMimeType"],T);const x=i(t,["responseSchema"]);x!=null&&a(r,["responseSchema"],ya(x));const y=i(t,["responseJsonSchema"]);if(y!=null&&a(r,["responseJsonSchema"],y),i(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(i(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=i(t,["safetySettings"]);if(n!==void 0&&v!=null){let k=v;Array.isArray(k)&&(k=k.map(B=>HE(B))),a(n,["safetySettings"],k)}const S=i(t,["tools"]);if(n!==void 0&&S!=null){let k=ir(S);Array.isArray(k)&&(k=k.map(B=>YE(sr(B)))),a(n,["tools"],k)}const _=i(t,["toolConfig"]);if(n!==void 0&&_!=null&&a(n,["toolConfig"],WE(_)),i(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=i(t,["cachedContent"]);n!==void 0&&R!=null&&a(n,["cachedContent"],Ft(e,R));const I=i(t,["responseModalities"]);I!=null&&a(r,["responseModalities"],I);const w=i(t,["mediaResolution"]);w!=null&&a(r,["mediaResolution"],w);const M=i(t,["speechConfig"]);if(M!=null&&a(r,["speechConfig"],xa(M)),i(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const b=i(t,["thinkingConfig"]);b!=null&&a(r,["thinkingConfig"],b);const H=i(t,["imageConfig"]);return H!=null&&a(r,["imageConfig"],TE(H)),r}function Xv(e,t,n){const r={},o=i(t,["systemInstruction"]);n!==void 0&&o!=null&&a(n,["systemInstruction"],Me(o));const s=i(t,["temperature"]);s!=null&&a(r,["temperature"],s);const l=i(t,["topP"]);l!=null&&a(r,["topP"],l);const u=i(t,["topK"]);u!=null&&a(r,["topK"],u);const c=i(t,["candidateCount"]);c!=null&&a(r,["candidateCount"],c);const f=i(t,["maxOutputTokens"]);f!=null&&a(r,["maxOutputTokens"],f);const p=i(t,["stopSequences"]);p!=null&&a(r,["stopSequences"],p);const m=i(t,["responseLogprobs"]);m!=null&&a(r,["responseLogprobs"],m);const h=i(t,["logprobs"]);h!=null&&a(r,["logprobs"],h);const g=i(t,["presencePenalty"]);g!=null&&a(r,["presencePenalty"],g);const E=i(t,["frequencyPenalty"]);E!=null&&a(r,["frequencyPenalty"],E);const C=i(t,["seed"]);C!=null&&a(r,["seed"],C);const T=i(t,["responseMimeType"]);T!=null&&a(r,["responseMimeType"],T);const x=i(t,["responseSchema"]);x!=null&&a(r,["responseSchema"],ya(x));const y=i(t,["responseJsonSchema"]);y!=null&&a(r,["responseJsonSchema"],y);const v=i(t,["routingConfig"]);v!=null&&a(r,["routingConfig"],v);const S=i(t,["modelSelectionConfig"]);S!=null&&a(r,["modelConfig"],S);const _=i(t,["safetySettings"]);if(n!==void 0&&_!=null){let $=_;Array.isArray($)&&($=$.map(te=>te)),a(n,["safetySettings"],$)}const R=i(t,["tools"]);if(n!==void 0&&R!=null){let $=ir(R);Array.isArray($)&&($=$.map(te=>nm(sr(te)))),a(n,["tools"],$)}const I=i(t,["toolConfig"]);n!==void 0&&I!=null&&a(n,["toolConfig"],I);const w=i(t,["labels"]);n!==void 0&&w!=null&&a(n,["labels"],w);const M=i(t,["cachedContent"]);n!==void 0&&M!=null&&a(n,["cachedContent"],Ft(e,M));const b=i(t,["responseModalities"]);b!=null&&a(r,["responseModalities"],b);const H=i(t,["mediaResolution"]);H!=null&&a(r,["mediaResolution"],H);const k=i(t,["speechConfig"]);k!=null&&a(r,["speechConfig"],tm(xa(k)));const B=i(t,["audioTimestamp"]);B!=null&&a(r,["audioTimestamp"],B);const X=i(t,["thinkingConfig"]);X!=null&&a(r,["thinkingConfig"],X);const J=i(t,["imageConfig"]);return J!=null&&a(r,["imageConfig"],kE(J)),r}function Qd(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["contents"]);if(o!=null){let l=st(o);Array.isArray(l)&&(l=l.map(u=>Ms(u))),a(n,["contents"],l)}const s=i(t,["config"]);return s!=null&&a(n,["generationConfig"],Qv(e,s,n)),n}function Xd(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["contents"]);if(o!=null){let l=st(o);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const s=i(t,["config"]);return s!=null&&a(n,["generationConfig"],Xv(e,s,n)),n}function Zd(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>Ev(f))),a(t,["candidates"],c)}const o=i(e,["modelVersion"]);o!=null&&a(t,["modelVersion"],o);const s=i(e,["promptFeedback"]);s!=null&&a(t,["promptFeedback"],s);const l=i(e,["responseId"]);l!=null&&a(t,["responseId"],l);const u=i(e,["usageMetadata"]);return u!=null&&a(t,["usageMetadata"],u),t}function ec(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),a(t,["candidates"],f)}const o=i(e,["createTime"]);o!=null&&a(t,["createTime"],o);const s=i(e,["modelVersion"]);s!=null&&a(t,["modelVersion"],s);const l=i(e,["promptFeedback"]);l!=null&&a(t,["promptFeedback"],l);const u=i(e,["responseId"]);u!=null&&a(t,["responseId"],u);const c=i(e,["usageMetadata"]);return c!=null&&a(t,["usageMetadata"],c),t}function Zv(e,t){const n={};if(i(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(i(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=i(e,["numberOfImages"]);t!==void 0&&r!=null&&a(t,["parameters","sampleCount"],r);const o=i(e,["aspectRatio"]);t!==void 0&&o!=null&&a(t,["parameters","aspectRatio"],o);const s=i(e,["guidanceScale"]);if(t!==void 0&&s!=null&&a(t,["parameters","guidanceScale"],s),i(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=i(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&a(t,["parameters","safetySetting"],l);const u=i(e,["personGeneration"]);t!==void 0&&u!=null&&a(t,["parameters","personGeneration"],u);const c=i(e,["includeSafetyAttributes"]);t!==void 0&&c!=null&&a(t,["parameters","includeSafetyAttributes"],c);const f=i(e,["includeRaiReason"]);t!==void 0&&f!=null&&a(t,["parameters","includeRaiReason"],f);const p=i(e,["language"]);t!==void 0&&p!=null&&a(t,["parameters","language"],p);const m=i(e,["outputMimeType"]);t!==void 0&&m!=null&&a(t,["parameters","outputOptions","mimeType"],m);const h=i(e,["outputCompressionQuality"]);if(t!==void 0&&h!=null&&a(t,["parameters","outputOptions","compressionQuality"],h),i(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(i(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=i(e,["imageSize"]);if(t!==void 0&&g!=null&&a(t,["parameters","sampleImageSize"],g),i(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function eE(e,t){const n={},r=i(e,["outputGcsUri"]);t!==void 0&&r!=null&&a(t,["parameters","storageUri"],r);const o=i(e,["negativePrompt"]);t!==void 0&&o!=null&&a(t,["parameters","negativePrompt"],o);const s=i(e,["numberOfImages"]);t!==void 0&&s!=null&&a(t,["parameters","sampleCount"],s);const l=i(e,["aspectRatio"]);t!==void 0&&l!=null&&a(t,["parameters","aspectRatio"],l);const u=i(e,["guidanceScale"]);t!==void 0&&u!=null&&a(t,["parameters","guidanceScale"],u);const c=i(e,["seed"]);t!==void 0&&c!=null&&a(t,["parameters","seed"],c);const f=i(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&a(t,["parameters","safetySetting"],f);const p=i(e,["personGeneration"]);t!==void 0&&p!=null&&a(t,["parameters","personGeneration"],p);const m=i(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&a(t,["parameters","includeSafetyAttributes"],m);const h=i(e,["includeRaiReason"]);t!==void 0&&h!=null&&a(t,["parameters","includeRaiReason"],h);const g=i(e,["language"]);t!==void 0&&g!=null&&a(t,["parameters","language"],g);const E=i(e,["outputMimeType"]);t!==void 0&&E!=null&&a(t,["parameters","outputOptions","mimeType"],E);const C=i(e,["outputCompressionQuality"]);t!==void 0&&C!=null&&a(t,["parameters","outputOptions","compressionQuality"],C);const T=i(e,["addWatermark"]);t!==void 0&&T!=null&&a(t,["parameters","addWatermark"],T);const x=i(e,["labels"]);t!==void 0&&x!=null&&a(t,["labels"],x);const y=i(e,["imageSize"]);t!==void 0&&y!=null&&a(t,["parameters","sampleImageSize"],y);const v=i(e,["enhancePrompt"]);return t!==void 0&&v!=null&&a(t,["parameters","enhancePrompt"],v),n}function tE(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const s=i(t,["config"]);return s!=null&&Zv(s,n),n}function nE(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const s=i(t,["config"]);return s!=null&&eE(s,n),n}function rE(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>hE(l))),a(t,["generatedImages"],s)}const o=i(e,["positivePromptSafetyAttributes"]);return o!=null&&a(t,["positivePromptSafetyAttributes"],Zp(o)),t}function oE(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>Ds(l))),a(t,["generatedImages"],s)}const o=i(e,["positivePromptSafetyAttributes"]);return o!=null&&a(t,["positivePromptSafetyAttributes"],em(o)),t}function sE(e,t){const n={},r=i(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&a(t,["parameters","sampleCount"],r),i(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(i(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=i(e,["durationSeconds"]);if(t!==void 0&&o!=null&&a(t,["parameters","durationSeconds"],o),i(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=i(e,["aspectRatio"]);t!==void 0&&s!=null&&a(t,["parameters","aspectRatio"],s);const l=i(e,["resolution"]);t!==void 0&&l!=null&&a(t,["parameters","resolution"],l);const u=i(e,["personGeneration"]);if(t!==void 0&&u!=null&&a(t,["parameters","personGeneration"],u),i(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=i(e,["negativePrompt"]);t!==void 0&&c!=null&&a(t,["parameters","negativePrompt"],c);const f=i(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&a(t,["parameters","enhancePrompt"],f),i(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=i(e,["lastFrame"]);t!==void 0&&p!=null&&a(t,["instances[0]","lastFrame"],bs(p));const m=i(e,["referenceImages"]);if(t!==void 0&&m!=null){let h=m;Array.isArray(h)&&(h=h.map(g=>lC(g))),a(t,["instances[0]","referenceImages"],h)}if(i(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(i(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function iE(e,t){const n={},r=i(e,["numberOfVideos"]);t!==void 0&&r!=null&&a(t,["parameters","sampleCount"],r);const o=i(e,["outputGcsUri"]);t!==void 0&&o!=null&&a(t,["parameters","storageUri"],o);const s=i(e,["fps"]);t!==void 0&&s!=null&&a(t,["parameters","fps"],s);const l=i(e,["durationSeconds"]);t!==void 0&&l!=null&&a(t,["parameters","durationSeconds"],l);const u=i(e,["seed"]);t!==void 0&&u!=null&&a(t,["parameters","seed"],u);const c=i(e,["aspectRatio"]);t!==void 0&&c!=null&&a(t,["parameters","aspectRatio"],c);const f=i(e,["resolution"]);t!==void 0&&f!=null&&a(t,["parameters","resolution"],f);const p=i(e,["personGeneration"]);t!==void 0&&p!=null&&a(t,["parameters","personGeneration"],p);const m=i(e,["pubsubTopic"]);t!==void 0&&m!=null&&a(t,["parameters","pubsubTopic"],m);const h=i(e,["negativePrompt"]);t!==void 0&&h!=null&&a(t,["parameters","negativePrompt"],h);const g=i(e,["enhancePrompt"]);t!==void 0&&g!=null&&a(t,["parameters","enhancePrompt"],g);const E=i(e,["generateAudio"]);t!==void 0&&E!=null&&a(t,["parameters","generateAudio"],E);const C=i(e,["lastFrame"]);t!==void 0&&C!=null&&a(t,["instances[0]","lastFrame"],yt(C));const T=i(e,["referenceImages"]);if(t!==void 0&&T!=null){let v=T;Array.isArray(v)&&(v=v.map(S=>aC(S))),a(t,["instances[0]","referenceImages"],v)}const x=i(e,["mask"]);t!==void 0&&x!=null&&a(t,["instances[0]","mask"],iC(x));const y=i(e,["compressionQuality"]);return t!==void 0&&y!=null&&a(t,["parameters","compressionQuality"],y),n}function lE(e){const t={},n=i(e,["name"]);n!=null&&a(t,["name"],n);const r=i(e,["metadata"]);r!=null&&a(t,["metadata"],r);const o=i(e,["done"]);o!=null&&a(t,["done"],o);const s=i(e,["error"]);s!=null&&a(t,["error"],s);const l=i(e,["response","generateVideoResponse"]);return l!=null&&a(t,["response"],cE(l)),t}function aE(e){const t={},n=i(e,["name"]);n!=null&&a(t,["name"],n);const r=i(e,["metadata"]);r!=null&&a(t,["metadata"],r);const o=i(e,["done"]);o!=null&&a(t,["done"],o);const s=i(e,["error"]);s!=null&&a(t,["error"],s);const l=i(e,["response"]);return l!=null&&a(t,["response"],fE(l)),t}function uE(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const s=i(t,["image"]);s!=null&&a(n,["instances[0]","image"],bs(s));const l=i(t,["video"]);l!=null&&a(n,["instances[0]","video"],rm(l));const u=i(t,["source"]);u!=null&&pE(u,n);const c=i(t,["config"]);return c!=null&&sE(c,n),n}function dE(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const s=i(t,["image"]);s!=null&&a(n,["instances[0]","image"],yt(s));const l=i(t,["video"]);l!=null&&a(n,["instances[0]","video"],om(l));const u=i(t,["source"]);u!=null&&mE(u,n);const c=i(t,["config"]);return c!=null&&iE(c,n),n}function cE(e){const t={},n=i(e,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>yE(l))),a(t,["generatedVideos"],s)}const r=i(e,["raiMediaFilteredCount"]);r!=null&&a(t,["raiMediaFilteredCount"],r);const o=i(e,["raiMediaFilteredReasons"]);return o!=null&&a(t,["raiMediaFilteredReasons"],o),t}function fE(e){const t={},n=i(e,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>xE(l))),a(t,["generatedVideos"],s)}const r=i(e,["raiMediaFilteredCount"]);r!=null&&a(t,["raiMediaFilteredCount"],r);const o=i(e,["raiMediaFilteredReasons"]);return o!=null&&a(t,["raiMediaFilteredReasons"],o),t}function pE(e,t){const n={},r=i(e,["prompt"]);t!==void 0&&r!=null&&a(t,["instances[0]","prompt"],r);const o=i(e,["image"]);t!==void 0&&o!=null&&a(t,["instances[0]","image"],bs(o));const s=i(e,["video"]);return t!==void 0&&s!=null&&a(t,["instances[0]","video"],rm(s)),n}function mE(e,t){const n={},r=i(e,["prompt"]);t!==void 0&&r!=null&&a(t,["instances[0]","prompt"],r);const o=i(e,["image"]);t!==void 0&&o!=null&&a(t,["instances[0]","image"],yt(o));const s=i(e,["video"]);return t!==void 0&&s!=null&&a(t,["instances[0]","video"],om(s)),n}function hE(e){const t={},n=i(e,["_self"]);n!=null&&a(t,["image"],NE(n));const r=i(e,["raiFilteredReason"]);r!=null&&a(t,["raiFilteredReason"],r);const o=i(e,["_self"]);return o!=null&&a(t,["safetyAttributes"],Zp(o)),t}function Ds(e){const t={},n=i(e,["_self"]);n!=null&&a(t,["image"],Xp(n));const r=i(e,["raiFilteredReason"]);r!=null&&a(t,["raiFilteredReason"],r);const o=i(e,["_self"]);o!=null&&a(t,["safetyAttributes"],em(o));const s=i(e,["prompt"]);return s!=null&&a(t,["enhancedPrompt"],s),t}function gE(e){const t={},n=i(e,["_self"]);n!=null&&a(t,["mask"],Xp(n));const r=i(e,["labels"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),a(t,["labels"],o)}return t}function yE(e){const t={},n=i(e,["video"]);return n!=null&&a(t,["video"],oC(n)),t}function xE(e){const t={},n=i(e,["_self"]);return n!=null&&a(t,["video"],sC(n)),t}function vE(e){const t={},n=i(e,["modelSelectionConfig"]);n!=null&&a(t,["modelConfig"],n);const r=i(e,["responseJsonSchema"]);r!=null&&a(t,["responseJsonSchema"],r);const o=i(e,["audioTimestamp"]);o!=null&&a(t,["audioTimestamp"],o);const s=i(e,["candidateCount"]);s!=null&&a(t,["candidateCount"],s);const l=i(e,["enableAffectiveDialog"]);l!=null&&a(t,["enableAffectiveDialog"],l);const u=i(e,["frequencyPenalty"]);u!=null&&a(t,["frequencyPenalty"],u);const c=i(e,["logprobs"]);c!=null&&a(t,["logprobs"],c);const f=i(e,["maxOutputTokens"]);f!=null&&a(t,["maxOutputTokens"],f);const p=i(e,["mediaResolution"]);p!=null&&a(t,["mediaResolution"],p);const m=i(e,["presencePenalty"]);m!=null&&a(t,["presencePenalty"],m);const h=i(e,["responseLogprobs"]);h!=null&&a(t,["responseLogprobs"],h);const g=i(e,["responseMimeType"]);g!=null&&a(t,["responseMimeType"],g);const E=i(e,["responseModalities"]);E!=null&&a(t,["responseModalities"],E);const C=i(e,["responseSchema"]);C!=null&&a(t,["responseSchema"],C);const T=i(e,["routingConfig"]);T!=null&&a(t,["routingConfig"],T);const x=i(e,["seed"]);x!=null&&a(t,["seed"],x);const y=i(e,["speechConfig"]);y!=null&&a(t,["speechConfig"],tm(y));const v=i(e,["stopSequences"]);v!=null&&a(t,["stopSequences"],v);const S=i(e,["temperature"]);S!=null&&a(t,["temperature"],S);const _=i(e,["thinkingConfig"]);_!=null&&a(t,["thinkingConfig"],_);const R=i(e,["topK"]);R!=null&&a(t,["topK"],R);const I=i(e,["topP"]);if(I!=null&&a(t,["topP"],I),i(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function EE(e,t){const n={},r=i(t,["model"]);return r!=null&&a(n,["_url","name"],Q(e,r)),n}function CE(e,t){const n={},r=i(t,["model"]);return r!=null&&a(n,["_url","name"],Q(e,r)),n}function wE(e){const t={};if(i(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=i(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function SE(e){const t={};if(i(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(i(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=i(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function TE(e){const t={},n=i(e,["aspectRatio"]);n!=null&&a(t,["aspectRatio"],n);const r=i(e,["imageSize"]);if(r!=null&&a(t,["imageSize"],r),i(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(i(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function kE(e){const t={},n=i(e,["aspectRatio"]);n!=null&&a(t,["aspectRatio"],n);const r=i(e,["imageSize"]);r!=null&&a(t,["imageSize"],r);const o=i(e,["outputMimeType"]);o!=null&&a(t,["imageOutputOptions","mimeType"],o);const s=i(e,["outputCompressionQuality"]);return s!=null&&a(t,["imageOutputOptions","compressionQuality"],s),t}function NE(e){const t={},n=i(e,["bytesBase64Encoded"]);n!=null&&a(t,["imageBytes"],sn(n));const r=i(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function Xp(e){const t={},n=i(e,["gcsUri"]);n!=null&&a(t,["gcsUri"],n);const r=i(e,["bytesBase64Encoded"]);r!=null&&a(t,["imageBytes"],sn(r));const o=i(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function bs(e){const t={};if(i(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=i(e,["imageBytes"]);n!=null&&a(t,["bytesBase64Encoded"],sn(n));const r=i(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function yt(e){const t={},n=i(e,["gcsUri"]);n!=null&&a(t,["gcsUri"],n);const r=i(e,["imageBytes"]);r!=null&&a(t,["bytesBase64Encoded"],sn(r));const o=i(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function _E(e,t,n){const r={},o=i(t,["pageSize"]);n!==void 0&&o!=null&&a(n,["_query","pageSize"],o);const s=i(t,["pageToken"]);n!==void 0&&s!=null&&a(n,["_query","pageToken"],s);const l=i(t,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=i(t,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],$p(e,u)),r}function IE(e,t,n){const r={},o=i(t,["pageSize"]);n!==void 0&&o!=null&&a(n,["_query","pageSize"],o);const s=i(t,["pageToken"]);n!==void 0&&s!=null&&a(n,["_query","pageToken"],s);const l=i(t,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=i(t,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],$p(e,u)),r}function AE(e,t){const n={},r=i(t,["config"]);return r!=null&&_E(e,r,n),n}function RE(e,t){const n={},r=i(t,["config"]);return r!=null&&IE(e,r,n),n}function PE(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const o=i(e,["_self"]);if(o!=null){let s=Jp(o);Array.isArray(s)&&(s=s.map(l=>dl(l))),a(t,["models"],s)}return t}function ME(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const o=i(e,["_self"]);if(o!=null){let s=Jp(o);Array.isArray(s)&&(s=s.map(l=>cl(l))),a(t,["models"],s)}return t}function DE(e){const t={},n=i(e,["maskMode"]);n!=null&&a(t,["maskMode"],n);const r=i(e,["segmentationClasses"]);r!=null&&a(t,["maskClasses"],r);const o=i(e,["maskDilation"]);return o!=null&&a(t,["dilation"],o),t}function dl(e){const t={},n=i(e,["name"]);n!=null&&a(t,["name"],n);const r=i(e,["displayName"]);r!=null&&a(t,["displayName"],r);const o=i(e,["description"]);o!=null&&a(t,["description"],o);const s=i(e,["version"]);s!=null&&a(t,["version"],s);const l=i(e,["_self"]);l!=null&&a(t,["tunedModelInfo"],KE(l));const u=i(e,["inputTokenLimit"]);u!=null&&a(t,["inputTokenLimit"],u);const c=i(e,["outputTokenLimit"]);c!=null&&a(t,["outputTokenLimit"],c);const f=i(e,["supportedGenerationMethods"]);f!=null&&a(t,["supportedActions"],f);const p=i(e,["temperature"]);p!=null&&a(t,["temperature"],p);const m=i(e,["maxTemperature"]);m!=null&&a(t,["maxTemperature"],m);const h=i(e,["topP"]);h!=null&&a(t,["topP"],h);const g=i(e,["topK"]);g!=null&&a(t,["topK"],g);const E=i(e,["thinking"]);return E!=null&&a(t,["thinking"],E),t}function cl(e){const t={},n=i(e,["name"]);n!=null&&a(t,["name"],n);const r=i(e,["displayName"]);r!=null&&a(t,["displayName"],r);const o=i(e,["description"]);o!=null&&a(t,["description"],o);const s=i(e,["versionId"]);s!=null&&a(t,["version"],s);const l=i(e,["deployedModels"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(h=>Ov(h))),a(t,["endpoints"],m)}const u=i(e,["labels"]);u!=null&&a(t,["labels"],u);const c=i(e,["_self"]);c!=null&&a(t,["tunedModelInfo"],jE(c));const f=i(e,["defaultCheckpointId"]);f!=null&&a(t,["defaultCheckpointId"],f);const p=i(e,["checkpoints"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(h=>h)),a(t,["checkpoints"],m)}return t}function bE(e){const t={},n=i(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const r=i(e,["codeExecutionResult"]);r!=null&&a(t,["codeExecutionResult"],r);const o=i(e,["executableCode"]);o!=null&&a(t,["executableCode"],o);const s=i(e,["fileData"]);s!=null&&a(t,["fileData"],Wv(s));const l=i(e,["functionCall"]);l!=null&&a(t,["functionCall"],Yv(l));const u=i(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=i(e,["inlineData"]);c!=null&&a(t,["inlineData"],vv(c));const f=i(e,["text"]);f!=null&&a(t,["text"],f);const p=i(e,["thought"]);p!=null&&a(t,["thought"],p);const m=i(e,["thoughtSignature"]);m!=null&&a(t,["thoughtSignature"],m);const h=i(e,["videoMetadata"]);return h!=null&&a(t,["videoMetadata"],h),t}function LE(e){const t={},n=i(e,["productImage"]);return n!=null&&a(t,["image"],yt(n)),t}function UE(e,t){const n={},r=i(e,["numberOfImages"]);t!==void 0&&r!=null&&a(t,["parameters","sampleCount"],r);const o=i(e,["baseSteps"]);t!==void 0&&o!=null&&a(t,["parameters","baseSteps"],o);const s=i(e,["outputGcsUri"]);t!==void 0&&s!=null&&a(t,["parameters","storageUri"],s);const l=i(e,["seed"]);t!==void 0&&l!=null&&a(t,["parameters","seed"],l);const u=i(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&a(t,["parameters","safetySetting"],u);const c=i(e,["personGeneration"]);t!==void 0&&c!=null&&a(t,["parameters","personGeneration"],c);const f=i(e,["addWatermark"]);t!==void 0&&f!=null&&a(t,["parameters","addWatermark"],f);const p=i(e,["outputMimeType"]);t!==void 0&&p!=null&&a(t,["parameters","outputOptions","mimeType"],p);const m=i(e,["outputCompressionQuality"]);t!==void 0&&m!=null&&a(t,["parameters","outputOptions","compressionQuality"],m);const h=i(e,["enhancePrompt"]);t!==void 0&&h!=null&&a(t,["parameters","enhancePrompt"],h);const g=i(e,["labels"]);return t!==void 0&&g!=null&&a(t,["labels"],g),n}function FE(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["source"]);o!=null&&GE(o,n);const s=i(t,["config"]);return s!=null&&UE(s,n),n}function VE(e){const t={},n=i(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>Ds(o))),a(t,["generatedImages"],r)}return t}function GE(e,t){const n={},r=i(e,["prompt"]);t!==void 0&&r!=null&&a(t,["instances[0]","prompt"],r);const o=i(e,["personImage"]);t!==void 0&&o!=null&&a(t,["instances[0]","personImage","image"],yt(o));const s=i(e,["productImages"]);if(t!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>LE(u))),a(t,["instances[0]","productImages"],l)}return n}function qE(e){const t={},n=i(e,["referenceImage"]);n!=null&&a(t,["referenceImage"],yt(n));const r=i(e,["referenceId"]);r!=null&&a(t,["referenceId"],r);const o=i(e,["referenceType"]);o!=null&&a(t,["referenceType"],o);const s=i(e,["maskImageConfig"]);s!=null&&a(t,["maskImageConfig"],DE(s));const l=i(e,["controlImageConfig"]);l!=null&&a(t,["controlImageConfig"],Nv(l));const u=i(e,["styleImageConfig"]);u!=null&&a(t,["styleImageConfig"],u);const c=i(e,["subjectImageConfig"]);return c!=null&&a(t,["subjectImageConfig"],c),t}function Zp(e){const t={},n=i(e,["safetyAttributes","categories"]);n!=null&&a(t,["categories"],n);const r=i(e,["safetyAttributes","scores"]);r!=null&&a(t,["scores"],r);const o=i(e,["contentType"]);return o!=null&&a(t,["contentType"],o),t}function em(e){const t={},n=i(e,["safetyAttributes","categories"]);n!=null&&a(t,["categories"],n);const r=i(e,["safetyAttributes","scores"]);r!=null&&a(t,["scores"],r);const o=i(e,["contentType"]);return o!=null&&a(t,["contentType"],o),t}function HE(e){const t={},n=i(e,["category"]);if(n!=null&&a(t,["category"],n),i(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=i(e,["threshold"]);return r!=null&&a(t,["threshold"],r),t}function BE(e){const t={},n=i(e,["image"]);return n!=null&&a(t,["image"],yt(n)),t}function zE(e,t){const n={},r=i(e,["mode"]);t!==void 0&&r!=null&&a(t,["parameters","mode"],r);const o=i(e,["maxPredictions"]);t!==void 0&&o!=null&&a(t,["parameters","maxPredictions"],o);const s=i(e,["confidenceThreshold"]);t!==void 0&&s!=null&&a(t,["parameters","confidenceThreshold"],s);const l=i(e,["maskDilation"]);t!==void 0&&l!=null&&a(t,["parameters","maskDilation"],l);const u=i(e,["binaryColorThreshold"]);t!==void 0&&u!=null&&a(t,["parameters","binaryColorThreshold"],u);const c=i(e,["labels"]);return t!==void 0&&c!=null&&a(t,["labels"],c),n}function $E(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["source"]);o!=null&&OE(o,n);const s=i(t,["config"]);return s!=null&&zE(s,n),n}function JE(e){const t={},n=i(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>gE(o))),a(t,["generatedMasks"],r)}return t}function OE(e,t){const n={},r=i(e,["prompt"]);t!==void 0&&r!=null&&a(t,["instances[0]","prompt"],r);const o=i(e,["image"]);t!==void 0&&o!=null&&a(t,["instances[0]","image"],yt(o));const s=i(e,["scribbleImage"]);return t!==void 0&&s!=null&&a(t,["instances[0]","scribble"],BE(s)),n}function tm(e){const t={},n=i(e,["languageCode"]);n!=null&&a(t,["languageCode"],n);const r=i(e,["voiceConfig"]);if(r!=null&&a(t,["voiceConfig"],r),i(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function WE(e){const t={},n=i(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],Kv(n));const r=i(e,["retrievalConfig"]);return r!=null&&a(t,["retrievalConfig"],r),t}function YE(e){const t={},n=i(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>m)),a(t,["functionDeclarations"],p)}if(i(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=i(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const o=i(e,["computerUse"]);o!=null&&a(t,["computerUse"],o);const s=i(e,["fileSearch"]);s!=null&&a(t,["fileSearch"],s);const l=i(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),i(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=i(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],wE(u));const c=i(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],SE(c));const f=i(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function nm(e){const t={},n=i(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(h=>jv(h))),a(t,["functionDeclarations"],m)}const r=i(e,["retrieval"]);r!=null&&a(t,["retrieval"],r);const o=i(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const s=i(e,["computerUse"]);if(s!=null&&a(t,["computerUse"],s),i(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=i(e,["codeExecution"]);l!=null&&a(t,["codeExecution"],l);const u=i(e,["enterpriseWebSearch"]);u!=null&&a(t,["enterpriseWebSearch"],u);const c=i(e,["googleMaps"]);c!=null&&a(t,["googleMaps"],c);const f=i(e,["googleSearch"]);f!=null&&a(t,["googleSearch"],f);const p=i(e,["urlContext"]);return p!=null&&a(t,["urlContext"],p),t}function KE(e){const t={},n=i(e,["baseModel"]);n!=null&&a(t,["baseModel"],n);const r=i(e,["createTime"]);r!=null&&a(t,["createTime"],r);const o=i(e,["updateTime"]);return o!=null&&a(t,["updateTime"],o),t}function jE(e){const t={},n=i(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&a(t,["baseModel"],n);const r=i(e,["createTime"]);r!=null&&a(t,["createTime"],r);const o=i(e,["updateTime"]);return o!=null&&a(t,["updateTime"],o),t}function QE(e,t){const n={},r=i(e,["displayName"]);t!==void 0&&r!=null&&a(t,["displayName"],r);const o=i(e,["description"]);t!==void 0&&o!=null&&a(t,["description"],o);const s=i(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&a(t,["defaultCheckpointId"],s),n}function XE(e,t){const n={},r=i(e,["displayName"]);t!==void 0&&r!=null&&a(t,["displayName"],r);const o=i(e,["description"]);t!==void 0&&o!=null&&a(t,["description"],o);const s=i(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&a(t,["defaultCheckpointId"],s),n}function ZE(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","name"],Q(e,r));const o=i(t,["config"]);return o!=null&&QE(o,n),n}function eC(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["config"]);return o!=null&&XE(o,n),n}function tC(e,t){const n={},r=i(e,["outputGcsUri"]);t!==void 0&&r!=null&&a(t,["parameters","storageUri"],r);const o=i(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&a(t,["parameters","safetySetting"],o);const s=i(e,["personGeneration"]);t!==void 0&&s!=null&&a(t,["parameters","personGeneration"],s);const l=i(e,["includeRaiReason"]);t!==void 0&&l!=null&&a(t,["parameters","includeRaiReason"],l);const u=i(e,["outputMimeType"]);t!==void 0&&u!=null&&a(t,["parameters","outputOptions","mimeType"],u);const c=i(e,["outputCompressionQuality"]);t!==void 0&&c!=null&&a(t,["parameters","outputOptions","compressionQuality"],c);const f=i(e,["enhanceInputImage"]);t!==void 0&&f!=null&&a(t,["parameters","upscaleConfig","enhanceInputImage"],f);const p=i(e,["imagePreservationFactor"]);t!==void 0&&p!=null&&a(t,["parameters","upscaleConfig","imagePreservationFactor"],p);const m=i(e,["labels"]);t!==void 0&&m!=null&&a(t,["labels"],m);const h=i(e,["numberOfImages"]);t!==void 0&&h!=null&&a(t,["parameters","sampleCount"],h);const g=i(e,["mode"]);return t!==void 0&&g!=null&&a(t,["parameters","mode"],g),n}function nC(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["image"]);o!=null&&a(n,["instances[0]","image"],yt(o));const s=i(t,["upscaleFactor"]);s!=null&&a(n,["parameters","upscaleConfig","upscaleFactor"],s);const l=i(t,["config"]);return l!=null&&tC(l,n),n}function rC(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Ds(s))),a(t,["generatedImages"],o)}return t}function oC(e){const t={},n=i(e,["uri"]);n!=null&&a(t,["uri"],n);const r=i(e,["encodedVideo"]);r!=null&&a(t,["videoBytes"],sn(r));const o=i(e,["encoding"]);return o!=null&&a(t,["mimeType"],o),t}function sC(e){const t={},n=i(e,["gcsUri"]);n!=null&&a(t,["uri"],n);const r=i(e,["bytesBase64Encoded"]);r!=null&&a(t,["videoBytes"],sn(r));const o=i(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function iC(e){const t={},n=i(e,["image"]);n!=null&&a(t,["_self"],yt(n));const r=i(e,["maskMode"]);return r!=null&&a(t,["maskMode"],r),t}function lC(e){const t={},n=i(e,["image"]);n!=null&&a(t,["image"],bs(n));const r=i(e,["referenceType"]);return r!=null&&a(t,["referenceType"],r),t}function aC(e){const t={},n=i(e,["image"]);n!=null&&a(t,["image"],yt(n));const r=i(e,["referenceType"]);return r!=null&&a(t,["referenceType"],r),t}function rm(e){const t={},n=i(e,["uri"]);n!=null&&a(t,["uri"],n);const r=i(e,["videoBytes"]);r!=null&&a(t,["encodedVideo"],sn(r));const o=i(e,["mimeType"]);return o!=null&&a(t,["encoding"],o),t}function om(e){const t={},n=i(e,["uri"]);n!=null&&a(t,["gcsUri"],n);const r=i(e,["videoBytes"]);r!=null&&a(t,["bytesBase64Encoded"],sn(r));const o=i(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uC="Content-Type",dC="X-Server-Timeout",cC="User-Agent",fl="x-goog-api-client",fC="1.30.0",pC=`google-genai-sdk/${fC}`,mC="v1beta1",hC="v1beta",tc=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class gC{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:mC,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:hC,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const o=[this.getRequestUrlInternal(n)];return r&&o.push(this.getBaseResourcePath()),t!==""&&o.push(t),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[l,u]of Object.entries(t.queryParams))o.searchParams.append(l,String(u));let s={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=t.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,o.toString(),t.abortSignal),this.unaryApiCall(o,s,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[o,s]of Object.entries(n))typeof s=="object"?r[o]=Object.assign(Object.assign({},r[o]),s):s!==void 0&&(r[o]=s);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,r);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let s={};return s.body=t.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,o.toString(),t.abortSignal),this.streamApiCall(o,s,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,o){if(n&&n.timeout||o){const s=new AbortController,l=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>s.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}o&&o.addEventListener("abort",()=>{s.abort()}),t.signal=l}return n&&n.extraBody!==null&&yC(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await nc(o),new ll(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await nc(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(t){var n;return On(this,arguments,function*(){const o=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let l="";for(;;){const{done:u,value:c}=yield oe(o.read());if(u){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=s.decode(c,{stream:!0});try{const m=JSON.parse(f);if("error"in m){const h=JSON.parse(JSON.stringify(m.error)),g=h.status,E=h.code,C=`got status: ${g}. ${JSON.stringify(m)}`;if(E>=400&&E<600)throw new Ps({message:C,status:E})}}catch(m){if(m.name==="ApiError")throw m}l+=f;let p=l.match(tc);for(;p;){const m=p[1];try{const h=new Response(m,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield oe(new ll(h)),l=l.slice(p[0].length),p=l.match(tc)}catch(h){throw new Error(`exception parsing stream chunk ${m}. ${h}`)}}}}finally{o.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=pC+" "+this.clientOptions.userAgentExtra;return t[cC]=n,t[fl]=n,t[uC]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[o,s]of Object.entries(t.headers))r.append(o,s);t.timeout&&t.timeout>0&&r.append(dC,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const s=this.clientOptions.uploader,l=await s.stat(t);o.sizeBytes=String(l.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=u;const c={file:o},f=this.getFileName(t),p=U("upload/v1beta/files",c._url),m=await this.fetchUploadUrl(p,o.sizeBytes,o.mimeType,f,c,n==null?void 0:n.httpOptions);return s.upload(t,m,this)}async uploadFileToFileSearchStore(t,n,r){var o;const s=this.clientOptions.uploader,l=await s.stat(n),u=String(l.size),c=(o=r==null?void 0:r.mimeType)!==null&&o!==void 0?o:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${t}:uploadToFileSearchStore`,p=this.getFileName(n),m={};r!=null&&r.customMetadata&&(m.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(m.chunkingConfig=r.chunkingConfig);const h=await this.fetchUploadUrl(f,u,c,p,m,r==null?void 0:r.httpOptions);return s.uploadToFileSearchStore(n,h,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,o,s,l){var u;let c={};l?c=l:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},o?{"X-Goog-Upload-File-Name":o}:{})};const f=await this.request({path:t,body:JSON.stringify(s),httpMethod:"POST",httpOptions:c});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(u=f==null?void 0:f.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function nc(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const o=JSON.stringify(r);throw n>=400&&n<600?new Ps({message:o,status:n}):new Error(o)}}function yC(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const s=JSON.parse(e.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,l){const u=Object.assign({},s);for(const c in l)if(Object.prototype.hasOwnProperty.call(l,c)){const f=l[c],p=u[c];f&&typeof f=="object"&&!Array.isArray(f)&&p&&typeof p=="object"&&!Array.isArray(p)?u[c]=r(p,f):(p&&f&&typeof p!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof p}, New type: ${typeof f}. Overwriting.`),u[c]=f)}return u}const o=r(n,t);e.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xC="mcp_used/unknown";let vC=!1;function sm(e){for(const t of e)if(EC(t)||typeof t=="object"&&"inputSchema"in t)return!0;return vC}function im(e){var t;const n=(t=e[fl])!==null&&t!==void 0?t:"";e[fl]=(n+` ${xC}`).trimStart()}function EC(e){return e!==null&&typeof e=="object"&&e instanceof Ea}function CC(e,t=100){return On(this,arguments,function*(){let r,o=0;for(;o<t;){const s=yield oe(e.listTools({cursor:r}));for(const l of s.tools)yield yield oe(l),o++;if(!s.nextCursor)break;r=s.nextCursor}})}class Ea{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Ea(t,n)}async initialize(){var t,n,r,o;if(this.mcpTools.length>0)return;const s={},l=[];for(const p of this.mcpClients)try{for(var u=!0,c=(n=void 0,Dr(CC(p))),f;f=await c.next(),t=f.done,!t;u=!0){o=f.value,u=!1;const m=o;l.push(m);const h=m.name;if(s[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);s[h]=p}}catch(m){n={error:m}}finally{try{!u&&!t&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),py(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const l=await o.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function wC(e,t,n){const r=new sy;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(r,o),t(r)}class SC{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),l=NC(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${o}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const p=new Promise(v=>{f=v}),m=t.callbacks,h=function(){f({})},g=this.apiClient,E={onopen:h,onmessage:v=>{wC(g,m.onmessage,v)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(v){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(v){}},C=this.webSocketFactory.create(c,kC(l),E);C.connect(),await p;const y={setup:{model:Q(this.apiClient,t.model)}};return C.send(JSON.stringify(y)),new TC(C,this.apiClient)}}class TC{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=dv(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=uv(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Vn.PLAY)}pause(){this.sendPlaybackControl(Vn.PAUSE)}stop(){this.sendPlaybackControl(Vn.STOP)}resetContext(){this.sendPlaybackControl(Vn.RESET_CONTEXT)}close(){this.conn.close()}}function kC(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function NC(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _C="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function IC(e,t,n){const r=new oy;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const s=JSON.parse(o);if(e.isVertexAI()){const l=pv(s);Object.assign(r,l)}else Object.assign(r,s);t(r)}class AC{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new SC(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,o,s,l,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let p;const m=this.apiClient.getHeaders();t.config&&t.config.tools&&sm(t.config.tools)&&im(m);const h=DC(m);if(this.apiClient.isVertexAI())p=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,p);else{const M=this.apiClient.getApiKey();let b="BidiGenerateContent",H="key";M!=null&&M.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),b="BidiGenerateContentConstrained",H="access_token"),p=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${b}?${H}=${M}`}let g=()=>{};const E=new Promise(M=>{g=M}),C=t.callbacks,T=function(){var M;(M=C==null?void 0:C.onopen)===null||M===void 0||M.call(C),g({})},x=this.apiClient,y={onopen:T,onmessage:M=>{IC(x,C.onmessage,M)},onerror:(n=C==null?void 0:C.onerror)!==null&&n!==void 0?n:function(M){},onclose:(r=C==null?void 0:C.onclose)!==null&&r!==void 0?r:function(M){}},v=this.webSocketFactory.create(p,MC(h),y);v.connect(),await E;let S=Q(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&S.startsWith("publishers/")){const M=this.apiClient.getProject(),b=this.apiClient.getLocation();S=`projects/${M}/locations/${b}/`+S}let _={};this.apiClient.isVertexAI()&&((o=t.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[cs.AUDIO]}:t.config.responseModalities=[cs.AUDIO]),!((s=t.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const R=(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],I=[];for(const M of R)if(this.isCallableTool(M)){const b=M;I.push(await b.tool())}else I.push(M);I.length>0&&(t.config.tools=I);const w={model:S,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?_=av(this.apiClient,w):_=lv(this.apiClient,w),delete _.config,v.send(JSON.stringify(_)),new PC(v,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const RC={turnComplete:!0};class PC{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=st(n.turns),t.isVertexAI()||(r=r.map(o=>Ms(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!t.isVertexAI()&&!("id"in s))throw new Error(_C)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},RC),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:fv(t)}:n={realtimeInput:cv(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function MC(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function DC(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rc=10;function oc(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let o=!1;for(const l of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Wn(l)){o=!0;break}if(!o)return!0;const s=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Wn(e){return"callTool"in e&&typeof e.callTool=="function"}function bC(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(o=>Wn(o)))!==null&&r!==void 0?r:!1}function sc(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,o)=>{if(Wn(r))return;const s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(o)}),n}function ic(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LC extends Ut{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,o,s,l,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!bC(n)||oc(n.config))return await this.generateContentInternal(c);const f=sc(n);if(f.length>0){const C=f.map(T=>`tools[${T}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${C}.`)}let p,m;const h=st(c.contents),g=(s=(o=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&s!==void 0?s:rc;let E=0;for(;E<g&&(p=await this.generateContentInternal(c),!(!p.functionCalls||p.functionCalls.length===0));){const C=p.candidates[0].content,T=[];for(const x of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(Wn(x)){const v=await x.callTool(p.functionCalls);T.push(...v)}E++,m={role:"user",parts:T},c.contents=st(c.contents),c.contents.push(C),c.contents.push(m),ic(c.config)&&(h.push(C),h.push(m))}return ic(c.config)&&(p.automaticFunctionCallingHistory=h),p},this.generateContentStream=async n=>{var r,o,s,l,u;if(this.maybeMoveToResponseJsonSchem(n),oc(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const c=sc(n);if(c.length>0){const m=c.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(s=(o=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,p=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(f&&!p)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var o;let s;const l=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((o=c==null?void 0:c.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?s=c==null?void 0:c.safetyAttributes:l.push(c);let u;return s?u={generatedImages:l,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new wn(bt.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var r,o,s,l,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,o;const s=(n=t.config)===null||n===void 0?void 0:n.tools;if(!s)return t;const l=await Promise.all(s.map(async c=>Wn(c)?await c.tool():c)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(u.config.tools=l,t.config&&t.config.tools&&sm(t.config.tools)){const c=(o=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&o!==void 0?o:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),im(f),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(t){var n,r,o;const s=new Map;for(const l of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Wn(l)){const u=l,c=await u.tool();for(const f of(o=c.functionDeclarations)!==null&&o!==void 0?o:[]){if(!f.name)throw new Error("Function declaration name is required.");if(s.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);s.set(f.name,u)}}return s}async processAfcStream(t){var n,r,o;const s=(o=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&o!==void 0?o:rc;let l=!1,u=0;const c=await this.initAfcToolsMap(t);return function(f,p,m){var h,g;return On(this,arguments,function*(){for(var E,C,T,x;u<s;){l&&(u++,l=!1);const _=yield oe(f.processParamsMaybeAddMcpUsage(m)),R=yield oe(f.generateContentStreamInternal(_)),I=[],w=[];try{for(var y=!0,v=(C=void 0,Dr(R)),S;S=yield oe(v.next()),E=S.done,!E;y=!0){x=S.value,y=!1;const M=x;if(yield yield oe(M),M.candidates&&(!((h=M.candidates[0])===null||h===void 0)&&h.content)){w.push(M.candidates[0].content);for(const b of(g=M.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(u<s&&b.functionCall){if(!b.functionCall.name)throw new Error("Function call name was not returned by the model.");if(p.has(b.functionCall.name)){const H=yield oe(p.get(b.functionCall.name).callTool([b.functionCall]));I.push(...H)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${p.keys()}, mising tool: ${b.functionCall.name}`)}}}}catch(M){C={error:M}}finally{try{!y&&!E&&(T=v.return)&&(yield oe(T.call(v)))}finally{if(C)throw C.error}}if(I.length>0){l=!0;const M=new xr;M.candidates=[{content:{role:"user",parts:I}}],yield yield oe(M);const b=[];b.push(...w),b.push({role:"user",parts:I});const H=st(m.contents).concat(b);m.contents=H}else break}})}(this,c,t)}async generateContentInternal(t){var n,r,o,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=Xd(this.apiClient,t);return u=U("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=ec(p),h=new xr;return Object.assign(h,m),h})}else{const f=Qd(this.apiClient,t);return u=U("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=Zd(p),h=new xr;return Object.assign(h,m),h})}}async generateContentStreamInternal(t){var n,r,o,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=Xd(this.apiClient,t);return u=U("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(m){return On(this,arguments,function*(){var h,g,E,C;try{for(var T=!0,x=Dr(m),y;y=yield oe(x.next()),h=y.done,!h;T=!0){C=y.value,T=!1;const v=C,S=ec(yield oe(v.json()));S.sdkHttpResponse={headers:v.headers};const _=new xr;Object.assign(_,S),yield yield oe(_)}}catch(v){g={error:v}}finally{try{!T&&!h&&(E=x.return)&&(yield oe(E.call(x)))}finally{if(g)throw g.error}}})})}else{const f=Qd(this.apiClient,t);return u=U("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}),l.then(function(m){return On(this,arguments,function*(){var h,g,E,C;try{for(var T=!0,x=Dr(m),y;y=yield oe(x.next()),h=y.done,!h;T=!0){C=y.value,T=!1;const v=C,S=Zd(yield oe(v.json()));S.sdkHttpResponse={headers:v.headers};const _=new xr;Object.assign(_,S),yield yield oe(_)}}catch(v){g={error:v}}finally{try{!T&&!h&&(E=x.return)&&(yield oe(E.call(x)))}finally{if(g)throw g.error}}})})}}async embedContent(t){var n,r,o,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=zv(this.apiClient,t);return u=U("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=Jv(p),h=new Ld;return Object.assign(h,m),h})}else{const f=Bv(this.apiClient,t);return u=U("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=$v(p),h=new Ld;return Object.assign(h,m),h})}}async generateImagesInternal(t){var n,r,o,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=nE(this.apiClient,t);return u=U("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=oE(p),h=new Ud;return Object.assign(h,m),h})}else{const f=tE(this.apiClient,t);return u=U("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=rE(p),h=new Ud;return Object.assign(h,m),h})}}async editImageInternal(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Vv(this.apiClient,t);return s=U("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=Gv(c),p=new Wg;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=nC(this.apiClient,t);return s=U("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=rC(c),p=new Yg;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=FE(this.apiClient,t);return s=U("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>{const f=VE(c),p=new Kg;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=$E(this.apiClient,t);return s=U("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>{const f=JE(c),p=new jg;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,o,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=CE(this.apiClient,t);return u=U("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>cl(p))}else{const f=EE(this.apiClient,t);return u=U("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>dl(p))}}async listInternal(t){var n,r,o,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=RE(this.apiClient,t);return u=U("{models_url}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=ME(p),h=new Fd;return Object.assign(h,m),h})}else{const f=AE(this.apiClient,t);return u=U("{models_url}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=PE(p),h=new Fd;return Object.assign(h,m),h})}}async update(t){var n,r,o,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=eC(this.apiClient,t);return u=U("{model}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>cl(p))}else{const f=ZE(this.apiClient,t);return u=U("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>dl(p))}}async delete(t){var n,r,o,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=bv(this.apiClient,t);return u=U("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=Uv(p),h=new Vd;return Object.assign(h,m),h})}else{const f=Dv(this.apiClient,t);return u=U("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=Lv(p),h=new Vd;return Object.assign(h,m),h})}}async countTokens(t){var n,r,o,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=Rv(this.apiClient,t);return u=U("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=Mv(p),h=new Gd;return Object.assign(h,m),h})}else{const f=Av(this.apiClient,t);return u=U("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=Pv(p),h=new Gd;return Object.assign(h,m),h})}}async computeTokens(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=wv(this.apiClient,t);return s=U("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>{const f=Sv(c),p=new Qg;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,o,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=dE(this.apiClient,t);return u=U("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>{const m=aE(p),h=new fs;return Object.assign(h,m),h})}else{const f=uE(this.apiClient,t);return u=U("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>{const m=lE(p),h=new fs;return Object.assign(h,m),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UC extends Ut{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,o,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=Hg(t);return u=U("{operationName}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l}else{const f=qg(t);return u=U("{operationName}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l}}async fetchPredictVideosOperationInternal(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Dg(t);return s=U("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FC(e){const t={},n=i(e,["data"]);if(n!=null&&a(t,["data"],n),i(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=i(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function VC(e){const t={},n=i(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>WC(s))),a(t,["parts"],o)}const r=i(e,["role"]);return r!=null&&a(t,["role"],r),t}function GC(e,t,n){const r={},o=i(t,["expireTime"]);n!==void 0&&o!=null&&a(n,["expireTime"],o);const s=i(t,["newSessionExpireTime"]);n!==void 0&&s!=null&&a(n,["newSessionExpireTime"],s);const l=i(t,["uses"]);n!==void 0&&l!=null&&a(n,["uses"],l);const u=i(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&a(n,["bidiGenerateContentSetup"],OC(e,u));const c=i(t,["lockAdditionalFields"]);return n!==void 0&&c!=null&&a(n,["fieldMask"],c),r}function qC(e,t){const n={},r=i(t,["config"]);return r!=null&&a(n,["config"],GC(e,r,n)),n}function HC(e){const t={};if(i(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=i(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const r=i(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function BC(e){const t={},n=i(e,["id"]);n!=null&&a(t,["id"],n);const r=i(e,["args"]);r!=null&&a(t,["args"],r);const o=i(e,["name"]);if(o!=null&&a(t,["name"],o),i(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(i(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function zC(e){const t={};if(i(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=i(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function $C(e){const t={};if(i(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(i(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=i(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function JC(e,t){const n={},r=i(e,["generationConfig"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig"],r);const o=i(e,["responseModalities"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig","responseModalities"],o);const s=i(e,["temperature"]);t!==void 0&&s!=null&&a(t,["setup","generationConfig","temperature"],s);const l=i(e,["topP"]);t!==void 0&&l!=null&&a(t,["setup","generationConfig","topP"],l);const u=i(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const c=i(e,["maxOutputTokens"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","maxOutputTokens"],c);const f=i(e,["mediaResolution"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","mediaResolution"],f);const p=i(e,["seed"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","seed"],p);const m=i(e,["speechConfig"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","speechConfig"],va(m));const h=i(e,["thinkingConfig"]);t!==void 0&&h!=null&&a(t,["setup","generationConfig","thinkingConfig"],h);const g=i(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],g);const E=i(e,["systemInstruction"]);t!==void 0&&E!=null&&a(t,["setup","systemInstruction"],VC(Me(E)));const C=i(e,["tools"]);if(t!==void 0&&C!=null){let R=ir(C);Array.isArray(R)&&(R=R.map(I=>KC(sr(I)))),a(t,["setup","tools"],R)}const T=i(e,["sessionResumption"]);t!==void 0&&T!=null&&a(t,["setup","sessionResumption"],YC(T));const x=i(e,["inputAudioTranscription"]);t!==void 0&&x!=null&&a(t,["setup","inputAudioTranscription"],x);const y=i(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&a(t,["setup","outputAudioTranscription"],y);const v=i(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&a(t,["setup","realtimeInputConfig"],v);const S=i(e,["contextWindowCompression"]);t!==void 0&&S!=null&&a(t,["setup","contextWindowCompression"],S);const _=i(e,["proactivity"]);return t!==void 0&&_!=null&&a(t,["setup","proactivity"],_),n}function OC(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["setup","model"],Q(e,r));const o=i(t,["config"]);return o!=null&&a(n,["config"],JC(o,n)),n}function WC(e){const t={},n=i(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const r=i(e,["codeExecutionResult"]);r!=null&&a(t,["codeExecutionResult"],r);const o=i(e,["executableCode"]);o!=null&&a(t,["executableCode"],o);const s=i(e,["fileData"]);s!=null&&a(t,["fileData"],HC(s));const l=i(e,["functionCall"]);l!=null&&a(t,["functionCall"],BC(l));const u=i(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=i(e,["inlineData"]);c!=null&&a(t,["inlineData"],FC(c));const f=i(e,["text"]);f!=null&&a(t,["text"],f);const p=i(e,["thought"]);p!=null&&a(t,["thought"],p);const m=i(e,["thoughtSignature"]);m!=null&&a(t,["thoughtSignature"],m);const h=i(e,["videoMetadata"]);return h!=null&&a(t,["videoMetadata"],h),t}function YC(e){const t={},n=i(e,["handle"]);if(n!=null&&a(t,["handle"],n),i(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function KC(e){const t={},n=i(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>m)),a(t,["functionDeclarations"],p)}if(i(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=i(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const o=i(e,["computerUse"]);o!=null&&a(t,["computerUse"],o);const s=i(e,["fileSearch"]);s!=null&&a(t,["fileSearch"],s);const l=i(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),i(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=i(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],zC(u));const c=i(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],$C(c));const f=i(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jC(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const o=Object.keys(r).map(s=>`${n}.${s}`);t.push(...o)}else t.push(n)}return t.join(",")}function QC(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(e.bidiGenerateContentSetup=s,n=s):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const o=e.fieldMask;if(n){const s=jC(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)s?e.fieldMask=s:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];o.length>0&&(u=o.map(f=>l.includes(f)?`generationConfig.${f}`:f));const c=[];s&&c.push(s),u.length>0&&c.push(...u),c.length>0?e.fieldMask=c.join(","):delete e.fieldMask}else delete e.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?e.fieldMask=o.join(","):delete e.fieldMask;return e}class XC extends Ut{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=qC(this.apiClient,t);s=U("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const c=QC(u,t.config);return o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZC(e,t){const n={},r=i(e,["displayName"]);return t!==void 0&&r!=null&&a(t,["displayName"],r),n}function ew(e){const t={},n=i(e,["config"]);return n!=null&&ZC(n,t),t}function tw(e,t){const n={},r=i(e,["force"]);return t!==void 0&&r!=null&&a(t,["_query","force"],r),n}function nw(e){const t={},n=i(e,["name"]);n!=null&&a(t,["_url","name"],n);const r=i(e,["config"]);return r!=null&&tw(r,t),t}function rw(e){const t={},n=i(e,["name"]);return n!=null&&a(t,["_url","name"],n),t}function ow(e,t){const n={},r=i(e,["customMetadata"]);if(t!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>l)),a(t,["customMetadata"],s)}const o=i(e,["chunkingConfig"]);return t!==void 0&&o!=null&&a(t,["chunkingConfig"],o),n}function sw(e){const t={},n=i(e,["name"]);n!=null&&a(t,["name"],n);const r=i(e,["metadata"]);r!=null&&a(t,["metadata"],r);const o=i(e,["done"]);o!=null&&a(t,["done"],o);const s=i(e,["error"]);s!=null&&a(t,["error"],s);const l=i(e,["response"]);return l!=null&&a(t,["response"],lw(l)),t}function iw(e){const t={},n=i(e,["fileSearchStoreName"]);n!=null&&a(t,["_url","file_search_store_name"],n);const r=i(e,["fileName"]);r!=null&&a(t,["fileName"],r);const o=i(e,["config"]);return o!=null&&ow(o,t),t}function lw(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["parent"]);r!=null&&a(t,["parent"],r);const o=i(e,["documentName"]);return o!=null&&a(t,["documentName"],o),t}function aw(e,t){const n={},r=i(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const o=i(e,["pageToken"]);return t!==void 0&&o!=null&&a(t,["_query","pageToken"],o),n}function uw(e){const t={},n=i(e,["config"]);return n!=null&&aw(n,t),t}function dw(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const o=i(e,["fileSearchStores"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),a(t,["fileSearchStores"],s)}return t}function cw(e,t){const n={},r=i(e,["mimeType"]);t!==void 0&&r!=null&&a(t,["mimeType"],r);const o=i(e,["displayName"]);t!==void 0&&o!=null&&a(t,["displayName"],o);const s=i(e,["customMetadata"]);if(t!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>c)),a(t,["customMetadata"],u)}const l=i(e,["chunkingConfig"]);return t!==void 0&&l!=null&&a(t,["chunkingConfig"],l),n}function fw(e){const t={},n=i(e,["fileSearchStoreName"]);n!=null&&a(t,["_url","file_search_store_name"],n);const r=i(e,["config"]);return r!=null&&cw(r,t),t}function pw(e){const t={},n=i(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mw(e,t){const n={},r=i(e,["force"]);return t!==void 0&&r!=null&&a(t,["_query","force"],r),n}function hw(e){const t={},n=i(e,["name"]);n!=null&&a(t,["_url","name"],n);const r=i(e,["config"]);return r!=null&&mw(r,t),t}function gw(e){const t={},n=i(e,["name"]);return n!=null&&a(t,["_url","name"],n),t}function yw(e,t){const n={},r=i(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const o=i(e,["pageToken"]);return t!==void 0&&o!=null&&a(t,["_query","pageToken"],o),n}function xw(e){const t={},n=i(e,["parent"]);n!=null&&a(t,["_url","parent"],n);const r=i(e,["config"]);return r!=null&&yw(r,t),t}function vw(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const o=i(e,["documents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),a(t,["documents"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ew extends Ut{constructor(t){super(),this.apiClient=t,this.list=async n=>new wn(bt.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=gw(t);return s=U("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(t){var n,r;let o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=hw(t);o=U("{name}",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=xw(t);return s=U("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>{const f=vw(c),p=new Xg;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cw extends Ut{constructor(t,n=new Ew(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new wn(bt.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ew(t);return s=U("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async get(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=rw(t);return s=U("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(t){var n,r;let o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=nw(t);o=U("{name}",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=uw(t);return s=U("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>{const f=dw(c),p=new Zg;return Object.assign(p,f),p})}}async uploadToFileSearchStoreInternal(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=fw(t);return s=U("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>{const f=pw(c),p=new ey;return Object.assign(p,f),p})}}async importFile(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=iw(t);return s=U("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>{const f=sw(c),p=new ma;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ww(e,t){const n={},r=i(e,["name"]);return r!=null&&a(n,["_url","name"],r),n}function Sw(e,t){const n={},r=i(e,["name"]);return r!=null&&a(n,["_url","name"],r),n}function Tw(e,t,n){const r={};if(i(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=i(e,["tunedModelDisplayName"]);if(t!==void 0&&o!=null&&a(t,["displayName"],o),i(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=i(e,["epochCount"]);t!==void 0&&s!=null&&a(t,["tuningTask","hyperparameters","epochCount"],s);const l=i(e,["learningRateMultiplier"]);if(l!=null&&a(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),i(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(i(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(i(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=i(e,["batchSize"]);t!==void 0&&u!=null&&a(t,["tuningTask","hyperparameters","batchSize"],u);const c=i(e,["learningRate"]);if(t!==void 0&&c!=null&&a(t,["tuningTask","hyperparameters","learningRate"],c),i(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(i(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function kw(e,t,n){const r={};let o=i(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const g=i(e,["validationDataset"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec"],lc(g))}else if(o==="PREFERENCE_TUNING"){const g=i(e,["validationDataset"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec"],lc(g))}const s=i(e,["tunedModelDisplayName"]);t!==void 0&&s!=null&&a(t,["tunedModelDisplayName"],s);const l=i(e,["description"]);t!==void 0&&l!=null&&a(t,["description"],l);let u=i(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=i(e,["epochCount"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(u==="PREFERENCE_TUNING"){const g=i(e,["epochCount"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let c=i(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const g=i(e,["learningRateMultiplier"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(c==="PREFERENCE_TUNING"){const g=i(e,["learningRateMultiplier"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let f=i(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const g=i(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(f==="PREFERENCE_TUNING"){const g=i(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let p=i(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const g=i(e,["adapterSize"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(p==="PREFERENCE_TUNING"){const g=i(e,["adapterSize"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(i(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(i(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=i(e,["labels"]);t!==void 0&&m!=null&&a(t,["labels"],m);const h=i(e,["beta"]);return t!==void 0&&h!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function Nw(e,t){const n={},r=i(e,["baseModel"]);r!=null&&a(n,["baseModel"],r);const o=i(e,["preTunedModel"]);o!=null&&a(n,["preTunedModel"],o);const s=i(e,["trainingDataset"]);s!=null&&Fw(s);const l=i(e,["config"]);return l!=null&&Tw(l,n),n}function _w(e,t){const n={},r=i(e,["baseModel"]);r!=null&&a(n,["baseModel"],r);const o=i(e,["preTunedModel"]);o!=null&&a(n,["preTunedModel"],o);const s=i(e,["trainingDataset"]);s!=null&&Vw(s,n,t);const l=i(e,["config"]);return l!=null&&kw(l,n,t),n}function Iw(e,t){const n={},r=i(e,["name"]);return r!=null&&a(n,["_url","name"],r),n}function Aw(e,t){const n={},r=i(e,["name"]);return r!=null&&a(n,["_url","name"],r),n}function Rw(e,t,n){const r={},o=i(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const s=i(e,["pageToken"]);t!==void 0&&s!=null&&a(t,["_query","pageToken"],s);const l=i(e,["filter"]);return t!==void 0&&l!=null&&a(t,["_query","filter"],l),r}function Pw(e,t,n){const r={},o=i(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const s=i(e,["pageToken"]);t!==void 0&&s!=null&&a(t,["_query","pageToken"],s);const l=i(e,["filter"]);return t!==void 0&&l!=null&&a(t,["_query","filter"],l),r}function Mw(e,t){const n={},r=i(e,["config"]);return r!=null&&Rw(r,n),n}function Dw(e,t){const n={},r=i(e,["config"]);return r!=null&&Pw(r,n),n}function bw(e,t){const n={},r=i(e,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const o=i(e,["nextPageToken"]);o!=null&&a(n,["nextPageToken"],o);const s=i(e,["tunedModels"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>lm(u))),a(n,["tuningJobs"],l)}return n}function Lw(e,t){const n={},r=i(e,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const o=i(e,["nextPageToken"]);o!=null&&a(n,["nextPageToken"],o);const s=i(e,["tuningJobs"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>pl(u))),a(n,["tuningJobs"],l)}return n}function Uw(e,t){const n={},r=i(e,["name"]);r!=null&&a(n,["model"],r);const o=i(e,["name"]);return o!=null&&a(n,["endpoint"],o),n}function Fw(e,t){const n={};if(i(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(i(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=i(e,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),a(n,["examples","examples"],o)}return n}function Vw(e,t,n){const r={};let o=i(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const l=i(e,["gcsUri"]);t!==void 0&&l!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(o==="PREFERENCE_TUNING"){const l=i(e,["gcsUri"]);t!==void 0&&l!=null&&a(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let s=i(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const l=i(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(s==="PREFERENCE_TUNING"){const l=i(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&a(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(i(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function lm(e,t){const n={},r=i(e,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const o=i(e,["name"]);o!=null&&a(n,["name"],o);const s=i(e,["state"]);s!=null&&a(n,["state"],Bp(s));const l=i(e,["createTime"]);l!=null&&a(n,["createTime"],l);const u=i(e,["tuningTask","startTime"]);u!=null&&a(n,["startTime"],u);const c=i(e,["tuningTask","completeTime"]);c!=null&&a(n,["endTime"],c);const f=i(e,["updateTime"]);f!=null&&a(n,["updateTime"],f);const p=i(e,["description"]);p!=null&&a(n,["description"],p);const m=i(e,["baseModel"]);m!=null&&a(n,["baseModel"],m);const h=i(e,["_self"]);return h!=null&&a(n,["tunedModel"],Uw(h)),n}function pl(e,t){const n={},r=i(e,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const o=i(e,["name"]);o!=null&&a(n,["name"],o);const s=i(e,["state"]);s!=null&&a(n,["state"],Bp(s));const l=i(e,["createTime"]);l!=null&&a(n,["createTime"],l);const u=i(e,["startTime"]);u!=null&&a(n,["startTime"],u);const c=i(e,["endTime"]);c!=null&&a(n,["endTime"],c);const f=i(e,["updateTime"]);f!=null&&a(n,["updateTime"],f);const p=i(e,["error"]);p!=null&&a(n,["error"],p);const m=i(e,["description"]);m!=null&&a(n,["description"],m);const h=i(e,["baseModel"]);h!=null&&a(n,["baseModel"],h);const g=i(e,["tunedModel"]);g!=null&&a(n,["tunedModel"],g);const E=i(e,["preTunedModel"]);E!=null&&a(n,["preTunedModel"],E);const C=i(e,["supervisedTuningSpec"]);C!=null&&a(n,["supervisedTuningSpec"],C);const T=i(e,["preferenceOptimizationSpec"]);T!=null&&a(n,["preferenceOptimizationSpec"],T);const x=i(e,["tuningDataStats"]);x!=null&&a(n,["tuningDataStats"],x);const y=i(e,["encryptionSpec"]);y!=null&&a(n,["encryptionSpec"],y);const v=i(e,["partnerModelTuningSpec"]);v!=null&&a(n,["partnerModelTuningSpec"],v);const S=i(e,["customBaseModel"]);S!=null&&a(n,["customBaseModel"],S);const _=i(e,["experiment"]);_!=null&&a(n,["experiment"],_);const R=i(e,["labels"]);R!=null&&a(n,["labels"],R);const I=i(e,["outputUri"]);I!=null&&a(n,["outputUri"],I);const w=i(e,["pipelineJob"]);w!=null&&a(n,["pipelineJob"],w);const M=i(e,["serviceAccount"]);M!=null&&a(n,["serviceAccount"],M);const b=i(e,["tunedModelDisplayName"]);b!=null&&a(n,["tunedModelDisplayName"],b);const H=i(e,["veoTuningSpec"]);return H!=null&&a(n,["veoTuningSpec"],H),n}function Gw(e,t){const n={},r=i(e,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const o=i(e,["name"]);o!=null&&a(n,["name"],o);const s=i(e,["metadata"]);s!=null&&a(n,["metadata"],s);const l=i(e,["done"]);l!=null&&a(n,["done"],l);const u=i(e,["error"]);return u!=null&&a(n,["error"],u),n}function lc(e,t){const n={},r=i(e,["gcsUri"]);r!=null&&a(n,["validationDatasetUri"],r);const o=i(e,["vertexDatasetResource"]);return o!=null&&a(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qw extends Ut{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new wn(bt.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:o});return s.baseModel=void 0,await this.tuneInternal(s)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),s=await this.tuneMldevInternal(o);let l="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?l=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(l=s.name.split("/operations/")[0]),{name:l,state:il.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,o,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=Aw(t);return u=U("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>pl(p))}else{const f=Iw(t);return u=U("{name}",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>lm(p))}}async listInternal(t){var n,r,o,s;let l,u="",c={};if(this.apiClient.isVertexAI()){const f=Dw(t);return u=U("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=Lw(p),h=new qd;return Object.assign(h,m),h})}else{const f=Mw(t);return u=U("tunedModels",f._url),c=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=bw(p),h=new qd;return Object.assign(h,m),h})}}async cancel(t){var n,r,o,s;let l="",u={};if(this.apiClient.isVertexAI()){const c=Sw(t);l=U("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=ww(t);l=U("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async tuneInternal(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=_w(t,t);return s=U("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>pl(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Nw(t);return s=U("tunedModels",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),o.then(c=>Gw(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hw{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Bw=1024*1024*8,zw=3,$w=1e3,Jw=2,ms="x-goog-upload-status";async function Ow(e,t,n){var r;const o=await am(e,t,n),s=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[ms])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function Ww(e,t,n){var r;const o=await am(e,t,n),s=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[ms])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=Up(s),u=new ha;return Object.assign(u,l),u}async function am(e,t,n){var r,o;let s=0,l=0,u=new ll(new Response),c="upload";for(s=e.size;l<s;){const f=Math.min(Bw,s-l),p=e.slice(l,l+f);l+f>=s&&(c+=", finalize");let m=0,h=$w;for(;m<zw&&(u=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(l),"Content-Length":String(f)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[ms]));)m++,await Kw(h),h=h*Jw;if(l+=f,((o=u==null?void 0:u.headers)===null||o===void 0?void 0:o[ms])!=="active")break;if(s<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function Yw(e){return{size:e.size,type:e.type}}function Kw(e){return new Promise(t=>setTimeout(t,e))}class jw{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Ow(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Ww(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Yw(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qw{create(t,n,r){return new Xw(t,n,r)}}class Xw{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ac="x-goog-api-key";class Zw{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(ac)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(ac,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eS="gl-node/";class tS{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=Pg(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion;const o=new Zw(this.apiKey);this.apiClient=new gC({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:eS+"web",uploader:new jw,downloader:new Hw}),this.models=new LC(this.apiClient),this.live=new AC(this.apiClient,o,new Qw),this.batches=new ix(this.apiClient),this.chats=new Hx(this.models,this.apiClient),this.caches=new Vx(this.apiClient),this.files=new Qx(this.apiClient),this.operations=new UC(this.apiClient),this.authTokens=new XC(this.apiClient),this.tunings=new qw(this.apiClient),this.fileSearchStores=new Cw(this.apiClient)}}const di={},nS=e=>`
You are an expert Revit API Automation Engineer and Python Developer. 
Analyze the following automation request for Revit ${e.revitVersion} in Project "${e.projectName}".

REQUEST TITLE: ${e.title}
DESCRIPTION: ${e.description}

Your goal is to provide a JSON response with:
1. complexityScore: An integer 1-10.
2. suggestedNamespaces: A list of relevant Autodesk.Revit.DB namespaces.
3. implementationStrategy: A concise textual explanation of how to solve this.
4. pseudoCode: A pythonic pseudo-code snippet using the Revit API structure.
`,rS=async e=>{const t=di==null?void 0:di.VITE_API_KEY,n=new tS({apiKey:t}),r=[{text:nS(e)}];e.attachments.forEach(o=>{if(o.type.startsWith("image/")){const s=o.data.split(",")[1];r.push({inlineData:{mimeType:o.type,data:s}})}});try{const s=(await n.models.generateContent({model:"gemini-2.5-flash",contents:{parts:r},config:{responseMimeType:"application/json",responseSchema:{type:He.OBJECT,properties:{complexityScore:{type:He.INTEGER},suggestedNamespaces:{type:He.ARRAY,items:{type:He.STRING}},implementationStrategy:{type:He.STRING},pseudoCode:{type:He.STRING}},required:["complexityScore","suggestedNamespaces","implementationStrategy","pseudoCode"]}}})).text;if(!s)throw new Error("No response from AI");return JSON.parse(s)}catch(o){return console.error("Gemini Error:",o),{complexityScore:5,suggestedNamespaces:["Autodesk.Revit.DB","Autodesk.Revit.UI"],implementationStrategy:"Error connecting to AI. Please check API Key in .env file.",pseudoCode:`# AI Connection Failed
# Please implement manually`}}},oS=({request:e,isDeveloper:t,onBack:n,onUpdate:r})=>{var oo,so;const{user:o}=or(),[s,l]=P.useState(!1),[u,c]=P.useState(e),[f,p]=P.useState(e.resultFiles||[]),[m,h]=P.useState([]),[g,E]=P.useState(!1),[C,T]=P.useState(!1),[x,y]=P.useState(e.comments||[]),[v,S]=P.useState(!1),[_,R]=P.useState(""),[I,w]=P.useState(null),M=P.useRef(null),b=[...u.submissionEvents||[]].sort((N,O)=>N.createdAt-O.createdAt),H=Math.max(u.submissionCount??0,b.length),k=b.length===0&&H>0?(()=>{const N=u.updatedAt||u.createdAt||Date.now(),O=[{id:-1,requestId:Number(u.id),eventType:"SUBMISSION",createdAt:N,addedFiles:f.length}];if(H>1)for(let ae=1;ae<H;ae++)O.push({id:-1-ae,requestId:Number(u.id),eventType:"RESUBMISSION",createdAt:N+ae,addedFiles:0});return O})():b,B=[...(f||[]).map(N=>({key:`saved-${N.id??N.name}`,name:N.name,type:N.type,status:"saved",attachment:N})),...m.map((N,O)=>({key:`pending-${O}-${N.name}`,name:N.name,type:N.type||"File",status:"pending",index:O}))],X=H>0;P.useEffect(()=>{c(e),p(e.resultFiles||[]),h([]),y(e.comments||[])},[e]),P.useEffect(()=>{t&&te().catch(console.error)},[]);const J=async N=>{const O={...u,status:N,updatedAt:Date.now()};await To(O),c(O),r()},$=async()=>{l(!0);try{const N=await rS(u),O={...u,aiAnalysis:N};await To(O),c(O),r()}catch(N){console.error(N),w({text:"Analysis failed. Ensure API key is set.",tone:"error"})}finally{l(!1)}},te=async()=>{const N=await se.get(`/requests/${u.id}`);return c(N),p(N.resultFiles||[]),y(N.comments||[]),N},L=async()=>{S(!0);try{const N=await se.get(`/requests/${u.id}/comments`);y(N)}catch(N){console.error(N)}finally{S(!1)}};P.useEffect(()=>{L()},[u.id]);const G=N=>{const O=Array.from(N||[]);O.length!==0&&(h(ae=>[...ae,...O]),M.current&&(M.current.value=""))},z=N=>{N.target.files&&N.target.files.length>0&&G(N.target.files)},ee=N=>{N.preventDefault(),T(!1),N.dataTransfer.files&&N.dataTransfer.files.length>0&&G(N.dataTransfer.files)},fe=N=>{h(O=>O.filter((ae,Ce)=>Ce!==N))},Tt=async N=>{var ae,Ce;const O=N.id??((Ce=(ae=u.resultFiles)==null?void 0:ae.find(Te=>Te.name===N.name))==null?void 0:Ce.id);if(!O){p(Te=>Te.filter(xt=>xt.name!==N.name)),w({text:"Removed from stack.",tone:"info"});return}E(!0);try{await se.delete(`/requests/${Number(u.id)}/result-files/${Number(O)}?name=${encodeURIComponent(N.name)}`),await te(),r()}catch(Te){w({text:Te.message||"Failed to delete file",tone:"error"})}finally{E(!1)}},et=async()=>{if(u.id){if(m.length===0){w({text:"Add at least one file to submit or resubmit.",tone:"error"});return}E(!0);try{const N=await Promise.all(m.map(async ae=>({name:ae.name,type:ae.type||"application/octet-stream",data:await Mp(ae)})));await se.post(`/requests/${u.id}/result-files`,N),await To({...u,status:Y.COMPLETED});const O=await te();h([]),r(),await Dp({subject:`Request Completed: ${O.title}`,body:`Good news! Your automation request "${O.title}" has been updated by the development team.

Project: ${O.projectName}
Status: ${O.status}
Updated: ${new Date().toLocaleDateString()}`}),w({text:"Files submitted successfully.",tone:"success"})}catch(N){console.error(N),w({text:N.message||"Failed to submit files",tone:"error"})}finally{E(!1)}}},Vt=async()=>{const N={...u,status:Y.RETURNED,updatedAt:Date.now()};await To(N),c(N),r(),await L()},be=async()=>{if(_.trim())try{await se.post(`/requests/${u.id}/comments`,{content:_.trim()}),R(""),await L()}catch(N){w({text:N.message||"Failed to add comment",tone:"error"})}},at=N=>{const O=atob(N.data.split(",")[1]),ae=N.data.split(",")[0].split(":")[1].split(";")[0],Ce=new ArrayBuffer(O.length),Te=new Uint8Array(Ce);for(let F=0;F<O.length;F++)Te[F]=O.charCodeAt(F);const xt=new Blob([Ce],{type:ae}),A=document.createElement("a");A.href=URL.createObjectURL(xt),A.download=N.name,document.body.appendChild(A),A.click(),document.body.removeChild(A)},Ls=N=>N?new Date(N).toLocaleString():"---",ro=(()=>{const N=[];N.push({title:"Request Submitted",timestamp:u.createdAt,color:"border-green-500",detail:`Filed by ${u.requesterName}`,order:0});let O=0;k.forEach((A,F)=>{const W=A.eventType==="RESUBMISSION";W&&(O+=1),N.push({title:W?`Resubmission #${O}`:"Files Submitted",timestamp:A.createdAt,color:W?"border-orange-500":"border-blue-500",detail:`${A.addedFiles} file${A.addedFiles===1?"":"s"} stacked`,order:F+1})});const ae=u.updatedAt||u.createdAt;let Ce="",Te="border-slate-400",xt="Status updated";return u.status===Y.COMPLETED?(Ce="Completed",Te="border-emerald-500",xt="Marked as completed"):u.status===Y.RETURNED?(Ce="Returned to Developer",Te="border-red-500",xt="Requester returned the delivery"):u.status===Y.IN_PROGRESS?(Ce="In Progress",Te="border-blue-400"):u.status===Y.PENDING?(Ce="Pending",Te="border-yellow-400"):u.status===Y.REJECTED&&(Ce="Rejected",Te="border-red-500"),Ce&&N.push({title:Ce,timestamp:ae,color:Te,detail:xt,order:999}),N.sort((A,F)=>A.timestamp===F.timestamp?A.order-F.order:A.timestamp-F.timestamp)})();return d.jsxs("div",{className:"max-w-6xl mx-auto pb-12 text-slate-900 dark:text-slate-100",children:[d.jsxs("button",{onClick:n,className:"mb-6 flex items-center text-slate-500 dark:text-slate-300 hover:text-indigo-400 transition text-sm font-medium",children:[d.jsx(z0,{className:"w-4 h-4 mr-2"})," Back to Dashboard"]}),d.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-8",children:[d.jsxs("div",{className:"xl:col-span-3 space-y-6",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[d.jsxs("div",{className:"flex justify-between items-start mb-6",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsxs("span",{className:"text-xs font-mono text-slate-400 dark:text-slate-500",children:["ID: ",u.id]}),d.jsxs("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-bold ${u.priority==="CRITICAL"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-200":u.priority==="HIGH"?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-200":"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-200"}`,children:[u.priority," Priority"]})]}),d.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white leading-tight",children:u.title})]}),t?d.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 dark:bg-slate-800 p-1 rounded-lg border border-slate-200 dark:border-slate-700",children:[d.jsx("span",{className:"text-xs font-semibold text-slate-500 dark:text-slate-300 px-2",children:"Status:"}),d.jsx("select",{value:u.status,onChange:N=>J(N.target.value),className:"bg-white dark:bg-slate-900 border-0 text-slate-900 dark:text-slate-100 text-sm rounded-md focus:ring-0 py-1.5 pl-3 pr-8 font-medium shadow-sm",children:Object.values(Y).map(N=>d.jsx("option",{value:N,children:N},N))})]}):d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:`px-4 py-2 rounded-lg text-sm font-bold border ${u.status===Y.COMPLETED?"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800":u.status===Y.IN_PROGRESS?"bg-blue-50 text-blue-700 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800":u.status===Y.RETURNED?"bg-orange-50 text-orange-700 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800":"bg-slate-50 text-slate-700 border-slate-200 dark:bg-slate-800 dark:text-slate-200 dark:border-slate-700"}`,children:u.status}),u.status===Y.COMPLETED&&d.jsx("button",{onClick:Vt,className:"px-3 py-2 rounded-lg text-sm font-medium bg-orange-500 hover:bg-orange-600 text-white shadow-sm",children:"Return to Developer"})]})]}),d.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-lg p-4 grid grid-cols-2 md:grid-cols-5 gap-4 text-sm mb-8 border border-slate-100 dark:border-slate-700",children:[d.jsxs("div",{children:[d.jsx("span",{className:"block text-xs text-slate-500 dark:text-slate-300 uppercase font-semibold mb-1",children:"Project"}),d.jsxs("div",{className:"flex items-center font-medium text-slate-900 dark:text-slate-100",children:[d.jsx(kp,{className:"w-3.5 h-3.5 mr-1.5 text-slate-400"})," ",u.projectName]})]}),d.jsxs("div",{children:[d.jsx("span",{className:"block text-xs text-slate-500 dark:text-slate-300 uppercase font-semibold mb-1",children:"Revit Version"}),d.jsxs("div",{className:"flex items-center font-medium text-slate-900 dark:text-slate-100",children:[d.jsx(tg,{className:"w-3.5 h-3.5 mr-1.5 text-slate-400"})," ",u.revitVersion]})]}),d.jsxs("div",{children:[d.jsx("span",{className:"block text-xs text-slate-500 dark:text-slate-300 uppercase font-semibold mb-1",children:"Requester"}),d.jsxs("div",{className:"flex items-center font-medium text-slate-900 dark:text-slate-100",children:[d.jsx(Pp,{className:"w-3.5 h-3.5 mr-1.5 text-slate-400"})," ",u.requesterName]})]}),d.jsxs("div",{children:[d.jsx("span",{className:"block text-xs text-slate-500 dark:text-slate-300 uppercase font-semibold mb-1",children:"Requester Role"}),d.jsxs("div",{className:"flex items-center font-medium text-slate-900 dark:text-slate-100",children:[d.jsx(Ap,{className:"w-3.5 h-3.5 mr-1.5 text-slate-400"})," ",u.requesterRole||((oo=u.requester)==null?void 0:oo.role)||"Not specified"]})]}),d.jsxs("div",{children:[d.jsx("span",{className:"block text-xs text-slate-500 dark:text-slate-300 uppercase font-semibold mb-1",children:"Due Date"}),d.jsxs("div",{className:"flex items-center font-medium text-slate-900 dark:text-slate-100",children:[d.jsx(Qr,{className:"w-3.5 h-3.5 mr-1.5 text-slate-400"}),u.dueDate?new Date(u.dueDate).toLocaleDateString():"None"]})]})]}),d.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:[d.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-2",children:"Description"}),d.jsx("p",{className:"text-slate-600 dark:text-slate-200 whitespace-pre-wrap leading-relaxed mb-8",children:u.description})]}),((so=u.attachments)==null?void 0:so.length)>0&&d.jsxs("div",{className:"mb-6",children:[d.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-white uppercase tracking-wide mb-3",children:"Attachments"}),d.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2",children:u.attachments.map((N,O)=>d.jsxs("div",{className:"relative group flex-shrink-0",children:[N.type.startsWith("image/")?d.jsx("img",{src:N.data,alt:N.name,className:"h-40 w-auto rounded-lg border border-slate-200 dark:border-slate-700 object-cover shadow-sm group-hover:shadow-md transition"}):N.type.includes("pdf")?d.jsx("object",{data:N.data,type:N.type,className:"h-40 w-32 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm",children:d.jsx("div",{className:"h-full w-full flex items-center justify-center bg-slate-50 dark:bg-slate-800 text-slate-500 dark:text-slate-300 text-xs px-2 text-center",children:"PDF preview unavailable"})}):d.jsxs("div",{className:"h-40 w-32 bg-slate-50 dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 flex flex-col items-center justify-center p-4 text-center hover:bg-slate-100 dark:hover:bg-slate-700 transition",children:[d.jsx(ai,{className:"w-8 h-8 text-slate-400 dark:text-slate-300 mb-2"}),d.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-200 break-all",children:N.name})]}),t&&d.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition rounded-lg flex items-center justify-center gap-2",children:d.jsx("button",{onClick:ae=>{ae.stopPropagation(),at(N)},className:"bg-white text-slate-800 p-2 rounded-full hover:bg-indigo-50 hover:text-indigo-600 transition",title:"Download File",children:d.jsx(Q0,{className:"w-4 h-4"})})}),d.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 text-white text-[10px] p-1 truncate rounded-b-lg text-center opacity-0 group-hover:opacity-100 transition",children:N.name})]},O))})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden",children:[I&&d.jsx("div",{className:`mb-4 px-4 py-2 rounded-lg text-sm border ${I.tone==="success"?"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800":I.tone==="error"?"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800":"bg-slate-50 text-slate-700 border-slate-200 dark:bg-slate-800 dark:text-slate-200 dark:border-slate-700"}`,children:I.text}),d.jsx("div",{className:"flex items-center justify-between mb-6 pb-6 border-b border-slate-100 dark:border-slate-800",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"bg-indigo-100 dark:bg-indigo-900/40 p-2 rounded-lg",children:d.jsx(ai,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-300"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Automation Files"}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Upload result files; employees can download them."})]})]})}),t?d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:`border-2 border-dashed rounded-lg p-5 transition cursor-pointer ${C?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-slate-300 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/60"}`,onClick:()=>{var N;return(N=M.current)==null?void 0:N.click()},onDragOver:N=>{N.preventDefault(),T(!0)},onDragLeave:()=>T(!1),onDrop:ee,children:[d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("div",{className:"bg-white dark:bg-slate-900 p-2 rounded-md border border-slate-200 dark:border-slate-700 shadow-sm",children:d.jsx(mg,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-300"})}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100 text-sm",children:"Drag, drop, or click to stack files"}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Add multiple documents at once; after the first submission every upload is tracked as a resubmission."}),d.jsxs("div",{className:"flex flex-wrap gap-3 text-[11px] text-slate-500 dark:text-slate-300",children:[d.jsxs("span",{children:[f.length," in stack"]}),d.jsxs("span",{children:[m.length," pending"]}),H>1&&d.jsxs("span",{className:"text-orange-500 font-semibold",children:["Resubmissions: ",H-1]})]})]})]}),d.jsx("input",{type:"file",multiple:!0,ref:M,onChange:z,className:"hidden"})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm",children:[d.jsxs("button",{onClick:et,className:`px-6 py-2 rounded-lg flex items-center gap-2 transition font-medium shadow-sm ${g?"bg-slate-300 text-slate-500 cursor-not-allowed":"bg-green-600 hover:bg-green-700 text-white"}`,disabled:g,children:[g?d.jsx(Fe,{className:"w-4 h-4 animate-spin"}):d.jsx(fg,{className:"w-4 h-4"})," ",X?"Resubmit Files":"Submit Files"]}),d.jsxs("span",{className:"text-slate-600 dark:text-slate-300",children:[B.length," file(s) in stack"]}),m.length>0&&d.jsxs("span",{className:"text-indigo-600 dark:text-indigo-300",children:[m.length," ready to upload"]})]}),B.length>0?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:B.map(N=>d.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg p-3 bg-white dark:bg-slate-800 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[d.jsx(Mr,{className:`w-5 h-5 ${N.status==="pending"?"text-indigo-400":"text-indigo-600"}`}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white truncate",children:N.name}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-300 truncate",children:N.type}),d.jsx("p",{className:`text-[11px] ${N.status==="pending"?"text-indigo-500":"text-slate-500"}`,children:N.status==="pending"?"Pending resubmission":"In stack"})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[N.status==="saved"&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>at(N.attachment),className:"text-indigo-600 dark:text-indigo-300 hover:underline text-xs",children:"Download"}),d.jsx("button",{onClick:()=>Tt(N.attachment),className:"text-red-500 hover:text-red-600 text-xs",children:"Delete"})]}),N.status==="pending"&&d.jsx("button",{onClick:()=>fe(N.index),className:"text-red-500 hover:text-red-600 text-xs",children:"Remove"})]})]},N.key))}):d.jsx("div",{className:"border border-dashed border-slate-300 dark:border-slate-700 rounded-lg p-6 text-sm text-slate-500 dark:text-slate-300 bg-slate-50 dark:bg-slate-800/50",children:"No result files stacked yet. Add files to submit the solution."})]}):f.length>0?d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:f.map((N,O)=>d.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg p-3 bg-slate-50 dark:bg-slate-800 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[d.jsx(Mr,{className:"w-5 h-5 text-indigo-500"}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white truncate",children:N.name}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-300 truncate",children:N.type})]})]}),d.jsx("button",{onClick:()=>at(N),className:"text-indigo-600 dark:text-indigo-300 hover:underline text-xs",children:"Download"})]},N.id??O))}):d.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 border-dashed rounded-lg p-16 text-center",children:[d.jsx(ai,{className:"w-12 h-12 text-slate-300 dark:text-slate-200 mx-auto mb-4"}),d.jsx("h4",{className:"text-slate-900 dark:text-white font-medium",children:"No Files Available Yet"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-300 text-sm mt-1",children:"The developer is still working on this request."})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[d.jsx("h4",{className:"font-bold text-slate-900 dark:text-white mb-4 text-sm uppercase tracking-wide",children:"Timeline"}),d.jsxs("div",{className:"relative border-l-2 border-slate-100 dark:border-slate-800 ml-3 space-y-8 py-2",children:[ro.map((N,O)=>d.jsxs("div",{className:"ml-6 relative",children:[d.jsx("div",{className:`absolute -left-[31px] bg-white dark:bg-slate-900 rounded-full w-4 h-4 border-2 ${N.color}`}),d.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:N.title}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-300 mt-0.5",children:Ls(N.timestamp)}),N.detail&&d.jsx("p",{className:"text-[11px] text-slate-400 dark:text-slate-400 mt-0.5",children:N.detail})]},`${N.title}-${N.timestamp}-${O}`)),ro.length===0&&d.jsx("div",{className:"ml-6 text-xs text-slate-500 dark:text-slate-400",children:"No activity yet."})]})]}),t&&d.jsxs("div",{className:"bg-gradient-to-b from-slate-900 via-slate-900 to-indigo-950 p-6 rounded-xl border border-indigo-900/60 shadow-sm relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-500/30 rounded-full blur-3xl -translate-y-16 translate-x-16 opacity-60"}),d.jsxs("div",{className:"flex items-center gap-2 mb-6 relative z-10",children:[d.jsx("div",{className:"bg-white/10 p-1.5 rounded-lg border border-indigo-800 shadow-sm",children:d.jsx(Mu,{className:"w-5 h-5 text-indigo-200"})}),d.jsx("h3",{className:"font-bold text-white",children:"Gemini Assistant"})]}),u.aiAnalysis?d.jsxs("div",{className:"space-y-5 text-sm relative z-10 text-slate-200",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:"text-slate-400 text-xs font-semibold uppercase",children:"Complexity Score"}),d.jsxs("span",{className:"font-bold text-indigo-200",children:[u.aiAnalysis.complexityScore,"/10"]})]}),d.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${u.aiAnalysis.complexityScore*10}%`}})})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-slate-400 text-xs font-semibold uppercase block mb-2",children:"Namespaces"}),d.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.aiAnalysis.suggestedNamespaces.map((N,O)=>d.jsx("span",{className:"bg-white/10 border border-indigo-800 text-indigo-100 px-2 py-1 rounded text-[10px] font-mono shadow-sm",children:N},O))})]}),d.jsxs("div",{className:"bg-white/5 p-3 rounded-lg border border-indigo-800 shadow-sm",children:[d.jsx("span",{className:"text-slate-400 text-xs font-semibold uppercase block mb-1",children:"Strategy"}),d.jsx("p",{className:"text-slate-200 text-xs leading-relaxed",children:u.aiAnalysis.implementationStrategy})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-slate-400 text-xs font-semibold uppercase block mb-2",children:"Pseudo-Code"}),d.jsx("pre",{className:"bg-[#1e1e1e] text-slate-200 p-3 rounded-lg text-[10px] overflow-x-auto border border-slate-700",children:u.aiAnalysis.pseudoCode})]}),d.jsx("button",{onClick:$,className:"text-xs text-indigo-600 hover:text-indigo-800 font-medium w-full text-center mt-2",children:"Re-run Analysis"})]}):d.jsxs("div",{className:"text-center py-4 relative z-10",children:[d.jsxs("p",{className:"text-xs text-slate-300 mb-6 leading-relaxed",children:["Use AI to estimate complexity, suggest API namespaces, and generate a strategy for ",d.jsxs("span",{className:"font-mono text-indigo-200",children:["Revit ",u.revitVersion]}),"."]}),d.jsx("button",{onClick:$,disabled:s,className:"w-full bg-indigo-600 text-white px-4 py-2.5 rounded-lg transition font-medium flex justify-center items-center gap-2 text-sm shadow-md hover:bg-indigo-700",children:s?d.jsx(Fe,{className:"w-4 h-4 animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(Mu,{className:"w-4 h-4"})," Analyze Request"]})})]})]})]})]}),d.jsxs("div",{className:"mt-8 bg-white dark:bg-slate-900 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Comments"}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Discuss issues or feedback with the developer."})]}),d.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-200 border border-slate-200 dark:border-slate-700",children:[x.length," ",x.length===1?"comment":"comments"]})]}),d.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto pr-1",children:v?d.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-300",children:[d.jsx(Fe,{className:"w-4 h-4 animate-spin"})," Loading comments..."]}):x.length===0?d.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-300",children:"No comments yet."}):x.map(N=>d.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg p-3 bg-slate-50 dark:bg-slate-800/70",children:[d.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500 dark:text-slate-300 mb-1",children:[d.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-100",children:N.authorName}),d.jsx("span",{children:new Date(N.createdAt).toLocaleString()})]}),d.jsx("p",{className:"text-sm text-slate-800 dark:text-slate-100 whitespace-pre-wrap",children:N.content})]},N.id))}),d.jsxs("div",{className:"mt-4 flex items-start gap-3",children:[d.jsx("textarea",{value:_,onChange:N=>R(N.target.value),placeholder:"Add a comment...",className:"flex-1 border border-slate-300 dark:border-slate-600 rounded-lg px-3 py-2 text-sm bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-indigo-500 outline-none",rows:2}),d.jsx("button",{onClick:be,disabled:!_.trim(),className:`px-4 py-2 rounded-lg text-sm font-medium ${_.trim()?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-slate-300 text-slate-500 cursor-not-allowed"}`,children:"Post"})]})]})]})},um=(e,t)=>{if(t===null)return null;for(const n of e){if(n.id===t)return n;if(n.children){const r=um(n.children,t);if(r)return r}}return null},qo=(e,t=0,n=new Set)=>{const r=[];return e.forEach(o=>{o.type==="FOLDER"&&!n.has(o.id)&&(r.push({id:o.id,name:o.name,depth:t}),o.children&&r.push(...qo(o.children,t+1,n)))}),r},sS=e=>{const t=new Set;if(!(e!=null&&e.children))return t;const n=r=>{var o;(o=r.children)==null||o.forEach(s=>{t.add(s.id),n(s)})};return n(e),t},ml=(e,t)=>{for(const n of e){if(n.name===t)return n;if(n.children){const r=ml(n.children,t);if(r)return r}}return null},iS=({requests:e,onViewRequest:t})=>{var Ce,Te,xt;const{user:n}=or(),r=(n==null?void 0:n.role)===Ne,[o,s]=P.useState([]),[l,u]=P.useState(null),[c,f]=P.useState(new Set),[p,m]=P.useState(!0),[h,g]=P.useState(!1),[E,C]=P.useState(!1),[T,x]=P.useState(""),[y,v]=P.useState(null),[S,_]=P.useState(""),[R,I]=P.useState(null),[w,M]=P.useState(""),[b,H]=P.useState(null),[k,B]=P.useState(!1),X=P.useMemo(()=>{const A=new Map;return e.forEach(F=>A.set(String(F.id),F)),A},[e]),J=P.useCallback(async()=>{m(!0);try{const A=await se.get("/script-tree");if(s(A),A.length>0&&l===null){const F=ml(A,"Unsorted"),W=(F==null?void 0:F.id)??A[0].id;u(W),f(new Set(W?[W]:[]))}}catch(A){console.error("Failed to load script tree",A)}finally{m(!1)}},[l]);P.useEffect(()=>{J()},[J]);const $=A=>{f(F=>{const W=new Set(F);return W.has(A)?W.delete(A):W.add(A),W})},te=P.useMemo(()=>qo(o),[o]),L=((Ce=o[0])==null?void 0:Ce.id)??null,G=P.useMemo(()=>ml(o,"Unsorted"),[o]),z=P.useMemo(()=>l===null?G||o[0]:um(o,l)||G||o[0],[l,o,G]),ee=P.useMemo(()=>{const A=new Map,F=(W,Oe)=>{var ge;A.set(W.id,{node:W,parentId:Oe}),(ge=W.children)==null||ge.forEach(ut=>F(ut,W.id))};return o.forEach(W=>F(W,null)),A},[o]),fe=P.useMemo(()=>{const A=[];let F=l??L;for(;F!==null;){const W=ee.get(F);if(!W)break;A.unshift(W.node),F=W.parentId}return A},[ee,l,L]),Tt=P.useMemo(()=>{if(l===null)return null;const A=ee.get(l);return(A==null?void 0:A.parentId)??null},[ee,l]),et=((Te=z==null?void 0:z.children)==null?void 0:Te.filter(A=>A.type==="FILE"))||[],Vt=((xt=z==null?void 0:z.children)==null?void 0:xt.filter(A=>A.type==="FOLDER"))||[],be=P.useCallback(A=>A.requestId&&(X.get(String(A.requestId))||X.get(A.requestId)||A.request)||null,[X]),at=P.useMemo(()=>et.filter(A=>{const F=be(A);return`${A.name} ${(F==null?void 0:F.title)||""} ${(F==null?void 0:F.projectName)||""}`.toLowerCase().includes(S.toLowerCase())}),[et,be,S]),Ls=P.useCallback((A,F)=>{var Ca,wa;A.stopPropagation();const W=be(F),Oe=((Ca=W==null?void 0:W.resultFiles)==null?void 0:Ca.find(Sn=>Sn.name===F.name))||((wa=W==null?void 0:W.resultFiles)==null?void 0:wa[0]);if(!Oe){H("No files available to download for this request yet.");return}const ge=atob(Oe.data.split(",")[1]),ut=Oe.data.split(",")[0].split(":")[1].split(";")[0],me=new ArrayBuffer(ge.length),We=new Uint8Array(me);for(let Sn=0;Sn<ge.length;Sn++)We[Sn]=ge.charCodeAt(Sn);const pm=new Blob([me],{type:ut}),ar=document.createElement("a");ar.href=URL.createObjectURL(pm),ar.download=Oe.name,document.body.appendChild(ar),ar.click(),document.body.removeChild(ar)},[be]),ro=async A=>{if(A.preventDefault(),!!T){g(!0);try{await se.post("/script-tree/folder",{name:T,parentId:y||l||(G==null?void 0:G.id)||L}),C(!1),x(""),v(null),await J()}catch(F){H(F.message||"Failed to create folder")}finally{g(!1)}}},oo=async(A,F)=>{g(!0);try{await se.put(`/script-tree/${A}`,{parentId:F}),await J()}catch(W){H(W.message||"Failed to move item")}finally{g(!1)}},so=async(A,F)=>{if(F.trim()){g(!0);try{await se.put(`/script-tree/${A}`,{name:F}),await J()}catch(W){H(W.message||"Failed to rename item")}finally{g(!1)}}},N=async A=>{g(!0);try{await se.delete(`/script-tree/${A}`),await J(),A===l&&u((G==null?void 0:G.id)||L)}catch(F){H(F.message||"Failed to delete item")}finally{g(!1)}},O=async()=>{B(!0),H(null);try{const A=sessionStorage.getItem("rah_access_token"),F=await fetch(`${un}/script-tree/export`,{headers:A?{Authorization:`Bearer ${A}`}:void 0});if(!F.ok){const ut=await F.text();throw new Error(ut||"Failed to download library")}const W=await F.blob(),Oe=URL.createObjectURL(W),ge=document.createElement("a");ge.href=Oe,ge.download="script-library.zip",document.body.appendChild(ge),ge.click(),document.body.removeChild(ge),URL.revokeObjectURL(Oe)}catch(A){H(A.message||"Failed to download library")}finally{B(!1)}},ae=(A,F=0)=>{var ut,me;if(A.type!=="FOLDER")return null;const W=A.id===l,Oe=(ut=A.children)==null?void 0:ut.some(We=>We.type==="FOLDER"),ge=c.has(A.id);return d.jsxs("div",{className:"pl-2",children:[d.jsxs("div",{className:`flex items-center justify-between rounded-md px-2 py-1.5 text-sm cursor-pointer transition ${W?"bg-indigo-50 text-indigo-700 border border-indigo-100 dark:bg-indigo-900/40 dark:text-indigo-100 dark:border-indigo-700":"hover:bg-slate-100 dark:hover:bg-slate-800/70 text-slate-700 dark:text-slate-200"}`,onClick:()=>{u(A.id),f(We=>new Set(We).add(A.id))},children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Oe?d.jsx("button",{className:"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200",onClick:We=>{We.stopPropagation(),$(A.id)},children:ge?d.jsx(K0,{className:"w-4 h-4"}):d.jsx(j0,{className:"w-4 h-4"})}):d.jsx("span",{className:"w-4 h-4"}),ge?d.jsx(ol,{className:"w-4 h-4 text-indigo-600"}):d.jsx(Du,{className:"w-4 h-4 text-slate-500"}),d.jsx("span",{className:"truncate",title:A.name,children:A.name})]}),r&&A.id!==L&&d.jsx("button",{onClick:We=>{We.stopPropagation(),N(A.id)},className:"text-slate-400 hover:text-red-500",title:"Delete folder",children:d.jsx(Ip,{className:"w-4 h-4"})})]}),ge&&((me=A.children)==null?void 0:me.filter(We=>We.type==="FOLDER").map(We=>ae(We,F+1)))]},A.id)};return p?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx(Fe,{className:"w-8 h-8 animate-spin text-indigo-600"})}):d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[d.jsxs("div",{className:"flex flex-col gap-3 mb-4",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[d.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[d.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Script Library"}),d.jsxs("button",{onClick:O,className:"px-3 py-2 text-sm rounded-lg bg-slate-900 text-white hover:bg-slate-800 flex items-center gap-2",disabled:k,children:[k?d.jsx(Fe,{className:"w-4 h-4 animate-spin"}):d.jsx(Mr,{className:"w-4 h-4"})," Download Library"]})]}),d.jsxs("div",{className:"relative w-full md:w-72",children:[d.jsx(_p,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),d.jsx("input",{type:"text",placeholder:"Search scripts...",className:"pl-9 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none w-full bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100",value:S,onChange:A=>_(A.target.value)})]})]}),d.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-1 flex items-center gap-2",children:[d.jsx(fa,{className:"w-4 h-4"})," Read access for everyone; only developers can organize. Anyone can export a full copy."]}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Downloading exports the entire library as a zip (all folders and files). Treat it as a full backup and store it securely."})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[320px,1fr] gap-4",children:[d.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-lg border border-slate-200 dark:border-slate-700 p-3",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:"Folders"}),r&&d.jsxs("button",{onClick:()=>{C(!0),v(l||(G==null?void 0:G.id)||L)},className:"text-sm text-indigo-600 hover:text-indigo-700 flex items-center gap-1",children:[d.jsx(Z0,{className:"w-4 h-4"})," New"]})]}),d.jsx("div",{className:"space-y-1 max-h-[520px] overflow-y-auto pr-1",children:o.map(A=>ae(A))})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg border border-slate-200 dark:border-slate-700 p-4 space-y-4",children:[b&&d.jsx("div",{className:"px-3 py-2 rounded-lg text-sm bg-slate-50 dark:bg-slate-800 text-slate-700 dark:text-slate-200 border border-slate-200 dark:border-slate-700",children:b}),d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[d.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-slate-500 dark:text-slate-400",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"uppercase text-xs font-semibold text-slate-400",children:"Path"}),Tt!==null&&d.jsxs("button",{className:"flex items-center gap-1 text-xs px-2 py-1 rounded-md border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-100 hover:bg-slate-100 dark:hover:bg-slate-800 font-semibold",onClick:()=>u(Tt),title:"Up one level",children:[d.jsx(J0,{className:"w-3.5 h-3.5"})," Up"]})]}),fe.map((A,F)=>d.jsxs(vc.Fragment,{children:[F>0&&d.jsx("span",{className:"text-slate-400",children:"/"}),d.jsx("button",{className:`hover:text-indigo-600 ${A.id===l?"font-semibold text-slate-900 dark:text-white":""}`,onClick:()=>u(A.id),children:A.name})]},A.id))]}),r&&d.jsx("div",{className:"flex items-center gap-2 text-xs text-slate-500 dark:text-slate-300",children:d.jsx("span",{className:"px-2 py-1 rounded-full bg-indigo-50 dark:bg-indigo-900/40 text-indigo-700 dark:text-indigo-200",children:'Completed requests drop into "Unsorted". Move them where they belong.'})})]}),d.jsxs("div",{className:"rounded-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:[d.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 text-[11px] uppercase tracking-wide text-slate-500 dark:text-slate-300 px-3 py-2 grid grid-cols-[minmax(0,1fr)_auto] gap-3",children:[d.jsx("span",{children:"Name"}),d.jsx("span",{className:"text-right pr-1",children:"Actions"})]}),Vt.length===0&&at.length===0?d.jsxs("div",{className:"text-center py-10 text-slate-500 dark:text-slate-300",children:[d.jsx(Mr,{className:"w-10 h-10 text-slate-400 mx-auto mb-3"}),d.jsx("p",{className:"font-medium",children:"Nothing here yet"}),d.jsx("p",{className:"text-sm",children:'Completed requests land in "Unsorted". Move them into the right folder.'})]}):d.jsx("div",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:[...Vt.map(A=>({kind:"folder",node:A})),...at.map(A=>({kind:"file",node:A}))].map(({kind:A,node:F})=>{var ut;const W=be(F),Oe=A==="file"?qo(o):qo(o,0,sS(F)),ge=A==="folder"&&((ut=F.children)==null?void 0:ut.length)||0;return d.jsxs("div",{className:"grid grid-cols-[minmax(0,1fr)_auto] gap-3 items-center px-3 py-2 hover:bg-slate-50 dark:hover:bg-slate-800 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[A==="folder"?c.has(F.id)||l===F.id?d.jsx(ol,{className:"w-4 h-4 text-indigo-500 flex-shrink-0"}):d.jsx(Du,{className:"w-4 h-4 text-slate-500 flex-shrink-0"}):d.jsx(Mr,{className:"w-4 h-4 text-slate-500 flex-shrink-0"}),R===F.id?d.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d.jsx("input",{value:w,onChange:me=>M(me.target.value),className:"text-sm px-2 py-1 rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100"}),d.jsx("button",{onClick:()=>{so(F.id,w),I(null)},className:"text-xs text-indigo-600 dark:text-indigo-300",children:"Save"}),d.jsx("button",{onClick:()=>I(null),className:"text-xs text-slate-500 dark:text-slate-300",children:"Cancel"})]}):d.jsxs("div",{className:"min-w-0",children:[d.jsx("button",{onClick:()=>{A==="folder"?(u(F.id),f(me=>new Set(me).add(F.id))):W&&t(W)},className:"text-sm font-semibold text-slate-900 dark:text-slate-100 truncate text-left hover:text-indigo-600",children:F.name}),d.jsx("p",{className:"text-[11px] text-slate-500 dark:text-slate-300 truncate",children:A==="folder"?ge?`${ge} item${ge===1?"":"s"}`:"Empty folder":"File"})]})]}),d.jsxs("div",{className:"flex justify-end items-center gap-2 flex-wrap sm:flex-nowrap shrink-0",children:[A==="file"&&d.jsx("button",{onClick:me=>{me.stopPropagation(),Ls(me,F)},className:"text-xs text-indigo-600 dark:text-indigo-300 hover:underline",children:"Download"}),r&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>{I(F.id),M(F.name)},className:"text-xs text-slate-600 dark:text-slate-200 hover:underline flex items-center gap-1",children:[d.jsx(ug,{className:"w-3 h-3"})," Rename"]}),d.jsxs("select",{className:"text-xs border border-slate-300 dark:border-slate-600 rounded-md px-2 py-1 bg-white dark:bg-slate-900 text-slate-700 dark:text-slate-200 max-w-[180px]",defaultValue:"",onChange:me=>{me.target.value&&oo(F.id,Number(me.target.value)),me.target.value=""},children:[d.jsx("option",{value:"",children:A==="folder"?"Move folder...":"Move file..."}),Oe.map(me=>d.jsxs("option",{value:me.id,children:[" ".repeat(me.depth*2),me.name]},me.id))]}),d.jsx("button",{onClick:()=>N(F.id),className:"text-xs text-red-500 hover:text-red-600",children:"Delete"})]})]})]},F.id)})})]})]})]})]}),E&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-w-md w-full p-6 border border-slate-200 dark:border-slate-700",children:[d.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4",children:"Create New Folder"}),d.jsxs("form",{onSubmit:ro,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Folder Name"}),d.jsx("input",{type:"text",required:!0,className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100",placeholder:"e.g., MEP / QA / Templates",value:T,onChange:A=>x(A.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Parent Folder"}),d.jsx("select",{className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100",value:y||(G==null?void 0:G.id)||L||"",onChange:A=>v(Number(A.target.value)),children:te.map(A=>d.jsxs("option",{value:A.id,children:[" ".repeat(A.depth*2),A.name]},A.id))})]}),d.jsxs("div",{className:"flex gap-3 pt-2",children:[d.jsx("button",{type:"button",onClick:()=>C(!1),className:"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-900 transition font-medium",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:h,className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition font-medium shadow-sm flex items-center justify-center gap-2",children:h?d.jsx(Fe,{className:"w-4 h-4 animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(ig,{className:"w-4 h-4"})," Create"]})})]})]})]})})]})},dm=P.createContext(void 0),lS=({children:e})=>{const[t,n]=P.useState(()=>localStorage.getItem("rah_theme")==="dark");P.useEffect(()=>{localStorage.setItem("rah_theme",t?"dark":"light"),t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]);const r=()=>{n(o=>!o)};return d.jsx(dm.Provider,{value:{isDark:t,toggleTheme:r},children:e})},cm=()=>{const e=P.useContext(dm);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},aS=()=>{const{user:e}=or(),{isDark:t,toggleTheme:n}=cm(),[r,o]=P.useState(!1),[s,l]=P.useState(!0),u=()=>{o(!0),setTimeout(()=>{o(!1),alert("Settings saved successfully!")},800)};return d.jsxs("div",{className:"max-w-3xl mx-auto space-y-6 text-slate-900 dark:text-slate-100",children:[d.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Account Settings"}),d.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden",children:[d.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-800",children:[d.jsxs("h2",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[d.jsx(Pp,{className:"w-5 h-5 text-indigo-600"})," Profile Information"]}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-300 mt-1",children:"Update your account details and profile."})]}),d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsx("img",{src:e==null?void 0:e.avatar,alt:e==null?void 0:e.name,className:"w-20 h-20 rounded-full border-4 border-slate-50 dark:border-slate-800 shadow-sm"}),d.jsx("div",{children:d.jsx("button",{className:"bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-200 px-4 py-2 rounded-lg text-sm font-medium hover:bg-slate-50 dark:hover:bg-slate-700 transition",children:"Change Avatar"})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Full Name"}),d.jsx("input",{type:"text",defaultValue:e==null?void 0:e.name,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none text-slate-700 dark:text-slate-100 bg-slate-50 dark:bg-slate-800",readOnly:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Email Address"}),d.jsx("input",{type:"email",defaultValue:e==null?void 0:e.email,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none text-slate-700 dark:text-slate-100 bg-slate-50 dark:bg-slate-800",readOnly:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Role"}),d.jsx("input",{type:"text",defaultValue:e==null?void 0:e.role,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg outline-none text-slate-500 dark:text-slate-200 bg-slate-100 dark:bg-slate-800/70",disabled:!0})]})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden",children:[d.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-800",children:d.jsxs("h2",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[d.jsx(fa,{className:"w-5 h-5 text-indigo-600"})," Preferences"]})}),d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 p-2 rounded-lg text-blue-600 dark:text-blue-200",children:d.jsx(W0,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-slate-900 dark:text-slate-100",children:"Email Notifications"}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-300",children:"Receive emails about request updates"})]})]}),d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",className:"sr-only peer",checked:s,onChange:()=>l(!s)}),d.jsx("div",{className:"w-11 h-6 bg-slate-200 dark:bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/30 p-2 rounded-lg text-purple-600 dark:text-purple-200",children:d.jsx(sg,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-slate-900 dark:text-slate-100",children:"Dark Mode"}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-300",children:"Use a dark theme for the interface"})]})]}),d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",className:"sr-only peer",checked:t,onChange:n}),d.jsx("div",{className:"w-11 h-6 bg-slate-200 dark:bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]})]}),d.jsx("div",{className:"p-6 bg-slate-50 dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 flex justify-end",children:d.jsx("button",{onClick:u,disabled:r,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-indigo-700 transition flex items-center gap-2 shadow-sm disabled:opacity-70",children:r?d.jsx(Fe,{className:"w-4 h-4 animate-spin"}):d.jsxs(d.Fragment,{children:[d.jsx(cg,{className:"w-4 h-4"})," Save Changes"]})})})]})]})},uS=()=>{const[e,t]=P.useState([]),[n,r]=P.useState(!1),[o,s]=P.useState(!1),[l,u]=P.useState(null),[c,f]=P.useState(null),[p,m]=P.useState({name:"",email:"",password:"",role:"Employee"});P.useEffect(()=>{h()},[]);const h=async()=>{const T=await Cg();t(T)},g=async T=>{T.preventDefault();try{if(p.password.length<4){alert("Password must be at least 4 characters.");return}await wg(p.name,p.email,p.password,p.role),m({name:"",email:"",password:"",role:"Employee"}),r(!1),await h(),u("User added successfully")}catch(x){u(x.message||"Failed to add user")}},E=async(T,x)=>{f(T.id.toString()),u(null);try{await Tg(T.id.toString(),x),await h(),u(x===Ne?"User promoted to developer privileges":"Developer privileges removed")}catch(y){u(y.message||"Failed to update role")}finally{f(null)}},C=async T=>{window.confirm("Are you sure you want to delete this user?")&&(t(y=>y.filter(v=>v.id!==T)),await Sg(T),await h(),r(!1),u("User removed and list refreshed"))};return d.jsxs("div",{className:"space-y-6 text-slate-900 dark:text-slate-100",children:[d.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-slate-900 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"User Management"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-300 mt-1",children:"Create and manage accounts for architects and developers."})]}),d.jsxs("button",{onClick:()=>r(!0),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-indigo-700 transition flex items-center gap-2",children:[d.jsx(Rp,{className:"w-4 h-4"})," Add Employee"]})]}),l&&d.jsx("div",{className:"px-4 py-3 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-sm text-slate-700 dark:text-slate-200",children:l}),n&&d.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl border border-indigo-200 dark:border-indigo-700 shadow-sm animate-in fade-in slide-in-from-top-4",children:[d.jsx("h3",{className:"font-bold text-slate-900 dark:text-white mb-4",children:"Add New Employee"}),d.jsxs("form",{onSubmit:g,className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-semibold text-slate-700 dark:text-slate-200 mb-1",children:"Full Name"}),d.jsx("input",{type:"text",required:!0,className:"w-full px-3 py-2 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 border border-slate-300 dark:border-slate-600 rounded-md text-sm",value:p.name,onChange:T=>m({...p,name:T.target.value}),placeholder:"e.g. John Doe"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-semibold text-slate-700 dark:text-slate-200 mb-1",children:"Email"}),d.jsx("input",{type:"email",required:!0,className:"w-full px-3 py-2 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 border border-slate-300 dark:border-slate-600 rounded-md text-sm",value:p.email,onChange:T=>m({...p,email:T.target.value}),placeholder:"john@design.com"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("label",{className:"block text-xs font-semibold text-slate-700 dark:text-slate-200 mb-1",children:"Password"}),d.jsx("input",{type:o?"text":"password",required:!0,className:"w-full px-3 py-2 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 border border-slate-300 dark:border-slate-600 rounded-md text-sm pr-8",value:p.password,onChange:T=>m({...p,password:T.target.value}),placeholder:""}),d.jsx("button",{type:"button",onClick:()=>s(!o),className:"absolute right-2 top-7 text-slate-400 dark:text-slate-500 hover:text-slate-600 dark:hover:text-slate-300",children:o?d.jsx(da,{className:"w-3 h-3"}):d.jsx(ca,{className:"w-3 h-3"})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-semibold text-slate-700 dark:text-slate-200 mb-1",children:"Role"}),d.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 border border-slate-300 dark:border-slate-600 rounded-md text-sm",value:p.role,onChange:T=>m({...p,role:T.target.value}),placeholder:"e.g. Engineer, Architect, Manager"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{type:"button",onClick:()=>r(!1),className:"px-4 py-2 text-sm text-slate-600 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-md",children:"Cancel"}),d.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 text-sm bg-green-600 text-white rounded-md hover:bg-green-700",children:"Create"})]})]})]}),d.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden",children:d.jsxs("table",{className:"w-full text-left text-sm text-slate-600 dark:text-slate-200",children:[d.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800 text-slate-700 dark:text-slate-200 font-semibold uppercase text-xs",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-4",children:"Employee"}),d.jsx("th",{className:"px-6 py-4",children:"Email"}),d.jsx("th",{className:"px-6 py-4",children:"Role"}),d.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:e.map(T=>d.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800 transition",children:[d.jsxs("td",{className:"px-6 py-4 flex items-center gap-3",children:[d.jsx("img",{src:T.avatar,alt:T.name,className:"w-8 h-8 rounded-full border border-slate-200 dark:border-slate-600"}),d.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:T.name})]}),d.jsxs("td",{className:"px-6 py-4 flex items-center gap-2",children:[d.jsx(Np,{className:"w-3.5 h-3.5 text-slate-400 dark:text-slate-500"})," ",T.email]}),d.jsx("td",{className:"px-6 py-4",children:d.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium ${T.role===Ne?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-200":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-200"}`,children:[d.jsx(fa,{className:"w-3 h-3"})," ",T.role]})}),d.jsx("td",{className:"px-6 py-4 text-right",children:d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[d.jsx("button",{disabled:c===T.id.toString(),onClick:()=>E(T,T.role===Ne?"ARCHITECT":Ne),className:`px-3 py-1.5 text-xs font-semibold rounded-md border transition ${T.role===Ne?"border-amber-200 text-amber-700 bg-amber-50 hover:bg-amber-100 dark:border-amber-800 dark:text-amber-200 dark:bg-amber-900/20 dark:hover:bg-amber-900/40":"border-purple-200 text-purple-700 bg-purple-50 hover:bg-purple-100 dark:border-purple-800 dark:text-purple-200 dark:bg-purple-900/20 dark:hover:bg-purple-900/40"} ${c===T.id.toString()?"opacity-60 cursor-not-allowed":""}`,children:c===T.id.toString()?"Updating...":T.role===Ne?"Demote":"Promote to Dev"}),d.jsx("button",{onClick:()=>C(T.id),className:"text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 p-2 rounded-lg transition",title:"Remove User",children:d.jsx(Ip,{className:"w-4 h-4"})})]})})]},T.id))})]})})]})},dS=()=>{const[e,t]=P.useState([]),[n,r]=P.useState(!0),[o,s]=P.useState(null),[l,u]=P.useState({});P.useEffect(()=>{c()},[]);const c=async()=>{try{const g=await se.get("/registration-requests");t(g)}catch(g){console.error("Failed to load registration requests:",g)}finally{r(!1)}},f=async g=>{const E=(l[g]||"").trim();if(!E){alert("Please enter a role for the user before approving.");return}s(g);try{await se.post(`/registration-requests/${g}/approve`,{role:E}),await c(),alert("Registration approved successfully!")}catch(C){alert(C.message||"Failed to approve registration")}finally{s(null)}},p=async g=>{if(window.confirm("Are you sure you want to reject this registration request?")){s(g);try{await se.post(`/registration-requests/${g}/reject`,{}),await c()}catch(E){alert(E.message||"Failed to reject registration")}finally{s(null)}}},m=e.filter(g=>g.status==="PENDING"),h=e.filter(g=>g.status!=="PENDING");return n?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx(Fe,{className:"w-8 h-8 animate-spin text-indigo-600"})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Registration Requests"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Review and approve new user registrations"})]}),d.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 px-4 py-2 rounded-lg border border-indigo-200 dark:border-indigo-800",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Rp,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),d.jsx("span",{className:"font-bold text-indigo-600 dark:text-indigo-400 text-lg",children:m.length}),d.jsx("span",{className:"text-sm text-indigo-600 dark:text-indigo-400",children:"Pending"})]})})]}),m.length===0&&d.jsxs("div",{className:"text-center py-12 bg-slate-50 dark:bg-slate-900 rounded-lg border border-dashed border-slate-200 dark:border-slate-700",children:[d.jsx(Fo,{className:"w-12 h-12 text-slate-300 dark:text-slate-600 mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white",children:"No pending requests"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"All registration requests have been reviewed"})]}),m.length>0&&d.jsx("div",{className:"space-y-4",children:m.map(g=>d.jsx("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/10 dark:to-orange-900/10 p-5 rounded-lg border-2 border-yellow-200 dark:border-yellow-800 hover:border-yellow-300 dark:hover:border-yellow-700 transition",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white font-bold text-lg",children:g.name.charAt(0).toUpperCase()}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:g.name}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[d.jsx(Np,{className:"w-3.5 h-3.5"}),g.email]})]})]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 dark:text-slate-500 mt-2",children:[d.jsx(Qr,{className:"w-3.5 h-3.5"}),"Requested ",new Date(g.createdAt).toLocaleString()]})]}),d.jsxs("div",{className:"flex gap-3 items-center",children:[d.jsx("input",{type:"text",className:"px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-100",placeholder:"Role (e.g. Engineer)",value:l[g.id]||"",onChange:E=>u(C=>({...C,[g.id]:E.target.value}))}),d.jsxs("button",{onClick:()=>p(g.id),disabled:o===g.id,className:"px-4 py-2 bg-white dark:bg-slate-800 border-2 border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition flex items-center gap-2 font-medium",children:[o===g.id?d.jsx(Fe,{className:"w-4 h-4 animate-spin"}):d.jsx(bu,{className:"w-4 h-4"}),"Reject"]}),d.jsxs("button",{onClick:()=>f(g.id),disabled:o===g.id,className:"px-4 py-2 bg-green-600 dark:bg-green-700 text-white rounded-lg hover:bg-green-700 dark:hover:bg-green-600 transition flex items-center gap-2 font-medium shadow-sm",children:[o===g.id?d.jsx(Fe,{className:"w-4 h-4 animate-spin"}):d.jsx(Fo,{className:"w-4 h-4"}),"Approve"]})]})]})},g.id))})]}),h.length>0&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden",children:[d.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 border-b border-slate-200 dark:border-slate-700",children:d.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Processed Requests"})}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-left text-sm text-slate-600 dark:text-slate-400",children:[d.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900 text-slate-700 dark:text-slate-300 font-semibold uppercase text-xs",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-4",children:"User"}),d.jsx("th",{className:"px-6 py-4",children:"Email"}),d.jsx("th",{className:"px-6 py-4",children:"Status"}),d.jsx("th",{className:"px-6 py-4",children:"Processed"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:h.map(g=>d.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-900/50",children:[d.jsx("td",{className:"px-6 py-4 font-medium text-slate-900 dark:text-white",children:g.name}),d.jsx("td",{className:"px-6 py-4",children:g.email}),d.jsx("td",{className:"px-6 py-4",children:d.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium ${g.status==="APPROVED"?"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-400":"bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-400"}`,children:[g.status==="APPROVED"?d.jsx(Fo,{className:"w-3 h-3"}):d.jsx(bu,{className:"w-3 h-3"}),g.status]})}),d.jsx("td",{className:"px-6 py-4",children:g.reviewedAt?new Date(g.reviewedAt).toLocaleString():"-"})]},g.id))})]})})]})]})},cS=({onShowRegistration:e})=>{const{login:t}=or(),[n,r]=P.useState(""),[o,s]=P.useState(""),[l,u]=P.useState(!1),[c,f]=P.useState(""),[p,m]=P.useState(!1),h=async g=>{g.preventDefault(),f(""),m(!0);try{await t(n,o)}catch(E){f(E.message||"Failed to login")}finally{m(!1)}};return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-2xl shadow-xl overflow-hidden border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"bg-slate-900 dark:bg-slate-950 p-8 text-center",children:[d.jsx("div",{className:"mx-auto w-12 h-12 bg-indigo-600 rounded-lg flex items-center justify-center mb-4 shadow-lg shadow-indigo-900/50",children:d.jsx(ua,{className:"w-7 h-7 text-white"})}),d.jsxs("h1",{className:"text-2xl font-bold text-white tracking-tight",children:["Automation ",d.jsx("span",{className:"text-indigo-400",children:"Hub"})]}),d.jsx("p",{className:"text-slate-400 mt-2 text-sm",children:"Automation Request Portal"})]}),d.jsx("div",{className:"p-8",children:d.jsxs("form",{onSubmit:h,className:"space-y-5",children:[c&&d.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-3 rounded-lg text-sm flex items-center gap-2",children:[d.jsx(Sp,{className:"w-4 h-4 flex-shrink-0"}),c]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Work Email"}),d.jsx("input",{type:"email",required:!0,className:"w-full px-4 py-2 bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none",placeholder:"you@company.com",value:n,onChange:g=>r(g.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:l?"text":"password",required:!0,className:"w-full px-4 py-2 bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none pr-10",placeholder:"********",value:o,onChange:g=>s(g.target.value)}),d.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute right-3 top-2.5 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition",children:l?d.jsx(da,{className:"w-4 h-4"}):d.jsx(ca,{className:"w-4 h-4"})})]})]}),d.jsx("button",{type:"submit",disabled:p,className:"w-full bg-indigo-600 text-white py-2.5 rounded-lg font-medium hover:bg-indigo-700 transition flex justify-center items-center gap-2 shadow-sm",children:p?d.jsx(Fe,{className:"w-4 h-4 animate-spin"}):d.jsxs(d.Fragment,{children:["Sign In ",d.jsx(Tp,{className:"w-4 h-4"})]})}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:"Don't have an account?"}),d.jsx("button",{type:"button",onClick:e,className:"w-full bg-white dark:bg-slate-900 border-2 border-indigo-200 dark:border-indigo-800 text-indigo-600 dark:text-indigo-400 py-2.5 rounded-lg font-medium hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition",children:"Request Access"})]})]})})]})})},fS=({onBackToLogin:e})=>{const[t,n]=P.useState(""),[r,o]=P.useState(""),[s,l]=P.useState(""),[u,c]=P.useState(""),[f,p]=P.useState(!1),[m,h]=P.useState(""),[g,E]=P.useState(!1),[C,T]=P.useState(!1),x=async y=>{if(y.preventDefault(),h(""),s!==u){h("Passwords do not match");return}if(s.length<4){h("Password must be at least 4 characters");return}E(!0);try{await se.post("/auth/register",{name:t,email:r,password:s}),T(!0)}catch(v){h(v.message||"Registration request failed")}finally{E(!1)}};return C?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-2xl shadow-xl overflow-hidden border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 p-8 text-center",children:[d.jsx("div",{className:"mx-auto w-16 h-16 bg-white/20 backdrop-blur rounded-full flex items-center justify-center mb-4",children:d.jsx(Fo,{className:"w-10 h-10 text-white"})}),d.jsx("h1",{className:"text-2xl font-bold text-white",children:"Request Submitted!"})]}),d.jsxs("div",{className:"p-8 text-center",children:[d.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6",children:"Your registration request has been submitted successfully. A developer will review your request and approve your account soon."}),d.jsx("button",{onClick:e,className:"w-full bg-indigo-600 text-white py-2.5 rounded-lg font-medium hover:bg-indigo-700 transition",children:"Back to Login"})]})]})}):d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-2xl shadow-xl overflow-hidden border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"bg-slate-900 dark:bg-slate-950 p-8 text-center",children:[d.jsx("div",{className:"mx-auto w-12 h-12 bg-indigo-600 rounded-lg flex items-center justify-center mb-4 shadow-lg",children:d.jsx(ua,{className:"w-7 h-7 text-white"})}),d.jsxs("h1",{className:"text-2xl font-bold text-white tracking-tight",children:["Join ",d.jsx("span",{className:"text-indigo-400",children:"Automation Hub"})]}),d.jsx("p",{className:"text-slate-400 mt-2 text-sm",children:"Request access to the portal"})]}),d.jsx("div",{className:"p-8",children:d.jsxs("form",{onSubmit:x,className:"space-y-5",children:[m&&d.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-3 rounded-lg text-sm flex items-center gap-2",children:[d.jsx(Sp,{className:"w-4 h-4 flex-shrink-0"}),m]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Full Name"}),d.jsx("input",{type:"text",required:!0,className:"w-full px-4 py-2 bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none",placeholder:"John Doe",value:t,onChange:y=>n(y.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Work Email"}),d.jsx("input",{type:"email",required:!0,className:"w-full px-4 py-2 bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none",placeholder:"you@company.com",value:r,onChange:y=>o(y.target.value)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:f?"text":"password",required:!0,className:"w-full px-4 py-2 bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none pr-10",placeholder:"********",value:s,onChange:y=>l(y.target.value)}),d.jsx("button",{type:"button",onClick:()=>p(!f),className:"absolute right-3 top-2.5 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition",children:f?d.jsx(da,{className:"w-4 h-4"}):d.jsx(ca,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Confirm Password"}),d.jsx("input",{type:f?"text":"password",required:!0,className:"w-full px-4 py-2 bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none",placeholder:"********",value:u,onChange:y=>c(y.target.value)})]}),d.jsx("button",{type:"submit",disabled:g,className:"w-full bg-indigo-600 text-white py-2.5 rounded-lg font-medium hover:bg-indigo-700 transition flex justify-center items-center gap-2 shadow-sm",children:g?d.jsx(Fe,{className:"w-4 h-4 animate-spin"}):d.jsxs(d.Fragment,{children:["Submit Request ",d.jsx(Tp,{className:"w-4 h-4"})]})}),d.jsxs("div",{className:"text-center text-sm text-slate-600 dark:text-slate-400",children:["Already have an account?"," ",d.jsx("button",{type:"button",onClick:e,className:"text-indigo-600 dark:text-indigo-400 hover:underline font-medium",children:"Sign in"})]})]})})]})})},pS=()=>{const{user:e,logout:t,isLoading:n}=or(),{isDark:r}=cm(),[o,s]=P.useState(null),[l,u]=P.useState([]),[c,f]=P.useState(!1),[p,m]=P.useState(0),[h,g]=P.useState(0),[E,C]=P.useState("DASHBOARD"),[T,x]=P.useState(!1),[y,v]=P.useState(0),[S,_]=P.useState(0),[R,I]=P.useState(0),[w,M]=P.useState(0);P.useEffect(()=>{(async()=>{if(e){f(!0);try{const $=await Uu();u($)}catch($){console.error("Failed to load requests from backend",$)}finally{f(!1)}}})()},[e,p,h]),P.useEffect(()=>{if(!e||e.role!==Ne)return;const J=setInterval(()=>g($=>$+1),1e4);return()=>clearInterval(J)},[e]);const b=l.filter(J=>J.status==="PENDING").length,H=Math.max(0,l.length-w);P.useEffect(()=>{e&&(E==="DASHBOARD"&&e.role===Ne&&(_(b),M(l.length)),E==="REGISTRATIONS"&&e.role===Ne&&I(y))},[E,e,b,y]),P.useEffect(()=>{(async()=>{if(!e||e.role!==Ne){v(0);return}try{const $=await se.get("/registration-requests"),te=Array.isArray($)?$.filter(L=>L.status==="PENDING").length:0;v(te)}catch($){console.error("Failed to fetch registration requests count",$)}})()},[e,p]);const k=()=>{m(J=>J+1)};if(n)return d.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:d.jsx(Fe,{className:"w-8 h-8 animate-spin text-indigo-600"})});if(!e)return T?d.jsx(fS,{onBackToLogin:()=>x(!1)}):d.jsx(cS,{onShowRegistration:()=>x(!0)});const B=()=>{t(),s(null),C("DASHBOARD")},X=()=>E==="SETTINGS"?d.jsx(aS,{}):E==="LIBRARY"?d.jsx(iS,{requests:l,onViewRequest:J=>{s(J),C("DASHBOARD")}}):E==="USERS"?d.jsx(uS,{}):E==="REGISTRATIONS"?d.jsx(dS,{}):o?d.jsx(oS,{request:o,isDeveloper:e.role===Ne,onBack:()=>s(null),onUpdate:()=>{k(),Uu().then(J=>{const $=J.find(te=>te.id===o.id);$&&s($)})}}):c&&l.length===0?d.jsxs("div",{className:"flex h-64 items-center justify-center text-slate-400 dark:text-slate-500 gap-2",children:[d.jsx(Fe,{className:"w-5 h-5 animate-spin"})," Loading requests..."]}):e.role===Ne?d.jsx(_g,{requests:l,onViewRequest:s}):d.jsx(Ng,{requests:l,onRequestCreate:k,onViewRequest:s});return d.jsxs("div",{className:`h-screen ${r?"dark":""} bg-slate-50 dark:bg-slate-950 flex overflow-hidden`,children:[d.jsxs("aside",{className:"w-64 bg-slate-900 dark:bg-slate-950 text-slate-300 flex flex-col flex-shrink-0 h-full border-r border-slate-800 dark:border-slate-900 z-20",children:[d.jsxs("div",{className:"h-16 flex items-center gap-3 px-6 border-b border-slate-800 dark:border-slate-900 flex-shrink-0",children:[d.jsx("div",{className:"bg-indigo-600 p-1.5 rounded-lg",children:d.jsx(ua,{className:"w-5 h-5 text-white"})}),d.jsxs("span",{className:"font-bold text-lg text-white tracking-tight",children:["Automation ",d.jsx("span",{className:"text-indigo-400",children:"Hub"})]})]}),d.jsxs("div",{className:"p-4 flex-1 overflow-y-auto space-y-1",children:[d.jsx("div",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2 px-2 mt-4",children:"Menu"}),d.jsxs("button",{onClick:()=>{s(null),C("DASHBOARD"),_(b)},className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition ${E==="DASHBOARD"&&!o?"bg-indigo-600/10 text-indigo-400":"hover:bg-slate-800 dark:hover:bg-slate-900 hover:text-white"}`,children:[d.jsx(lg,{className:"w-4 h-4"}),d.jsx("span",{className:"font-medium",children:"Dashboard"}),e.role===Ne&&b>S&&d.jsx("span",{className:"ml-auto text-[11px] font-bold px-2 py-0.5 rounded-full bg-yellow-500 text-slate-900",children:b-S}),e.role===Ne&&H>0&&d.jsxs("span",{className:"ml-2 text-[11px] font-bold px-2 py-0.5 rounded-full bg-blue-500 text-white",children:["+",H]})]}),d.jsxs("button",{onClick:()=>{s(null),C("LIBRARY")},className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition ${E==="LIBRARY"?"bg-indigo-600/10 text-indigo-400":"hover:bg-slate-800 dark:hover:bg-slate-900 hover:text-white"}`,children:[d.jsx(ol,{className:"w-4 h-4"}),d.jsx("span",{className:"font-medium",children:"Script Library"})]}),e.role===Ne&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>{s(null),C("USERS")},className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition ${E==="USERS"?"bg-indigo-600/10 text-indigo-400":"hover:bg-slate-800 dark:hover:bg-slate-900 hover:text-white"}`,children:[d.jsx(hg,{className:"w-4 h-4"}),d.jsx("span",{className:"font-medium",children:"User Management"})]}),d.jsxs("button",{onClick:()=>{s(null),C("REGISTRATIONS"),I(y)},className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition ${E==="REGISTRATIONS"?"bg-indigo-600/10 text-indigo-400":"hover:bg-slate-800 dark:hover:bg-slate-900 hover:text-white"}`,children:[d.jsx(Ap,{className:"w-4 h-4"}),d.jsx("span",{className:"font-medium",children:"Registrations"}),y>R&&d.jsx("span",{className:"ml-auto text-[11px] font-bold px-2 py-0.5 rounded-full bg-red-500 text-white",children:y-R})]})]}),d.jsxs("button",{onClick:()=>{s(null),C("SETTINGS")},className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition ${E==="SETTINGS"?"bg-indigo-600/10 text-indigo-400":"hover:bg-slate-800 dark:hover:bg-slate-900 hover:text-white"}`,children:[d.jsx(pg,{className:"w-4 h-4"}),d.jsx("span",{className:"font-medium",children:"Settings"})]})]}),d.jsxs("div",{className:"p-4 border-t border-slate-800 dark:border-slate-900 bg-slate-900/50 dark:bg-slate-950/50 flex-shrink-0",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4 px-2",children:[d.jsx("img",{src:e.avatar,alt:e.name,className:"w-8 h-8 rounded-full border border-slate-600"}),d.jsxs("div",{className:"overflow-hidden",children:[d.jsx("p",{className:"text-sm font-medium text-white truncate",children:e.name}),d.jsx("p",{className:"text-xs text-slate-500 truncate",children:e.role===Ne?"Lead Automation Eng.":e.role||"Employee"})]})]}),d.jsxs("button",{onClick:B,className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-slate-800 dark:bg-slate-900 hover:bg-slate-700 dark:hover:bg-slate-800 text-sm font-medium transition text-white border border-slate-700 dark:border-slate-800",children:[d.jsx(og,{className:"w-4 h-4"})," Sign Out"]})]})]}),d.jsx("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:d.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-4 md:p-8",children:d.jsx("div",{className:"max-w-7xl mx-auto",children:X()})})})]})},mS=()=>d.jsx(lS,{children:d.jsx(kg,{children:d.jsx(pS,{})})}),fm=document.getElementById("root");if(!fm)throw new Error("Could not find root element to mount to");const hS=ci.createRoot(fm);hS.render(d.jsx(vc.StrictMode,{children:d.jsx(mS,{})}));
