(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function pm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uc={exports:{}},hs={},dc={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xr=Symbol.for("react.element"),mm=Symbol.for("react.portal"),hm=Symbol.for("react.fragment"),gm=Symbol.for("react.strict_mode"),ym=Symbol.for("react.profiler"),xm=Symbol.for("react.provider"),vm=Symbol.for("react.context"),Em=Symbol.for("react.forward_ref"),Cm=Symbol.for("react.suspense"),Sm=Symbol.for("react.memo"),wm=Symbol.for("react.lazy"),Ta=Symbol.iterator;function Tm(e){return e===null||typeof e!="object"?null:(e=Ta&&e[Ta]||e["@@iterator"],typeof e=="function"?e:null)}var cc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fc=Object.assign,pc={};function tr(e,t,n){this.props=e,this.context=t,this.refs=pc,this.updater=n||cc}tr.prototype.isReactComponent={};tr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};tr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mc(){}mc.prototype=tr.prototype;function gl(e,t,n){this.props=e,this.context=t,this.refs=pc,this.updater=n||cc}var yl=gl.prototype=new mc;yl.constructor=gl;fc(yl,tr.prototype);yl.isPureReactComponent=!0;var Na=Array.isArray,hc=Object.prototype.hasOwnProperty,xl={current:null},gc={key:!0,ref:!0,__self:!0,__source:!0};function yc(e,t,n){var r,o={},s=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(s=""+t.key),t)hc.call(t,r)&&!gc.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(u===1)o.children=n;else if(1<u){for(var d=Array(u),f=0;f<u;f++)d[f]=arguments[f+2];o.children=d}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)o[r]===void 0&&(o[r]=u[r]);return{$$typeof:Xr,type:e,key:s,ref:l,props:o,_owner:xl.current}}function Nm(e,t){return{$$typeof:Xr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xr}function km(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ka=/\/+/g;function Us(e,t){return typeof e=="object"&&e!==null&&e.key!=null?km(""+e.key):t.toString(36)}function No(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Xr:case mm:l=!0}}if(l)return l=e,o=o(l),e=r===""?"."+Us(l,0):r,Na(o)?(n="",e!=null&&(n=e.replace(ka,"$&/")+"/"),No(o,t,n,"",function(f){return f})):o!=null&&(vl(o)&&(o=Nm(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(ka,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=r===""?".":r+":",Na(e))for(var u=0;u<e.length;u++){s=e[u];var d=r+Us(s,u);l+=No(s,t,n,d,o)}else if(d=Tm(e),typeof d=="function")for(e=d.call(e),u=0;!(s=e.next()).done;)s=s.value,d=r+Us(s,u++),l+=No(s,t,n,d,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function so(e,t,n){if(e==null)return e;var r=[],o=0;return No(e,r,"","",function(s){return t.call(n,s,o++)}),r}function _m(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ve={current:null},ko={transition:null},Im={ReactCurrentDispatcher:Ve,ReactCurrentBatchConfig:ko,ReactCurrentOwner:xl};function xc(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:so,forEach:function(e,t,n){so(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return so(e,function(){t++}),t},toArray:function(e){return so(e,function(t){return t})||[]},only:function(e){if(!vl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};K.Component=tr;K.Fragment=hm;K.Profiler=ym;K.PureComponent=gl;K.StrictMode=gm;K.Suspense=Cm;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Im;K.act=xc;K.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=fc({},e.props),o=e.key,s=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,l=xl.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(d in t)hc.call(t,d)&&!gc.hasOwnProperty(d)&&(r[d]=t[d]===void 0&&u!==void 0?u[d]:t[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){u=Array(d);for(var f=0;f<d;f++)u[f]=arguments[f+2];r.children=u}return{$$typeof:Xr,type:e.type,key:o,ref:s,props:r,_owner:l}};K.createContext=function(e){return e={$$typeof:vm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xm,_context:e},e.Consumer=e};K.createElement=yc;K.createFactory=function(e){var t=yc.bind(null,e);return t.type=e,t};K.createRef=function(){return{current:null}};K.forwardRef=function(e){return{$$typeof:Em,render:e}};K.isValidElement=vl;K.lazy=function(e){return{$$typeof:wm,_payload:{_status:-1,_result:e},_init:_m}};K.memo=function(e,t){return{$$typeof:Sm,type:e,compare:t===void 0?null:t}};K.startTransition=function(e){var t=ko.transition;ko.transition={};try{e()}finally{ko.transition=t}};K.unstable_act=xc;K.useCallback=function(e,t){return Ve.current.useCallback(e,t)};K.useContext=function(e){return Ve.current.useContext(e)};K.useDebugValue=function(){};K.useDeferredValue=function(e){return Ve.current.useDeferredValue(e)};K.useEffect=function(e,t){return Ve.current.useEffect(e,t)};K.useId=function(){return Ve.current.useId()};K.useImperativeHandle=function(e,t,n){return Ve.current.useImperativeHandle(e,t,n)};K.useInsertionEffect=function(e,t){return Ve.current.useInsertionEffect(e,t)};K.useLayoutEffect=function(e,t){return Ve.current.useLayoutEffect(e,t)};K.useMemo=function(e,t){return Ve.current.useMemo(e,t)};K.useReducer=function(e,t,n){return Ve.current.useReducer(e,t,n)};K.useRef=function(e){return Ve.current.useRef(e)};K.useState=function(e){return Ve.current.useState(e)};K.useSyncExternalStore=function(e,t,n){return Ve.current.useSyncExternalStore(e,t,n)};K.useTransition=function(){return Ve.current.useTransition()};K.version="18.3.1";dc.exports=K;var A=dc.exports;const vc=pm(A);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am=A,Rm=Symbol.for("react.element"),Pm=Symbol.for("react.fragment"),Mm=Object.prototype.hasOwnProperty,Dm=Am.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bm={key:!0,ref:!0,__self:!0,__source:!0};function Ec(e,t,n){var r,o={},s=null,l=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Mm.call(t,r)&&!bm.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Rm,type:e,key:s,ref:l,props:o,_owner:Dm.current}}hs.Fragment=Pm;hs.jsx=Ec;hs.jsxs=Ec;uc.exports=hs;var c=uc.exports,fi={},Cc={exports:{}},Xe={},Sc={exports:{}},wc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,V){var z=L.length;L.push(V);e:for(;0<z;){var ee=z-1>>>1,ce=L[ee];if(0<o(ce,V))L[ee]=V,L[z]=ce,z=ee;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var V=L[0],z=L.pop();if(z!==V){L[0]=z;e:for(var ee=0,ce=L.length,Nt=ce>>>1;ee<Nt;){var et=2*(ee+1)-1,Gt=L[et],be=et+1,ut=L[be];if(0>o(Gt,z))be<ce&&0>o(ut,Gt)?(L[ee]=ut,L[be]=z,ee=be):(L[ee]=Gt,L[et]=z,ee=et);else if(be<ce&&0>o(ut,z))L[ee]=ut,L[be]=z,ee=be;else break e}}return V}function o(L,V){var z=L.sortIndex-V.sortIndex;return z!==0?z:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,m=null,h=3,g=!1,E=!1,C=!1,P=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(L){for(var V=n(f);V!==null;){if(V.callback===null)r(f);else if(V.startTime<=L)r(f),V.sortIndex=V.expirationTime,t(d,V);else break;V=n(f)}}function w(L){if(C=!1,v(L),!E)if(n(d)!==null)E=!0,O(k);else{var V=n(f);V!==null&&de(w,V.startTime-L)}}function k(L,V){E=!1,C&&(C=!1,x(S),S=-1),g=!0;var z=h;try{for(v(V),m=n(d);m!==null&&(!(m.expirationTime>V)||L&&!H());){var ee=m.callback;if(typeof ee=="function"){m.callback=null,h=m.priorityLevel;var ce=ee(m.expirationTime<=V);V=e.unstable_now(),typeof ce=="function"?m.callback=ce:m===n(d)&&r(d),v(V)}else r(d);m=n(d)}if(m!==null)var Nt=!0;else{var et=n(f);et!==null&&de(w,et.startTime-V),Nt=!1}return Nt}finally{m=null,h=z,g=!1}}var I=!1,_=null,S=-1,M=5,b=-1;function H(){return!(e.unstable_now()-b<M)}function N(){if(_!==null){var L=e.unstable_now();b=L;var V=!0;try{V=_(!0,L)}finally{V?$():(I=!1,_=null)}}else I=!1}var $;if(typeof y=="function")$=function(){y(N)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,B=X.port2;X.port1.onmessage=N,$=function(){B.postMessage(null)}}else $=function(){P(N,0)};function O(L){_=L,I||(I=!0,$())}function de(L,V){S=P(function(){L(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){E||g||(E=!0,O(k))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(L){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var z=h;h=V;try{return L()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var z=h;h=L;try{return V()}finally{h=z}},e.unstable_scheduleCallback=function(L,V,z){var ee=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?ee+z:ee):z=ee,L){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=z+ce,L={id:p++,callback:V,priorityLevel:L,startTime:z,expirationTime:ce,sortIndex:-1},z>ee?(L.sortIndex=z,t(f,L),n(d)===null&&L===n(f)&&(C?(x(S),S=-1):C=!0,de(w,z-ee))):(L.sortIndex=ce,t(d,L),E||g||(E=!0,O(k))),L},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(L){var V=h;return function(){var z=h;h=V;try{return L.apply(this,arguments)}finally{h=z}}}})(wc);Sc.exports=wc;var Lm=Sc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um=A,Qe=Lm;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tc=new Set,br={};function En(e,t){Yn(e,t),Yn(e+"Capture",t)}function Yn(e,t){for(br[e]=t,e=0;e<t.length;e++)Tc.add(t[e])}var Pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pi=Object.prototype.hasOwnProperty,Fm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_a={},Ia={};function Vm(e){return pi.call(Ia,e)?!0:pi.call(_a,e)?!1:Fm.test(e)?Ia[e]=!0:(_a[e]=!0,!1)}function Gm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qm(e,t,n,r){if(t===null||typeof t>"u"||Gm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ge(e,t,n,r,o,s,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ie[e]=new Ge(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ie[t]=new Ge(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ie[e]=new Ge(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ie[e]=new Ge(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ie[e]=new Ge(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ie[e]=new Ge(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ie[e]=new Ge(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ie[e]=new Ge(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ie[e]=new Ge(e,5,!1,e.toLowerCase(),null,!1,!1)});var El=/[\-:]([a-z])/g;function Cl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(El,Cl);Ie[t]=new Ge(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(El,Cl);Ie[t]=new Ge(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(El,Cl);Ie[t]=new Ge(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ie[e]=new Ge(e,1,!1,e.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ie[e]=new Ge(e,1,!1,e.toLowerCase(),null,!0,!0)});function Sl(e,t,n,r){var o=Ie.hasOwnProperty(t)?Ie[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qm(t,n,o,r)&&(n=null),r||o===null?Vm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ut=Um.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,io=Symbol.for("react.element"),kn=Symbol.for("react.portal"),_n=Symbol.for("react.fragment"),wl=Symbol.for("react.strict_mode"),mi=Symbol.for("react.profiler"),Nc=Symbol.for("react.provider"),kc=Symbol.for("react.context"),Tl=Symbol.for("react.forward_ref"),hi=Symbol.for("react.suspense"),gi=Symbol.for("react.suspense_list"),Nl=Symbol.for("react.memo"),Ht=Symbol.for("react.lazy"),_c=Symbol.for("react.offscreen"),Aa=Symbol.iterator;function ur(e){return e===null||typeof e!="object"?null:(e=Aa&&e[Aa]||e["@@iterator"],typeof e=="function"?e:null)}var ue=Object.assign,Fs;function vr(e){if(Fs===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Fs=t&&t[1]||""}return`
`+Fs+e}var Vs=!1;function Gs(e,t){if(!e||Vs)return"";Vs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var o=f.stack.split(`
`),s=r.stack.split(`
`),l=o.length-1,u=s.length-1;1<=l&&0<=u&&o[l]!==s[u];)u--;for(;1<=l&&0<=u;l--,u--)if(o[l]!==s[u]){if(l!==1||u!==1)do if(l--,u--,0>u||o[l]!==s[u]){var d=`
`+o[l].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=l&&0<=u);break}}}finally{Vs=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?vr(e):""}function Hm(e){switch(e.tag){case 5:return vr(e.type);case 16:return vr("Lazy");case 13:return vr("Suspense");case 19:return vr("SuspenseList");case 0:case 2:case 15:return e=Gs(e.type,!1),e;case 11:return e=Gs(e.type.render,!1),e;case 1:return e=Gs(e.type,!0),e;default:return""}}function yi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _n:return"Fragment";case kn:return"Portal";case mi:return"Profiler";case wl:return"StrictMode";case hi:return"Suspense";case gi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case kc:return(e.displayName||"Context")+".Consumer";case Nc:return(e._context.displayName||"Context")+".Provider";case Tl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nl:return t=e.displayName||null,t!==null?t:yi(e.type)||"Memo";case Ht:t=e._payload,e=e._init;try{return yi(e(t))}catch{}}return null}function Bm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yi(t);case 8:return t===wl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function tn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ic(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zm(e){var t=Ic(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(l){r=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function lo(e){e._valueTracker||(e._valueTracker=zm(e))}function Ac(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ic(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ho(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function xi(e,t){var n=t.checked;return ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ra(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=tn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Rc(e,t){t=t.checked,t!=null&&Sl(e,"checked",t,!1)}function vi(e,t){Rc(e,t);var n=tn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ei(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ei(e,t.type,tn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Pa(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ei(e,t,n){(t!=="number"||Ho(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Er=Array.isArray;function Gn(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+tn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ci(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ma(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(Er(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:tn(n)}}function Pc(e,t){var n=tn(t.value),r=tn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Da(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Mc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Si(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Mc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ao,Dc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ao=ao||document.createElement("div"),ao.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ao.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Lr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var wr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$m=["Webkit","ms","Moz","O"];Object.keys(wr).forEach(function(e){$m.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wr[t]=wr[e]})});function bc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||wr.hasOwnProperty(e)&&wr[e]?(""+t).trim():t+"px"}function Lc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=bc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Jm=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wi(e,t){if(t){if(Jm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function Ti(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ni=null;function kl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ki=null,qn=null,Hn=null;function ba(e){if(e=to(e)){if(typeof ki!="function")throw Error(D(280));var t=e.stateNode;t&&(t=Es(t),ki(e.stateNode,e.type,t))}}function Uc(e){qn?Hn?Hn.push(e):Hn=[e]:qn=e}function Fc(){if(qn){var e=qn,t=Hn;if(Hn=qn=null,ba(e),t)for(e=0;e<t.length;e++)ba(t[e])}}function Vc(e,t){return e(t)}function Gc(){}var qs=!1;function qc(e,t,n){if(qs)return e(t,n);qs=!0;try{return Vc(e,t,n)}finally{qs=!1,(qn!==null||Hn!==null)&&(Gc(),Fc())}}function Ur(e,t){var n=e.stateNode;if(n===null)return null;var r=Es(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var _i=!1;if(Pt)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){_i=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{_i=!1}function Om(e,t,n,r,o,s,l,u,d){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(p){this.onError(p)}}var Tr=!1,Bo=null,zo=!1,Ii=null,Wm={onError:function(e){Tr=!0,Bo=e}};function Ym(e,t,n,r,o,s,l,u,d){Tr=!1,Bo=null,Om.apply(Wm,arguments)}function Km(e,t,n,r,o,s,l,u,d){if(Ym.apply(this,arguments),Tr){if(Tr){var f=Bo;Tr=!1,Bo=null}else throw Error(D(198));zo||(zo=!0,Ii=f)}}function Cn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Hc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function La(e){if(Cn(e)!==e)throw Error(D(188))}function jm(e){var t=e.alternate;if(!t){if(t=Cn(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return La(o),e;if(s===r)return La(o),t;s=s.sibling}throw Error(D(188))}if(n.return!==r.return)n=o,r=s;else{for(var l=!1,u=o.child;u;){if(u===n){l=!0,n=o,r=s;break}if(u===r){l=!0,r=o,n=s;break}u=u.sibling}if(!l){for(u=s.child;u;){if(u===n){l=!0,n=s,r=o;break}if(u===r){l=!0,r=s,n=o;break}u=u.sibling}if(!l)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function Bc(e){return e=jm(e),e!==null?zc(e):null}function zc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zc(e);if(t!==null)return t;e=e.sibling}return null}var $c=Qe.unstable_scheduleCallback,Ua=Qe.unstable_cancelCallback,Qm=Qe.unstable_shouldYield,Xm=Qe.unstable_requestPaint,he=Qe.unstable_now,Zm=Qe.unstable_getCurrentPriorityLevel,_l=Qe.unstable_ImmediatePriority,Jc=Qe.unstable_UserBlockingPriority,$o=Qe.unstable_NormalPriority,eh=Qe.unstable_LowPriority,Oc=Qe.unstable_IdlePriority,gs=null,wt=null;function th(e){if(wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(gs,e,void 0,(e.current.flags&128)===128)}catch{}}var ht=Math.clz32?Math.clz32:oh,nh=Math.log,rh=Math.LN2;function oh(e){return e>>>=0,e===0?32:31-(nh(e)/rh|0)|0}var uo=64,co=4194304;function Cr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,l=n&268435455;if(l!==0){var u=l&~o;u!==0?r=Cr(u):(s&=l,s!==0&&(r=Cr(s)))}else l=n&~o,l!==0?r=Cr(l):s!==0&&(r=Cr(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ht(t),o=1<<n,r|=e[n],t&=~o;return r}function sh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ih(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-ht(s),u=1<<l,d=o[l];d===-1?(!(u&n)||u&r)&&(o[l]=sh(u,t)):d<=t&&(e.expiredLanes|=u),s&=~u}}function Ai(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Wc(){var e=uo;return uo<<=1,!(uo&4194240)&&(uo=64),e}function Hs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ht(t),e[t]=n}function lh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-ht(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function Il(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ht(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Z=0;function Yc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Kc,Al,jc,Qc,Xc,Ri=!1,fo=[],Wt=null,Yt=null,Kt=null,Fr=new Map,Vr=new Map,zt=[],ah="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fa(e,t){switch(e){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":Yt=null;break;case"mouseover":case"mouseout":Kt=null;break;case"pointerover":case"pointerout":Fr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vr.delete(t.pointerId)}}function cr(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=to(t),t!==null&&Al(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function uh(e,t,n,r,o){switch(t){case"focusin":return Wt=cr(Wt,e,t,n,r,o),!0;case"dragenter":return Yt=cr(Yt,e,t,n,r,o),!0;case"mouseover":return Kt=cr(Kt,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return Fr.set(s,cr(Fr.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,Vr.set(s,cr(Vr.get(s)||null,e,t,n,r,o)),!0}return!1}function Zc(e){var t=dn(e.target);if(t!==null){var n=Cn(t);if(n!==null){if(t=n.tag,t===13){if(t=Hc(n),t!==null){e.blockedOn=t,Xc(e.priority,function(){jc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _o(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ni=r,n.target.dispatchEvent(r),Ni=null}else return t=to(n),t!==null&&Al(t),e.blockedOn=n,!1;t.shift()}return!0}function Va(e,t,n){_o(e)&&n.delete(t)}function dh(){Ri=!1,Wt!==null&&_o(Wt)&&(Wt=null),Yt!==null&&_o(Yt)&&(Yt=null),Kt!==null&&_o(Kt)&&(Kt=null),Fr.forEach(Va),Vr.forEach(Va)}function fr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ri||(Ri=!0,Qe.unstable_scheduleCallback(Qe.unstable_NormalPriority,dh)))}function Gr(e){function t(o){return fr(o,e)}if(0<fo.length){fr(fo[0],e);for(var n=1;n<fo.length;n++){var r=fo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Wt!==null&&fr(Wt,e),Yt!==null&&fr(Yt,e),Kt!==null&&fr(Kt,e),Fr.forEach(t),Vr.forEach(t),n=0;n<zt.length;n++)r=zt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<zt.length&&(n=zt[0],n.blockedOn===null);)Zc(n),n.blockedOn===null&&zt.shift()}var Bn=Ut.ReactCurrentBatchConfig,Oo=!0;function ch(e,t,n,r){var o=Z,s=Bn.transition;Bn.transition=null;try{Z=1,Rl(e,t,n,r)}finally{Z=o,Bn.transition=s}}function fh(e,t,n,r){var o=Z,s=Bn.transition;Bn.transition=null;try{Z=4,Rl(e,t,n,r)}finally{Z=o,Bn.transition=s}}function Rl(e,t,n,r){if(Oo){var o=Pi(e,t,n,r);if(o===null)Qs(e,t,r,Wo,n),Fa(e,r);else if(uh(o,e,t,n,r))r.stopPropagation();else if(Fa(e,r),t&4&&-1<ah.indexOf(e)){for(;o!==null;){var s=to(o);if(s!==null&&Kc(s),s=Pi(e,t,n,r),s===null&&Qs(e,t,r,Wo,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else Qs(e,t,r,null,n)}}var Wo=null;function Pi(e,t,n,r){if(Wo=null,e=kl(r),e=dn(e),e!==null)if(t=Cn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Hc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wo=e,null}function ef(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zm()){case _l:return 1;case Jc:return 4;case $o:case eh:return 16;case Oc:return 536870912;default:return 16}default:return 16}}var Jt=null,Pl=null,Io=null;function tf(){if(Io)return Io;var e,t=Pl,n=t.length,r,o="value"in Jt?Jt.value:Jt.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===o[s-r];r++);return Io=o.slice(e,1<r?1-r:void 0)}function Ao(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function po(){return!0}function Ga(){return!1}function Ze(e){function t(n,r,o,s,l){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?po:Ga,this.isPropagationStopped=Ga,this}return ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=po)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=po)},persist:function(){},isPersistent:po}),t}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ml=Ze(nr),eo=ue({},nr,{view:0,detail:0}),ph=Ze(eo),Bs,zs,pr,ys=ue({},eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pr&&(pr&&e.type==="mousemove"?(Bs=e.screenX-pr.screenX,zs=e.screenY-pr.screenY):zs=Bs=0,pr=e),Bs)},movementY:function(e){return"movementY"in e?e.movementY:zs}}),qa=Ze(ys),mh=ue({},ys,{dataTransfer:0}),hh=Ze(mh),gh=ue({},eo,{relatedTarget:0}),$s=Ze(gh),yh=ue({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),xh=Ze(yh),vh=ue({},nr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Eh=Ze(vh),Ch=ue({},nr,{data:0}),Ha=Ze(Ch),Sh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Th={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Th[e])?!!t[e]:!1}function Dl(){return Nh}var kh=ue({},eo,{key:function(e){if(e.key){var t=Sh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ao(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dl,charCode:function(e){return e.type==="keypress"?Ao(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ao(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_h=Ze(kh),Ih=ue({},ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ba=Ze(Ih),Ah=ue({},eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dl}),Rh=Ze(Ah),Ph=ue({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mh=Ze(Ph),Dh=ue({},ys,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bh=Ze(Dh),Lh=[9,13,27,32],bl=Pt&&"CompositionEvent"in window,Nr=null;Pt&&"documentMode"in document&&(Nr=document.documentMode);var Uh=Pt&&"TextEvent"in window&&!Nr,nf=Pt&&(!bl||Nr&&8<Nr&&11>=Nr),za=" ",$a=!1;function rf(e,t){switch(e){case"keyup":return Lh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function of(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var In=!1;function Fh(e,t){switch(e){case"compositionend":return of(t);case"keypress":return t.which!==32?null:($a=!0,za);case"textInput":return e=t.data,e===za&&$a?null:e;default:return null}}function Vh(e,t){if(In)return e==="compositionend"||!bl&&rf(e,t)?(e=tf(),Io=Pl=Jt=null,In=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nf&&t.locale!=="ko"?null:t.data;default:return null}}var Gh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ja(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Gh[e.type]:t==="textarea"}function sf(e,t,n,r){Uc(r),t=Yo(t,"onChange"),0<t.length&&(n=new Ml("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var kr=null,qr=null;function qh(e){yf(e,0)}function xs(e){var t=Pn(e);if(Ac(t))return e}function Hh(e,t){if(e==="change")return t}var lf=!1;if(Pt){var Js;if(Pt){var Os="oninput"in document;if(!Os){var Oa=document.createElement("div");Oa.setAttribute("oninput","return;"),Os=typeof Oa.oninput=="function"}Js=Os}else Js=!1;lf=Js&&(!document.documentMode||9<document.documentMode)}function Wa(){kr&&(kr.detachEvent("onpropertychange",af),qr=kr=null)}function af(e){if(e.propertyName==="value"&&xs(qr)){var t=[];sf(t,qr,e,kl(e)),qc(qh,t)}}function Bh(e,t,n){e==="focusin"?(Wa(),kr=t,qr=n,kr.attachEvent("onpropertychange",af)):e==="focusout"&&Wa()}function zh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xs(qr)}function $h(e,t){if(e==="click")return xs(t)}function Jh(e,t){if(e==="input"||e==="change")return xs(t)}function Oh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yt=typeof Object.is=="function"?Object.is:Oh;function Hr(e,t){if(yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!pi.call(t,o)||!yt(e[o],t[o]))return!1}return!0}function Ya(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ka(e,t){var n=Ya(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ya(n)}}function uf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function df(){for(var e=window,t=Ho();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ho(e.document)}return t}function Ll(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Wh(e){var t=df(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&uf(n.ownerDocument.documentElement,n)){if(r!==null&&Ll(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=Ka(n,s);var l=Ka(n,r);o&&l&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Yh=Pt&&"documentMode"in document&&11>=document.documentMode,An=null,Mi=null,_r=null,Di=!1;function ja(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Di||An==null||An!==Ho(r)||(r=An,"selectionStart"in r&&Ll(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_r&&Hr(_r,r)||(_r=r,r=Yo(Mi,"onSelect"),0<r.length&&(t=new Ml("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=An)))}function mo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rn={animationend:mo("Animation","AnimationEnd"),animationiteration:mo("Animation","AnimationIteration"),animationstart:mo("Animation","AnimationStart"),transitionend:mo("Transition","TransitionEnd")},Ws={},cf={};Pt&&(cf=document.createElement("div").style,"AnimationEvent"in window||(delete Rn.animationend.animation,delete Rn.animationiteration.animation,delete Rn.animationstart.animation),"TransitionEvent"in window||delete Rn.transitionend.transition);function vs(e){if(Ws[e])return Ws[e];if(!Rn[e])return e;var t=Rn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in cf)return Ws[e]=t[n];return e}var ff=vs("animationend"),pf=vs("animationiteration"),mf=vs("animationstart"),hf=vs("transitionend"),gf=new Map,Qa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rn(e,t){gf.set(e,t),En(t,[e])}for(var Ys=0;Ys<Qa.length;Ys++){var Ks=Qa[Ys],Kh=Ks.toLowerCase(),jh=Ks[0].toUpperCase()+Ks.slice(1);rn(Kh,"on"+jh)}rn(ff,"onAnimationEnd");rn(pf,"onAnimationIteration");rn(mf,"onAnimationStart");rn("dblclick","onDoubleClick");rn("focusin","onFocus");rn("focusout","onBlur");rn(hf,"onTransitionEnd");Yn("onMouseEnter",["mouseout","mouseover"]);Yn("onMouseLeave",["mouseout","mouseover"]);Yn("onPointerEnter",["pointerout","pointerover"]);Yn("onPointerLeave",["pointerout","pointerover"]);En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));En("onBeforeInput",["compositionend","keypress","textInput","paste"]);En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Xa(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Km(r,t,void 0,e),e.currentTarget=null}function yf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var l=r.length-1;0<=l;l--){var u=r[l],d=u.instance,f=u.currentTarget;if(u=u.listener,d!==s&&o.isPropagationStopped())break e;Xa(o,u,f),s=d}else for(l=0;l<r.length;l++){if(u=r[l],d=u.instance,f=u.currentTarget,u=u.listener,d!==s&&o.isPropagationStopped())break e;Xa(o,u,f),s=d}}}if(zo)throw e=Ii,zo=!1,Ii=null,e}function ne(e,t){var n=t[Vi];n===void 0&&(n=t[Vi]=new Set);var r=e+"__bubble";n.has(r)||(xf(t,e,2,!1),n.add(r))}function js(e,t,n){var r=0;t&&(r|=4),xf(n,e,r,t)}var ho="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[ho]){e[ho]=!0,Tc.forEach(function(n){n!=="selectionchange"&&(Qh.has(n)||js(n,!1,e),js(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ho]||(t[ho]=!0,js("selectionchange",!1,t))}}function xf(e,t,n,r){switch(ef(t)){case 1:var o=ch;break;case 4:o=fh;break;default:o=Rl}n=o.bind(null,t,n,e),o=void 0,!_i||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Qs(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var u=r.stateNode.containerInfo;if(u===o||u.nodeType===8&&u.parentNode===o)break;if(l===4)for(l=r.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===o||d.nodeType===8&&d.parentNode===o))return;l=l.return}for(;u!==null;){if(l=dn(u),l===null)return;if(d=l.tag,d===5||d===6){r=s=l;continue e}u=u.parentNode}}r=r.return}qc(function(){var f=s,p=kl(n),m=[];e:{var h=gf.get(e);if(h!==void 0){var g=Ml,E=e;switch(e){case"keypress":if(Ao(n)===0)break e;case"keydown":case"keyup":g=_h;break;case"focusin":E="focus",g=$s;break;case"focusout":E="blur",g=$s;break;case"beforeblur":case"afterblur":g=$s;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=qa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=hh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Rh;break;case ff:case pf:case mf:g=xh;break;case hf:g=Mh;break;case"scroll":g=ph;break;case"wheel":g=bh;break;case"copy":case"cut":case"paste":g=Eh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Ba}var C=(t&4)!==0,P=!C&&e==="scroll",x=C?h!==null?h+"Capture":null:h;C=[];for(var y=f,v;y!==null;){v=y;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,x!==null&&(w=Ur(y,x),w!=null&&C.push(zr(y,w,v)))),P)break;y=y.return}0<C.length&&(h=new g(h,E,null,n,p),m.push({event:h,listeners:C}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&n!==Ni&&(E=n.relatedTarget||n.fromElement)&&(dn(E)||E[Mt]))break e;if((g||h)&&(h=p.window===p?p:(h=p.ownerDocument)?h.defaultView||h.parentWindow:window,g?(E=n.relatedTarget||n.toElement,g=f,E=E?dn(E):null,E!==null&&(P=Cn(E),E!==P||E.tag!==5&&E.tag!==6)&&(E=null)):(g=null,E=f),g!==E)){if(C=qa,w="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(C=Ba,w="onPointerLeave",x="onPointerEnter",y="pointer"),P=g==null?h:Pn(g),v=E==null?h:Pn(E),h=new C(w,y+"leave",g,n,p),h.target=P,h.relatedTarget=v,w=null,dn(p)===f&&(C=new C(x,y+"enter",E,n,p),C.target=v,C.relatedTarget=P,w=C),P=w,g&&E)t:{for(C=g,x=E,y=0,v=C;v;v=Tn(v))y++;for(v=0,w=x;w;w=Tn(w))v++;for(;0<y-v;)C=Tn(C),y--;for(;0<v-y;)x=Tn(x),v--;for(;y--;){if(C===x||x!==null&&C===x.alternate)break t;C=Tn(C),x=Tn(x)}C=null}else C=null;g!==null&&Za(m,h,g,C,!1),E!==null&&P!==null&&Za(m,P,E,C,!0)}}e:{if(h=f?Pn(f):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var k=Hh;else if(Ja(h))if(lf)k=Jh;else{k=zh;var I=Bh}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=$h);if(k&&(k=k(e,f))){sf(m,k,n,p);break e}I&&I(e,h,f),e==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&Ei(h,"number",h.value)}switch(I=f?Pn(f):window,e){case"focusin":(Ja(I)||I.contentEditable==="true")&&(An=I,Mi=f,_r=null);break;case"focusout":_r=Mi=An=null;break;case"mousedown":Di=!0;break;case"contextmenu":case"mouseup":case"dragend":Di=!1,ja(m,n,p);break;case"selectionchange":if(Yh)break;case"keydown":case"keyup":ja(m,n,p)}var _;if(bl)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else In?rf(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(nf&&n.locale!=="ko"&&(In||S!=="onCompositionStart"?S==="onCompositionEnd"&&In&&(_=tf()):(Jt=p,Pl="value"in Jt?Jt.value:Jt.textContent,In=!0)),I=Yo(f,S),0<I.length&&(S=new Ha(S,e,null,n,p),m.push({event:S,listeners:I}),_?S.data=_:(_=of(n),_!==null&&(S.data=_)))),(_=Uh?Fh(e,n):Vh(e,n))&&(f=Yo(f,"onBeforeInput"),0<f.length&&(p=new Ha("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:f}),p.data=_))}yf(m,t)})}function zr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yo(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Ur(e,n),s!=null&&r.unshift(zr(e,s,o)),s=Ur(e,t),s!=null&&r.push(zr(e,s,o))),e=e.return}return r}function Tn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Za(e,t,n,r,o){for(var s=t._reactName,l=[];n!==null&&n!==r;){var u=n,d=u.alternate,f=u.stateNode;if(d!==null&&d===r)break;u.tag===5&&f!==null&&(u=f,o?(d=Ur(n,s),d!=null&&l.unshift(zr(n,d,u))):o||(d=Ur(n,s),d!=null&&l.push(zr(n,d,u)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Xh=/\r\n?/g,Zh=/\u0000|\uFFFD/g;function eu(e){return(typeof e=="string"?e:""+e).replace(Xh,`
`).replace(Zh,"")}function go(e,t,n){if(t=eu(t),eu(e)!==t&&n)throw Error(D(425))}function Ko(){}var bi=null,Li=null;function Ui(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fi=typeof setTimeout=="function"?setTimeout:void 0,e0=typeof clearTimeout=="function"?clearTimeout:void 0,tu=typeof Promise=="function"?Promise:void 0,t0=typeof queueMicrotask=="function"?queueMicrotask:typeof tu<"u"?function(e){return tu.resolve(null).then(e).catch(n0)}:Fi;function n0(e){setTimeout(function(){throw e})}function Xs(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Gr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Gr(t)}function jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var rr=Math.random().toString(36).slice(2),St="__reactFiber$"+rr,$r="__reactProps$"+rr,Mt="__reactContainer$"+rr,Vi="__reactEvents$"+rr,r0="__reactListeners$"+rr,o0="__reactHandles$"+rr;function dn(e){var t=e[St];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Mt]||n[St]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=nu(e);e!==null;){if(n=e[St])return n;e=nu(e)}return t}e=n,n=e.parentNode}return null}function to(e){return e=e[St]||e[Mt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Pn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function Es(e){return e[$r]||null}var Gi=[],Mn=-1;function on(e){return{current:e}}function oe(e){0>Mn||(e.current=Gi[Mn],Gi[Mn]=null,Mn--)}function te(e,t){Mn++,Gi[Mn]=e.current,e.current=t}var nn={},De=on(nn),ze=on(!1),hn=nn;function Kn(e,t){var n=e.type.contextTypes;if(!n)return nn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function $e(e){return e=e.childContextTypes,e!=null}function jo(){oe(ze),oe(De)}function ru(e,t,n){if(De.current!==nn)throw Error(D(168));te(De,t),te(ze,n)}function vf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(D(108,Bm(e)||"Unknown",o));return ue({},n,r)}function Qo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nn,hn=De.current,te(De,e),te(ze,ze.current),!0}function ou(e,t,n){var r=e.stateNode;if(!r)throw Error(D(169));n?(e=vf(e,t,hn),r.__reactInternalMemoizedMergedChildContext=e,oe(ze),oe(De),te(De,e)):oe(ze),te(ze,n)}var _t=null,Cs=!1,Zs=!1;function Ef(e){_t===null?_t=[e]:_t.push(e)}function s0(e){Cs=!0,Ef(e)}function sn(){if(!Zs&&_t!==null){Zs=!0;var e=0,t=Z;try{var n=_t;for(Z=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}_t=null,Cs=!1}catch(o){throw _t!==null&&(_t=_t.slice(e+1)),$c(_l,sn),o}finally{Z=t,Zs=!1}}return null}var Dn=[],bn=0,Xo=null,Zo=0,nt=[],rt=0,gn=null,It=1,At="";function an(e,t){Dn[bn++]=Zo,Dn[bn++]=Xo,Xo=e,Zo=t}function Cf(e,t,n){nt[rt++]=It,nt[rt++]=At,nt[rt++]=gn,gn=e;var r=It;e=At;var o=32-ht(r)-1;r&=~(1<<o),n+=1;var s=32-ht(t)+o;if(30<s){var l=o-o%5;s=(r&(1<<l)-1).toString(32),r>>=l,o-=l,It=1<<32-ht(t)+o|n<<o|r,At=s+e}else It=1<<s|n<<o|r,At=e}function Ul(e){e.return!==null&&(an(e,1),Cf(e,1,0))}function Fl(e){for(;e===Xo;)Xo=Dn[--bn],Dn[bn]=null,Zo=Dn[--bn],Dn[bn]=null;for(;e===gn;)gn=nt[--rt],nt[rt]=null,At=nt[--rt],nt[rt]=null,It=nt[--rt],nt[rt]=null}var je=null,Ke=null,se=!1,mt=null;function Sf(e,t){var n=ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function su(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,je=e,Ke=jt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,je=e,Ke=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=gn!==null?{id:It,overflow:At}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,je=e,Ke=null,!0):!1;default:return!1}}function qi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hi(e){if(se){var t=Ke;if(t){var n=t;if(!su(e,t)){if(qi(e))throw Error(D(418));t=jt(n.nextSibling);var r=je;t&&su(e,t)?Sf(r,n):(e.flags=e.flags&-4097|2,se=!1,je=e)}}else{if(qi(e))throw Error(D(418));e.flags=e.flags&-4097|2,se=!1,je=e}}}function iu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;je=e}function yo(e){if(e!==je)return!1;if(!se)return iu(e),se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ui(e.type,e.memoizedProps)),t&&(t=Ke)){if(qi(e))throw wf(),Error(D(418));for(;t;)Sf(e,t),t=jt(t.nextSibling)}if(iu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ke=jt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ke=null}}else Ke=je?jt(e.stateNode.nextSibling):null;return!0}function wf(){for(var e=Ke;e;)e=jt(e.nextSibling)}function jn(){Ke=je=null,se=!1}function Vl(e){mt===null?mt=[e]:mt.push(e)}var i0=Ut.ReactCurrentBatchConfig;function mr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(l){var u=o.refs;l===null?delete u[s]:u[s]=l},t._stringRef=s,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function xo(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lu(e){var t=e._init;return t(e._payload)}function Tf(e){function t(x,y){if(e){var v=x.deletions;v===null?(x.deletions=[y],x.flags|=16):v.push(y)}}function n(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function o(x,y){return x=en(x,y),x.index=0,x.sibling=null,x}function s(x,y,v){return x.index=v,e?(v=x.alternate,v!==null?(v=v.index,v<y?(x.flags|=2,y):v):(x.flags|=2,y)):(x.flags|=1048576,y)}function l(x){return e&&x.alternate===null&&(x.flags|=2),x}function u(x,y,v,w){return y===null||y.tag!==6?(y=ii(v,x.mode,w),y.return=x,y):(y=o(y,v),y.return=x,y)}function d(x,y,v,w){var k=v.type;return k===_n?p(x,y,v.props.children,w,v.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ht&&lu(k)===y.type)?(w=o(y,v.props),w.ref=mr(x,y,v),w.return=x,w):(w=Uo(v.type,v.key,v.props,null,x.mode,w),w.ref=mr(x,y,v),w.return=x,w)}function f(x,y,v,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=li(v,x.mode,w),y.return=x,y):(y=o(y,v.children||[]),y.return=x,y)}function p(x,y,v,w,k){return y===null||y.tag!==7?(y=mn(v,x.mode,w,k),y.return=x,y):(y=o(y,v),y.return=x,y)}function m(x,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ii(""+y,x.mode,v),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case io:return v=Uo(y.type,y.key,y.props,null,x.mode,v),v.ref=mr(x,null,y),v.return=x,v;case kn:return y=li(y,x.mode,v),y.return=x,y;case Ht:var w=y._init;return m(x,w(y._payload),v)}if(Er(y)||ur(y))return y=mn(y,x.mode,v,null),y.return=x,y;xo(x,y)}return null}function h(x,y,v,w){var k=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:u(x,y,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case io:return v.key===k?d(x,y,v,w):null;case kn:return v.key===k?f(x,y,v,w):null;case Ht:return k=v._init,h(x,y,k(v._payload),w)}if(Er(v)||ur(v))return k!==null?null:p(x,y,v,w,null);xo(x,v)}return null}function g(x,y,v,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return x=x.get(v)||null,u(y,x,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case io:return x=x.get(w.key===null?v:w.key)||null,d(y,x,w,k);case kn:return x=x.get(w.key===null?v:w.key)||null,f(y,x,w,k);case Ht:var I=w._init;return g(x,y,v,I(w._payload),k)}if(Er(w)||ur(w))return x=x.get(v)||null,p(y,x,w,k,null);xo(y,w)}return null}function E(x,y,v,w){for(var k=null,I=null,_=y,S=y=0,M=null;_!==null&&S<v.length;S++){_.index>S?(M=_,_=null):M=_.sibling;var b=h(x,_,v[S],w);if(b===null){_===null&&(_=M);break}e&&_&&b.alternate===null&&t(x,_),y=s(b,y,S),I===null?k=b:I.sibling=b,I=b,_=M}if(S===v.length)return n(x,_),se&&an(x,S),k;if(_===null){for(;S<v.length;S++)_=m(x,v[S],w),_!==null&&(y=s(_,y,S),I===null?k=_:I.sibling=_,I=_);return se&&an(x,S),k}for(_=r(x,_);S<v.length;S++)M=g(_,x,S,v[S],w),M!==null&&(e&&M.alternate!==null&&_.delete(M.key===null?S:M.key),y=s(M,y,S),I===null?k=M:I.sibling=M,I=M);return e&&_.forEach(function(H){return t(x,H)}),se&&an(x,S),k}function C(x,y,v,w){var k=ur(v);if(typeof k!="function")throw Error(D(150));if(v=k.call(v),v==null)throw Error(D(151));for(var I=k=null,_=y,S=y=0,M=null,b=v.next();_!==null&&!b.done;S++,b=v.next()){_.index>S?(M=_,_=null):M=_.sibling;var H=h(x,_,b.value,w);if(H===null){_===null&&(_=M);break}e&&_&&H.alternate===null&&t(x,_),y=s(H,y,S),I===null?k=H:I.sibling=H,I=H,_=M}if(b.done)return n(x,_),se&&an(x,S),k;if(_===null){for(;!b.done;S++,b=v.next())b=m(x,b.value,w),b!==null&&(y=s(b,y,S),I===null?k=b:I.sibling=b,I=b);return se&&an(x,S),k}for(_=r(x,_);!b.done;S++,b=v.next())b=g(_,x,S,b.value,w),b!==null&&(e&&b.alternate!==null&&_.delete(b.key===null?S:b.key),y=s(b,y,S),I===null?k=b:I.sibling=b,I=b);return e&&_.forEach(function(N){return t(x,N)}),se&&an(x,S),k}function P(x,y,v,w){if(typeof v=="object"&&v!==null&&v.type===_n&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case io:e:{for(var k=v.key,I=y;I!==null;){if(I.key===k){if(k=v.type,k===_n){if(I.tag===7){n(x,I.sibling),y=o(I,v.props.children),y.return=x,x=y;break e}}else if(I.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ht&&lu(k)===I.type){n(x,I.sibling),y=o(I,v.props),y.ref=mr(x,I,v),y.return=x,x=y;break e}n(x,I);break}else t(x,I);I=I.sibling}v.type===_n?(y=mn(v.props.children,x.mode,w,v.key),y.return=x,x=y):(w=Uo(v.type,v.key,v.props,null,x.mode,w),w.ref=mr(x,y,v),w.return=x,x=w)}return l(x);case kn:e:{for(I=v.key;y!==null;){if(y.key===I)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(x,y.sibling),y=o(y,v.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else t(x,y);y=y.sibling}y=li(v,x.mode,w),y.return=x,x=y}return l(x);case Ht:return I=v._init,P(x,y,I(v._payload),w)}if(Er(v))return E(x,y,v,w);if(ur(v))return C(x,y,v,w);xo(x,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(n(x,y.sibling),y=o(y,v),y.return=x,x=y):(n(x,y),y=ii(v,x.mode,w),y.return=x,x=y),l(x)):n(x,y)}return P}var Qn=Tf(!0),Nf=Tf(!1),es=on(null),ts=null,Ln=null,Gl=null;function ql(){Gl=Ln=ts=null}function Hl(e){var t=es.current;oe(es),e._currentValue=t}function Bi(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function zn(e,t){ts=e,Gl=Ln=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Be=!0),e.firstContext=null)}function lt(e){var t=e._currentValue;if(Gl!==e)if(e={context:e,memoizedValue:t,next:null},Ln===null){if(ts===null)throw Error(D(308));Ln=e,ts.dependencies={lanes:0,firstContext:e}}else Ln=Ln.next=e;return t}var cn=null;function Bl(e){cn===null?cn=[e]:cn.push(e)}function kf(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Bl(t)):(n.next=o.next,o.next=n),t.interleaved=n,Dt(e,r)}function Dt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Bt=!1;function zl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _f(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,j&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Dt(e,n)}return o=r.interleaved,o===null?(t.next=t,Bl(r)):(t.next=o.next,o.next=t),r.interleaved=t,Dt(e,n)}function Ro(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Il(e,n)}}function au(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ns(e,t,n,r){var o=e.updateQueue;Bt=!1;var s=o.firstBaseUpdate,l=o.lastBaseUpdate,u=o.shared.pending;if(u!==null){o.shared.pending=null;var d=u,f=d.next;d.next=null,l===null?s=f:l.next=f,l=d;var p=e.alternate;p!==null&&(p=p.updateQueue,u=p.lastBaseUpdate,u!==l&&(u===null?p.firstBaseUpdate=f:u.next=f,p.lastBaseUpdate=d))}if(s!==null){var m=o.baseState;l=0,p=f=d=null,u=s;do{var h=u.lane,g=u.eventTime;if((r&h)===h){p!==null&&(p=p.next={eventTime:g,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var E=e,C=u;switch(h=t,g=n,C.tag){case 1:if(E=C.payload,typeof E=="function"){m=E.call(g,m,h);break e}m=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=C.payload,h=typeof E=="function"?E.call(g,m,h):E,h==null)break e;m=ue({},m,h);break e;case 2:Bt=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[u]:h.push(u))}else g={eventTime:g,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},p===null?(f=p=g,d=m):p=p.next=g,l|=h;if(u=u.next,u===null){if(u=o.shared.pending,u===null)break;h=u,u=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(p===null&&(d=m),o.baseState=d,o.firstBaseUpdate=f,o.lastBaseUpdate=p,t=o.shared.interleaved,t!==null){o=t;do l|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);xn|=l,e.lanes=l,e.memoizedState=m}}function uu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(D(191,o));o.call(r)}}}var no={},Tt=on(no),Jr=on(no),Or=on(no);function fn(e){if(e===no)throw Error(D(174));return e}function $l(e,t){switch(te(Or,t),te(Jr,e),te(Tt,no),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Si(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Si(t,e)}oe(Tt),te(Tt,t)}function Xn(){oe(Tt),oe(Jr),oe(Or)}function If(e){fn(Or.current);var t=fn(Tt.current),n=Si(t,e.type);t!==n&&(te(Jr,e),te(Tt,n))}function Jl(e){Jr.current===e&&(oe(Tt),oe(Jr))}var le=on(0);function rs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ei=[];function Ol(){for(var e=0;e<ei.length;e++)ei[e]._workInProgressVersionPrimary=null;ei.length=0}var Po=Ut.ReactCurrentDispatcher,ti=Ut.ReactCurrentBatchConfig,yn=0,ae=null,ve=null,Se=null,os=!1,Ir=!1,Wr=0,l0=0;function Ae(){throw Error(D(321))}function Wl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yt(e[n],t[n]))return!1;return!0}function Yl(e,t,n,r,o,s){if(yn=s,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Po.current=e===null||e.memoizedState===null?c0:f0,e=n(r,o),Ir){s=0;do{if(Ir=!1,Wr=0,25<=s)throw Error(D(301));s+=1,Se=ve=null,t.updateQueue=null,Po.current=p0,e=n(r,o)}while(Ir)}if(Po.current=ss,t=ve!==null&&ve.next!==null,yn=0,Se=ve=ae=null,os=!1,t)throw Error(D(300));return e}function Kl(){var e=Wr!==0;return Wr=0,e}function Ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?ae.memoizedState=Se=e:Se=Se.next=e,Se}function at(){if(ve===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=ve.next;var t=Se===null?ae.memoizedState:Se.next;if(t!==null)Se=t,ve=e;else{if(e===null)throw Error(D(310));ve=e,e={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},Se===null?ae.memoizedState=Se=e:Se=Se.next=e}return Se}function Yr(e,t){return typeof t=="function"?t(e):t}function ni(e){var t=at(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=ve,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var l=o.next;o.next=s.next,s.next=l}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var u=l=null,d=null,f=s;do{var p=f.lane;if((yn&p)===p)d!==null&&(d=d.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var m={lane:p,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};d===null?(u=d=m,l=r):d=d.next=m,ae.lanes|=p,xn|=p}f=f.next}while(f!==null&&f!==s);d===null?l=r:d.next=u,yt(r,t.memoizedState)||(Be=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=d,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,ae.lanes|=s,xn|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ri(e){var t=at(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var l=o=o.next;do s=e(s,l.action),l=l.next;while(l!==o);yt(s,t.memoizedState)||(Be=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Af(){}function Rf(e,t){var n=ae,r=at(),o=t(),s=!yt(r.memoizedState,o);if(s&&(r.memoizedState=o,Be=!0),r=r.queue,jl(Df.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Se!==null&&Se.memoizedState.tag&1){if(n.flags|=2048,Kr(9,Mf.bind(null,n,r,o,t),void 0,null),we===null)throw Error(D(349));yn&30||Pf(n,t,o)}return o}function Pf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Mf(e,t,n,r){t.value=n,t.getSnapshot=r,bf(t)&&Lf(e)}function Df(e,t,n){return n(function(){bf(t)&&Lf(e)})}function bf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yt(e,n)}catch{return!0}}function Lf(e){var t=Dt(e,1);t!==null&&gt(t,e,1,-1)}function du(e){var t=Ct();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:e},t.queue=e,e=e.dispatch=d0.bind(null,ae,e),[t.memoizedState,e]}function Kr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Uf(){return at().memoizedState}function Mo(e,t,n,r){var o=Ct();ae.flags|=e,o.memoizedState=Kr(1|t,n,void 0,r===void 0?null:r)}function Ss(e,t,n,r){var o=at();r=r===void 0?null:r;var s=void 0;if(ve!==null){var l=ve.memoizedState;if(s=l.destroy,r!==null&&Wl(r,l.deps)){o.memoizedState=Kr(t,n,s,r);return}}ae.flags|=e,o.memoizedState=Kr(1|t,n,s,r)}function cu(e,t){return Mo(8390656,8,e,t)}function jl(e,t){return Ss(2048,8,e,t)}function Ff(e,t){return Ss(4,2,e,t)}function Vf(e,t){return Ss(4,4,e,t)}function Gf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qf(e,t,n){return n=n!=null?n.concat([e]):null,Ss(4,4,Gf.bind(null,t,e),n)}function Ql(){}function Hf(e,t){var n=at();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Wl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Bf(e,t){var n=at();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Wl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function zf(e,t,n){return yn&21?(yt(n,t)||(n=Wc(),ae.lanes|=n,xn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Be=!0),e.memoizedState=n)}function a0(e,t){var n=Z;Z=n!==0&&4>n?n:4,e(!0);var r=ti.transition;ti.transition={};try{e(!1),t()}finally{Z=n,ti.transition=r}}function $f(){return at().memoizedState}function u0(e,t,n){var r=Zt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jf(e))Of(t,n);else if(n=kf(e,t,n,r),n!==null){var o=Ue();gt(n,e,r,o),Wf(n,t,r)}}function d0(e,t,n){var r=Zt(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jf(e))Of(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,u=s(l,n);if(o.hasEagerState=!0,o.eagerState=u,yt(u,l)){var d=t.interleaved;d===null?(o.next=o,Bl(t)):(o.next=d.next,d.next=o),t.interleaved=o;return}}catch{}finally{}n=kf(e,t,o,r),n!==null&&(o=Ue(),gt(n,e,r,o),Wf(n,t,r))}}function Jf(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function Of(e,t){Ir=os=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Wf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Il(e,n)}}var ss={readContext:lt,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useInsertionEffect:Ae,useLayoutEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useMutableSource:Ae,useSyncExternalStore:Ae,useId:Ae,unstable_isNewReconciler:!1},c0={readContext:lt,useCallback:function(e,t){return Ct().memoizedState=[e,t===void 0?null:t],e},useContext:lt,useEffect:cu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Mo(4194308,4,Gf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var n=Ct();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ct();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=u0.bind(null,ae,e),[r.memoizedState,e]},useRef:function(e){var t=Ct();return e={current:e},t.memoizedState=e},useState:du,useDebugValue:Ql,useDeferredValue:function(e){return Ct().memoizedState=e},useTransition:function(){var e=du(!1),t=e[0];return e=a0.bind(null,e[1]),Ct().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ae,o=Ct();if(se){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),we===null)throw Error(D(349));yn&30||Pf(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,cu(Df.bind(null,r,s,e),[e]),r.flags|=2048,Kr(9,Mf.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ct(),t=we.identifierPrefix;if(se){var n=At,r=It;n=(r&~(1<<32-ht(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Wr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=l0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},f0={readContext:lt,useCallback:Hf,useContext:lt,useEffect:jl,useImperativeHandle:qf,useInsertionEffect:Ff,useLayoutEffect:Vf,useMemo:Bf,useReducer:ni,useRef:Uf,useState:function(){return ni(Yr)},useDebugValue:Ql,useDeferredValue:function(e){var t=at();return zf(t,ve.memoizedState,e)},useTransition:function(){var e=ni(Yr)[0],t=at().memoizedState;return[e,t]},useMutableSource:Af,useSyncExternalStore:Rf,useId:$f,unstable_isNewReconciler:!1},p0={readContext:lt,useCallback:Hf,useContext:lt,useEffect:jl,useImperativeHandle:qf,useInsertionEffect:Ff,useLayoutEffect:Vf,useMemo:Bf,useReducer:ri,useRef:Uf,useState:function(){return ri(Yr)},useDebugValue:Ql,useDeferredValue:function(e){var t=at();return ve===null?t.memoizedState=e:zf(t,ve.memoizedState,e)},useTransition:function(){var e=ri(Yr)[0],t=at().memoizedState;return[e,t]},useMutableSource:Af,useSyncExternalStore:Rf,useId:$f,unstable_isNewReconciler:!1};function ft(e,t){if(e&&e.defaultProps){t=ue({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function zi(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ue({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ws={isMounted:function(e){return(e=e._reactInternals)?Cn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ue(),o=Zt(e),s=Rt(r,o);s.payload=t,n!=null&&(s.callback=n),t=Qt(e,s,o),t!==null&&(gt(t,e,o,r),Ro(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ue(),o=Zt(e),s=Rt(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Qt(e,s,o),t!==null&&(gt(t,e,o,r),Ro(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ue(),r=Zt(e),o=Rt(n,r);o.tag=2,t!=null&&(o.callback=t),t=Qt(e,o,r),t!==null&&(gt(t,e,r,n),Ro(t,e,r))}};function fu(e,t,n,r,o,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,l):t.prototype&&t.prototype.isPureReactComponent?!Hr(n,r)||!Hr(o,s):!0}function Yf(e,t,n){var r=!1,o=nn,s=t.contextType;return typeof s=="object"&&s!==null?s=lt(s):(o=$e(t)?hn:De.current,r=t.contextTypes,s=(r=r!=null)?Kn(e,o):nn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ws,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function pu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ws.enqueueReplaceState(t,t.state,null)}function $i(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},zl(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=lt(s):(s=$e(t)?hn:De.current,o.context=Kn(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(zi(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&ws.enqueueReplaceState(o,o.state,null),ns(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Zn(e,t){try{var n="",r=t;do n+=Hm(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function oi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ji(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var m0=typeof WeakMap=="function"?WeakMap:Map;function Kf(e,t,n){n=Rt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ls||(ls=!0,tl=r),Ji(e,t)},n}function jf(e,t,n){n=Rt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Ji(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ji(e,t),typeof r!="function"&&(Xt===null?Xt=new Set([this]):Xt.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function mu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new m0;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=I0.bind(null,e,t,n),t.then(e,e))}function hu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gu(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Rt(-1,1),t.tag=2,Qt(n,t,1))),n.lanes|=1),e)}var h0=Ut.ReactCurrentOwner,Be=!1;function Le(e,t,n,r){t.child=e===null?Nf(t,null,n,r):Qn(t,e.child,n,r)}function yu(e,t,n,r,o){n=n.render;var s=t.ref;return zn(t,o),r=Yl(e,t,n,r,s,o),n=Kl(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,bt(e,t,o)):(se&&n&&Ul(t),t.flags|=1,Le(e,t,r,o),t.child)}function xu(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!sa(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Qf(e,t,s,r,o)):(e=Uo(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:Hr,n(l,r)&&e.ref===t.ref)return bt(e,t,o)}return t.flags|=1,e=en(s,r),e.ref=t.ref,e.return=t,t.child=e}function Qf(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(Hr(s,r)&&e.ref===t.ref)if(Be=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(Be=!0);else return t.lanes=e.lanes,bt(e,t,o)}return Oi(e,t,n,r,o)}function Xf(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(Fn,Ye),Ye|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,te(Fn,Ye),Ye|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,te(Fn,Ye),Ye|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,te(Fn,Ye),Ye|=r;return Le(e,t,o,n),t.child}function Zf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Oi(e,t,n,r,o){var s=$e(n)?hn:De.current;return s=Kn(t,s),zn(t,o),n=Yl(e,t,n,r,s,o),r=Kl(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,bt(e,t,o)):(se&&r&&Ul(t),t.flags|=1,Le(e,t,n,o),t.child)}function vu(e,t,n,r,o){if($e(n)){var s=!0;Qo(t)}else s=!1;if(zn(t,o),t.stateNode===null)Do(e,t),Yf(t,n,r),$i(t,n,r,o),r=!0;else if(e===null){var l=t.stateNode,u=t.memoizedProps;l.props=u;var d=l.context,f=n.contextType;typeof f=="object"&&f!==null?f=lt(f):(f=$e(n)?hn:De.current,f=Kn(t,f));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==r||d!==f)&&pu(t,l,r,f),Bt=!1;var h=t.memoizedState;l.state=h,ns(t,r,l,o),d=t.memoizedState,u!==r||h!==d||ze.current||Bt?(typeof p=="function"&&(zi(t,n,p,r),d=t.memoizedState),(u=Bt||fu(t,n,u,r,h,d,f))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=d),l.props=r,l.state=d,l.context=f,r=u):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,_f(e,t),u=t.memoizedProps,f=t.type===t.elementType?u:ft(t.type,u),l.props=f,m=t.pendingProps,h=l.context,d=n.contextType,typeof d=="object"&&d!==null?d=lt(d):(d=$e(n)?hn:De.current,d=Kn(t,d));var g=n.getDerivedStateFromProps;(p=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==m||h!==d)&&pu(t,l,r,d),Bt=!1,h=t.memoizedState,l.state=h,ns(t,r,l,o);var E=t.memoizedState;u!==m||h!==E||ze.current||Bt?(typeof g=="function"&&(zi(t,n,g,r),E=t.memoizedState),(f=Bt||fu(t,n,f,r,h,E,d)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,E,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,E,d)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=E),l.props=r,l.state=E,l.context=d,r=f):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Wi(e,t,n,r,s,o)}function Wi(e,t,n,r,o,s){Zf(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return o&&ou(t,n,!1),bt(e,t,s);r=t.stateNode,h0.current=t;var u=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Qn(t,e.child,null,s),t.child=Qn(t,null,u,s)):Le(e,t,u,s),t.memoizedState=r.state,o&&ou(t,n,!0),t.child}function ep(e){var t=e.stateNode;t.pendingContext?ru(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ru(e,t.context,!1),$l(e,t.containerInfo)}function Eu(e,t,n,r,o){return jn(),Vl(o),t.flags|=256,Le(e,t,n,r),t.child}var Yi={dehydrated:null,treeContext:null,retryLane:0};function Ki(e){return{baseLanes:e,cachePool:null,transitions:null}}function tp(e,t,n){var r=t.pendingProps,o=le.current,s=!1,l=(t.flags&128)!==0,u;if((u=l)||(u=e!==null&&e.memoizedState===null?!1:(o&2)!==0),u?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),te(le,o&1),e===null)return Hi(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,s?(r=t.mode,s=t.child,l={mode:"hidden",children:l},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=ks(l,r,0,null),e=mn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ki(n),t.memoizedState=Yi,e):Xl(t,l));if(o=e.memoizedState,o!==null&&(u=o.dehydrated,u!==null))return g0(e,t,l,r,u,o,n);if(s){s=r.fallback,l=t.mode,o=e.child,u=o.sibling;var d={mode:"hidden",children:r.children};return!(l&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=d,t.deletions=null):(r=en(o,d),r.subtreeFlags=o.subtreeFlags&14680064),u!==null?s=en(u,s):(s=mn(s,l,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,l=e.child.memoizedState,l=l===null?Ki(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Yi,r}return s=e.child,e=s.sibling,r=en(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Xl(e,t){return t=ks({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vo(e,t,n,r){return r!==null&&Vl(r),Qn(t,e.child,null,n),e=Xl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function g0(e,t,n,r,o,s,l){if(n)return t.flags&256?(t.flags&=-257,r=oi(Error(D(422))),vo(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=ks({mode:"visible",children:r.children},o,0,null),s=mn(s,o,l,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Qn(t,e.child,null,l),t.child.memoizedState=Ki(l),t.memoizedState=Yi,s);if(!(t.mode&1))return vo(e,t,l,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(D(419)),r=oi(s,r,void 0),vo(e,t,l,r)}if(u=(l&e.childLanes)!==0,Be||u){if(r=we,r!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|l)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Dt(e,o),gt(r,e,o,-1))}return oa(),r=oi(Error(D(421))),vo(e,t,l,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=A0.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,Ke=jt(o.nextSibling),je=t,se=!0,mt=null,e!==null&&(nt[rt++]=It,nt[rt++]=At,nt[rt++]=gn,It=e.id,At=e.overflow,gn=t),t=Xl(t,r.children),t.flags|=4096,t)}function Cu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Bi(e.return,t,n)}function si(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function np(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(Le(e,t,r.children,n),r=le.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cu(e,n,t);else if(e.tag===19)Cu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(te(le,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&rs(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),si(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&rs(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}si(t,!0,n,null,s);break;case"together":si(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Do(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),xn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=en(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=en(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function y0(e,t,n){switch(t.tag){case 3:ep(t),jn();break;case 5:If(t);break;case 1:$e(t.type)&&Qo(t);break;case 4:$l(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;te(es,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(te(le,le.current&1),t.flags|=128,null):n&t.child.childLanes?tp(e,t,n):(te(le,le.current&1),e=bt(e,t,n),e!==null?e.sibling:null);te(le,le.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return np(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),te(le,le.current),r)break;return null;case 22:case 23:return t.lanes=0,Xf(e,t,n)}return bt(e,t,n)}var rp,ji,op,sp;rp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ji=function(){};op=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,fn(Tt.current);var s=null;switch(n){case"input":o=xi(e,o),r=xi(e,r),s=[];break;case"select":o=ue({},o,{value:void 0}),r=ue({},r,{value:void 0}),s=[];break;case"textarea":o=Ci(e,o),r=Ci(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ko)}wi(n,r);var l;n=null;for(f in o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&o[f]!=null)if(f==="style"){var u=o[f];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(br.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var d=r[f];if(u=o!=null?o[f]:void 0,r.hasOwnProperty(f)&&d!==u&&(d!=null||u!=null))if(f==="style")if(u){for(l in u)!u.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&u[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(s||(s=[]),s.push(f,n)),n=d;else f==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(s=s||[]).push(f,d)):f==="children"?typeof d!="string"&&typeof d!="number"||(s=s||[]).push(f,""+d):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(br.hasOwnProperty(f)?(d!=null&&f==="onScroll"&&ne("scroll",e),s||u===d||(s=[])):(s=s||[]).push(f,d))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}};sp=function(e,t,n,r){n!==r&&(t.flags|=4)};function hr(e,t){if(!se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Re(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function x0(e,t,n){var r=t.pendingProps;switch(Fl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(t),null;case 1:return $e(t.type)&&jo(),Re(t),null;case 3:return r=t.stateNode,Xn(),oe(ze),oe(De),Ol(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(yo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mt!==null&&(ol(mt),mt=null))),ji(e,t),Re(t),null;case 5:Jl(t);var o=fn(Or.current);if(n=t.type,e!==null&&t.stateNode!=null)op(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(D(166));return Re(t),null}if(e=fn(Tt.current),yo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[St]=t,r[$r]=s,e=(t.mode&1)!==0,n){case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":case"embed":ne("load",r);break;case"video":case"audio":for(o=0;o<Sr.length;o++)ne(Sr[o],r);break;case"source":ne("error",r);break;case"img":case"image":case"link":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"input":Ra(r,s),ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ne("invalid",r);break;case"textarea":Ma(r,s),ne("invalid",r)}wi(n,s),o=null;for(var l in s)if(s.hasOwnProperty(l)){var u=s[l];l==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&go(r.textContent,u,e),o=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&go(r.textContent,u,e),o=["children",""+u]):br.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&ne("scroll",r)}switch(n){case"input":lo(r),Pa(r,s,!0);break;case"textarea":lo(r),Da(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ko)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Mc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[St]=t,e[$r]=r,rp(e,t,!1,!1),t.stateNode=e;e:{switch(l=Ti(n,r),n){case"dialog":ne("cancel",e),ne("close",e),o=r;break;case"iframe":case"object":case"embed":ne("load",e),o=r;break;case"video":case"audio":for(o=0;o<Sr.length;o++)ne(Sr[o],e);o=r;break;case"source":ne("error",e),o=r;break;case"img":case"image":case"link":ne("error",e),ne("load",e),o=r;break;case"details":ne("toggle",e),o=r;break;case"input":Ra(e,r),o=xi(e,r),ne("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=ue({},r,{value:void 0}),ne("invalid",e);break;case"textarea":Ma(e,r),o=Ci(e,r),ne("invalid",e);break;default:o=r}wi(n,o),u=o;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];s==="style"?Lc(e,d):s==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Dc(e,d)):s==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Lr(e,d):typeof d=="number"&&Lr(e,""+d):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(br.hasOwnProperty(s)?d!=null&&s==="onScroll"&&ne("scroll",e):d!=null&&Sl(e,s,d,l))}switch(n){case"input":lo(e),Pa(e,r,!1);break;case"textarea":lo(e),Da(e);break;case"option":r.value!=null&&e.setAttribute("value",""+tn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Gn(e,!!r.multiple,s,!1):r.defaultValue!=null&&Gn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Ko)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Re(t),null;case 6:if(e&&t.stateNode!=null)sp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(n=fn(Or.current),fn(Tt.current),yo(t)){if(r=t.stateNode,n=t.memoizedProps,r[St]=t,(s=r.nodeValue!==n)&&(e=je,e!==null))switch(e.tag){case 3:go(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&go(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[St]=t,t.stateNode=r}return Re(t),null;case 13:if(oe(le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(se&&Ke!==null&&t.mode&1&&!(t.flags&128))wf(),jn(),t.flags|=98560,s=!1;else if(s=yo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(D(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(D(317));s[St]=t}else jn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Re(t),s=!1}else mt!==null&&(ol(mt),mt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||le.current&1?Ee===0&&(Ee=3):oa())),t.updateQueue!==null&&(t.flags|=4),Re(t),null);case 4:return Xn(),ji(e,t),e===null&&Br(t.stateNode.containerInfo),Re(t),null;case 10:return Hl(t.type._context),Re(t),null;case 17:return $e(t.type)&&jo(),Re(t),null;case 19:if(oe(le),s=t.memoizedState,s===null)return Re(t),null;if(r=(t.flags&128)!==0,l=s.rendering,l===null)if(r)hr(s,!1);else{if(Ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=rs(e),l!==null){for(t.flags|=128,hr(s,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return te(le,le.current&1|2),t.child}e=e.sibling}s.tail!==null&&he()>er&&(t.flags|=128,r=!0,hr(s,!1),t.lanes=4194304)}else{if(!r)if(e=rs(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),hr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!se)return Re(t),null}else 2*he()-s.renderingStartTime>er&&n!==1073741824&&(t.flags|=128,r=!0,hr(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(n=s.last,n!==null?n.sibling=l:t.child=l,s.last=l)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=he(),t.sibling=null,n=le.current,te(le,r?n&1|2:n&1),t):(Re(t),null);case 22:case 23:return ra(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ye&1073741824&&(Re(t),t.subtreeFlags&6&&(t.flags|=8192)):Re(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function v0(e,t){switch(Fl(t),t.tag){case 1:return $e(t.type)&&jo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xn(),oe(ze),oe(De),Ol(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jl(t),null;case 13:if(oe(le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));jn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(le),null;case 4:return Xn(),null;case 10:return Hl(t.type._context),null;case 22:case 23:return ra(),null;case 24:return null;default:return null}}var Eo=!1,Pe=!1,E0=typeof WeakSet=="function"?WeakSet:Set,F=null;function Un(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pe(e,t,r)}else n.current=null}function Qi(e,t,n){try{n()}catch(r){pe(e,t,r)}}var Su=!1;function C0(e,t){if(bi=Oo,e=df(),Ll(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,u=-1,d=-1,f=0,p=0,m=e,h=null;t:for(;;){for(var g;m!==n||o!==0&&m.nodeType!==3||(u=l+o),m!==s||r!==0&&m.nodeType!==3||(d=l+r),m.nodeType===3&&(l+=m.nodeValue.length),(g=m.firstChild)!==null;)h=m,m=g;for(;;){if(m===e)break t;if(h===n&&++f===o&&(u=l),h===s&&++p===r&&(d=l),(g=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=g}n=u===-1||d===-1?null:{start:u,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Li={focusedElem:e,selectionRange:n},Oo=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var C=E.memoizedProps,P=E.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?C:ft(t.type,C),P);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(w){pe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return E=Su,Su=!1,E}function Ar(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&Qi(t,n,s)}o=o.next}while(o!==r)}}function Ts(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Xi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ip(e){var t=e.alternate;t!==null&&(e.alternate=null,ip(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[St],delete t[$r],delete t[Vi],delete t[r0],delete t[o0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lp(e){return e.tag===5||e.tag===3||e.tag===4}function wu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ko));else if(r!==4&&(e=e.child,e!==null))for(Zi(e,t,n),e=e.sibling;e!==null;)Zi(e,t,n),e=e.sibling}function el(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(el(e,t,n),e=e.sibling;e!==null;)el(e,t,n),e=e.sibling}var ke=null,pt=!1;function qt(e,t,n){for(n=n.child;n!==null;)ap(e,t,n),n=n.sibling}function ap(e,t,n){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(gs,n)}catch{}switch(n.tag){case 5:Pe||Un(n,t);case 6:var r=ke,o=pt;ke=null,qt(e,t,n),ke=r,pt=o,ke!==null&&(pt?(e=ke,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ke.removeChild(n.stateNode));break;case 18:ke!==null&&(pt?(e=ke,n=n.stateNode,e.nodeType===8?Xs(e.parentNode,n):e.nodeType===1&&Xs(e,n),Gr(e)):Xs(ke,n.stateNode));break;case 4:r=ke,o=pt,ke=n.stateNode.containerInfo,pt=!0,qt(e,t,n),ke=r,pt=o;break;case 0:case 11:case 14:case 15:if(!Pe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&Qi(n,t,l),o=o.next}while(o!==r)}qt(e,t,n);break;case 1:if(!Pe&&(Un(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){pe(n,t,u)}qt(e,t,n);break;case 21:qt(e,t,n);break;case 22:n.mode&1?(Pe=(r=Pe)||n.memoizedState!==null,qt(e,t,n),Pe=r):qt(e,t,n);break;default:qt(e,t,n)}}function Tu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new E0),t.forEach(function(r){var o=R0.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function ct(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,l=t,u=l;e:for(;u!==null;){switch(u.tag){case 5:ke=u.stateNode,pt=!1;break e;case 3:ke=u.stateNode.containerInfo,pt=!0;break e;case 4:ke=u.stateNode.containerInfo,pt=!0;break e}u=u.return}if(ke===null)throw Error(D(160));ap(s,l,o),ke=null,pt=!1;var d=o.alternate;d!==null&&(d.return=null),o.return=null}catch(f){pe(o,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)up(t,e),t=t.sibling}function up(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ct(t,e),Et(e),r&4){try{Ar(3,e,e.return),Ts(3,e)}catch(C){pe(e,e.return,C)}try{Ar(5,e,e.return)}catch(C){pe(e,e.return,C)}}break;case 1:ct(t,e),Et(e),r&512&&n!==null&&Un(n,n.return);break;case 5:if(ct(t,e),Et(e),r&512&&n!==null&&Un(n,n.return),e.flags&32){var o=e.stateNode;try{Lr(o,"")}catch(C){pe(e,e.return,C)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,l=n!==null?n.memoizedProps:s,u=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&Rc(o,s),Ti(u,l);var f=Ti(u,s);for(l=0;l<d.length;l+=2){var p=d[l],m=d[l+1];p==="style"?Lc(o,m):p==="dangerouslySetInnerHTML"?Dc(o,m):p==="children"?Lr(o,m):Sl(o,p,m,f)}switch(u){case"input":vi(o,s);break;case"textarea":Pc(o,s);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Gn(o,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?Gn(o,!!s.multiple,s.defaultValue,!0):Gn(o,!!s.multiple,s.multiple?[]:"",!1))}o[$r]=s}catch(C){pe(e,e.return,C)}}break;case 6:if(ct(t,e),Et(e),r&4){if(e.stateNode===null)throw Error(D(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(C){pe(e,e.return,C)}}break;case 3:if(ct(t,e),Et(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gr(t.containerInfo)}catch(C){pe(e,e.return,C)}break;case 4:ct(t,e),Et(e);break;case 13:ct(t,e),Et(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(ta=he())),r&4&&Tu(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Pe=(f=Pe)||p,ct(t,e),Pe=f):ct(t,e),Et(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!p&&e.mode&1)for(F=e,p=e.child;p!==null;){for(m=F=p;F!==null;){switch(h=F,g=h.child,h.tag){case 0:case 11:case 14:case 15:Ar(4,h,h.return);break;case 1:Un(h,h.return);var E=h.stateNode;if(typeof E.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(C){pe(r,n,C)}}break;case 5:Un(h,h.return);break;case 22:if(h.memoizedState!==null){ku(m);continue}}g!==null?(g.return=h,F=g):ku(m)}p=p.sibling}e:for(p=null,m=e;;){if(m.tag===5){if(p===null){p=m;try{o=m.stateNode,f?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=m.stateNode,d=m.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=bc("display",l))}catch(C){pe(e,e.return,C)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=f?"":m.memoizedProps}catch(C){pe(e,e.return,C)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ct(t,e),Et(e),r&4&&Tu(e);break;case 21:break;default:ct(t,e),Et(e)}}function Et(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(lp(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Lr(o,""),r.flags&=-33);var s=wu(e);el(e,s,o);break;case 3:case 4:var l=r.stateNode.containerInfo,u=wu(e);Zi(e,u,l);break;default:throw Error(D(161))}}catch(d){pe(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function S0(e,t,n){F=e,dp(e)}function dp(e,t,n){for(var r=(e.mode&1)!==0;F!==null;){var o=F,s=o.child;if(o.tag===22&&r){var l=o.memoizedState!==null||Eo;if(!l){var u=o.alternate,d=u!==null&&u.memoizedState!==null||Pe;u=Eo;var f=Pe;if(Eo=l,(Pe=d)&&!f)for(F=o;F!==null;)l=F,d=l.child,l.tag===22&&l.memoizedState!==null?_u(o):d!==null?(d.return=l,F=d):_u(o);for(;s!==null;)F=s,dp(s),s=s.sibling;F=o,Eo=u,Pe=f}Nu(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,F=s):Nu(e)}}function Nu(e){for(;F!==null;){var t=F;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pe||Ts(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Pe)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ft(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&uu(t,s,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}uu(t,l,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var p=f.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&Gr(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}Pe||t.flags&512&&Xi(t)}catch(h){pe(t,t.return,h)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function ku(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function _u(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ts(4,t)}catch(d){pe(t,n,d)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(d){pe(t,o,d)}}var s=t.return;try{Xi(t)}catch(d){pe(t,s,d)}break;case 5:var l=t.return;try{Xi(t)}catch(d){pe(t,l,d)}}}catch(d){pe(t,t.return,d)}if(t===e){F=null;break}var u=t.sibling;if(u!==null){u.return=t.return,F=u;break}F=t.return}}var w0=Math.ceil,is=Ut.ReactCurrentDispatcher,Zl=Ut.ReactCurrentOwner,st=Ut.ReactCurrentBatchConfig,j=0,we=null,xe=null,_e=0,Ye=0,Fn=on(0),Ee=0,jr=null,xn=0,Ns=0,ea=0,Rr=null,qe=null,ta=0,er=1/0,kt=null,ls=!1,tl=null,Xt=null,Co=!1,Ot=null,as=0,Pr=0,nl=null,bo=-1,Lo=0;function Ue(){return j&6?he():bo!==-1?bo:bo=he()}function Zt(e){return e.mode&1?j&2&&_e!==0?_e&-_e:i0.transition!==null?(Lo===0&&(Lo=Wc()),Lo):(e=Z,e!==0||(e=window.event,e=e===void 0?16:ef(e.type)),e):1}function gt(e,t,n,r){if(50<Pr)throw Pr=0,nl=null,Error(D(185));Zr(e,n,r),(!(j&2)||e!==we)&&(e===we&&(!(j&2)&&(Ns|=n),Ee===4&&$t(e,_e)),Je(e,r),n===1&&j===0&&!(t.mode&1)&&(er=he()+500,Cs&&sn()))}function Je(e,t){var n=e.callbackNode;ih(e,t);var r=Jo(e,e===we?_e:0);if(r===0)n!==null&&Ua(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ua(n),t===1)e.tag===0?s0(Iu.bind(null,e)):Ef(Iu.bind(null,e)),t0(function(){!(j&6)&&sn()}),n=null;else{switch(Yc(r)){case 1:n=_l;break;case 4:n=Jc;break;case 16:n=$o;break;case 536870912:n=Oc;break;default:n=$o}n=xp(n,cp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function cp(e,t){if(bo=-1,Lo=0,j&6)throw Error(D(327));var n=e.callbackNode;if($n()&&e.callbackNode!==n)return null;var r=Jo(e,e===we?_e:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=us(e,r);else{t=r;var o=j;j|=2;var s=pp();(we!==e||_e!==t)&&(kt=null,er=he()+500,pn(e,t));do try{k0();break}catch(u){fp(e,u)}while(!0);ql(),is.current=s,j=o,xe!==null?t=0:(we=null,_e=0,t=Ee)}if(t!==0){if(t===2&&(o=Ai(e),o!==0&&(r=o,t=rl(e,o))),t===1)throw n=jr,pn(e,0),$t(e,r),Je(e,he()),n;if(t===6)$t(e,r);else{if(o=e.current.alternate,!(r&30)&&!T0(o)&&(t=us(e,r),t===2&&(s=Ai(e),s!==0&&(r=s,t=rl(e,s))),t===1))throw n=jr,pn(e,0),$t(e,r),Je(e,he()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(D(345));case 2:un(e,qe,kt);break;case 3:if($t(e,r),(r&130023424)===r&&(t=ta+500-he(),10<t)){if(Jo(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ue(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Fi(un.bind(null,e,qe,kt),t);break}un(e,qe,kt);break;case 4:if($t(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var l=31-ht(r);s=1<<l,l=t[l],l>o&&(o=l),r&=~s}if(r=o,r=he()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*w0(r/1960))-r,10<r){e.timeoutHandle=Fi(un.bind(null,e,qe,kt),r);break}un(e,qe,kt);break;case 5:un(e,qe,kt);break;default:throw Error(D(329))}}}return Je(e,he()),e.callbackNode===n?cp.bind(null,e):null}function rl(e,t){var n=Rr;return e.current.memoizedState.isDehydrated&&(pn(e,t).flags|=256),e=us(e,t),e!==2&&(t=qe,qe=n,t!==null&&ol(t)),e}function ol(e){qe===null?qe=e:qe.push.apply(qe,e)}function T0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!yt(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $t(e,t){for(t&=~ea,t&=~Ns,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ht(t),r=1<<n;e[n]=-1,t&=~r}}function Iu(e){if(j&6)throw Error(D(327));$n();var t=Jo(e,0);if(!(t&1))return Je(e,he()),null;var n=us(e,t);if(e.tag!==0&&n===2){var r=Ai(e);r!==0&&(t=r,n=rl(e,r))}if(n===1)throw n=jr,pn(e,0),$t(e,t),Je(e,he()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,un(e,qe,kt),Je(e,he()),null}function na(e,t){var n=j;j|=1;try{return e(t)}finally{j=n,j===0&&(er=he()+500,Cs&&sn())}}function vn(e){Ot!==null&&Ot.tag===0&&!(j&6)&&$n();var t=j;j|=1;var n=st.transition,r=Z;try{if(st.transition=null,Z=1,e)return e()}finally{Z=r,st.transition=n,j=t,!(j&6)&&sn()}}function ra(){Ye=Fn.current,oe(Fn)}function pn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,e0(n)),xe!==null)for(n=xe.return;n!==null;){var r=n;switch(Fl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jo();break;case 3:Xn(),oe(ze),oe(De),Ol();break;case 5:Jl(r);break;case 4:Xn();break;case 13:oe(le);break;case 19:oe(le);break;case 10:Hl(r.type._context);break;case 22:case 23:ra()}n=n.return}if(we=e,xe=e=en(e.current,null),_e=Ye=t,Ee=0,jr=null,ea=Ns=xn=0,qe=Rr=null,cn!==null){for(t=0;t<cn.length;t++)if(n=cn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var l=s.next;s.next=o,r.next=l}n.pending=r}cn=null}return e}function fp(e,t){do{var n=xe;try{if(ql(),Po.current=ss,os){for(var r=ae.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}os=!1}if(yn=0,Se=ve=ae=null,Ir=!1,Wr=0,Zl.current=null,n===null||n.return===null){Ee=1,jr=t,xe=null;break}e:{var s=e,l=n.return,u=n,d=t;if(t=_e,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var f=d,p=u,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var h=p.alternate;h?(p.updateQueue=h.updateQueue,p.memoizedState=h.memoizedState,p.lanes=h.lanes):(p.updateQueue=null,p.memoizedState=null)}var g=hu(l);if(g!==null){g.flags&=-257,gu(g,l,u,s,t),g.mode&1&&mu(s,f,t),t=g,d=f;var E=t.updateQueue;if(E===null){var C=new Set;C.add(d),t.updateQueue=C}else E.add(d);break e}else{if(!(t&1)){mu(s,f,t),oa();break e}d=Error(D(426))}}else if(se&&u.mode&1){var P=hu(l);if(P!==null){!(P.flags&65536)&&(P.flags|=256),gu(P,l,u,s,t),Vl(Zn(d,u));break e}}s=d=Zn(d,u),Ee!==4&&(Ee=2),Rr===null?Rr=[s]:Rr.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=Kf(s,d,t);au(s,x);break e;case 1:u=d;var y=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Xt===null||!Xt.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=jf(s,u,t);au(s,w);break e}}s=s.return}while(s!==null)}hp(n)}catch(k){t=k,xe===n&&n!==null&&(xe=n=n.return);continue}break}while(!0)}function pp(){var e=is.current;return is.current=ss,e===null?ss:e}function oa(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),we===null||!(xn&268435455)&&!(Ns&268435455)||$t(we,_e)}function us(e,t){var n=j;j|=2;var r=pp();(we!==e||_e!==t)&&(kt=null,pn(e,t));do try{N0();break}catch(o){fp(e,o)}while(!0);if(ql(),j=n,is.current=r,xe!==null)throw Error(D(261));return we=null,_e=0,Ee}function N0(){for(;xe!==null;)mp(xe)}function k0(){for(;xe!==null&&!Qm();)mp(xe)}function mp(e){var t=yp(e.alternate,e,Ye);e.memoizedProps=e.pendingProps,t===null?hp(e):xe=t,Zl.current=null}function hp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=v0(n,t),n!==null){n.flags&=32767,xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ee=6,xe=null;return}}else if(n=x0(n,t,Ye),n!==null){xe=n;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);Ee===0&&(Ee=5)}function un(e,t,n){var r=Z,o=st.transition;try{st.transition=null,Z=1,_0(e,t,n,r)}finally{st.transition=o,Z=r}return null}function _0(e,t,n,r){do $n();while(Ot!==null);if(j&6)throw Error(D(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(lh(e,s),e===we&&(xe=we=null,_e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Co||(Co=!0,xp($o,function(){return $n(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=st.transition,st.transition=null;var l=Z;Z=1;var u=j;j|=4,Zl.current=null,C0(e,n),up(n,e),Wh(Li),Oo=!!bi,Li=bi=null,e.current=n,S0(n),Xm(),j=u,Z=l,st.transition=s}else e.current=n;if(Co&&(Co=!1,Ot=e,as=o),s=e.pendingLanes,s===0&&(Xt=null),th(n.stateNode),Je(e,he()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(ls)throw ls=!1,e=tl,tl=null,e;return as&1&&e.tag!==0&&$n(),s=e.pendingLanes,s&1?e===nl?Pr++:(Pr=0,nl=e):Pr=0,sn(),null}function $n(){if(Ot!==null){var e=Yc(as),t=st.transition,n=Z;try{if(st.transition=null,Z=16>e?16:e,Ot===null)var r=!1;else{if(e=Ot,Ot=null,as=0,j&6)throw Error(D(331));var o=j;for(j|=4,F=e.current;F!==null;){var s=F,l=s.child;if(F.flags&16){var u=s.deletions;if(u!==null){for(var d=0;d<u.length;d++){var f=u[d];for(F=f;F!==null;){var p=F;switch(p.tag){case 0:case 11:case 15:Ar(8,p,s)}var m=p.child;if(m!==null)m.return=p,F=m;else for(;F!==null;){p=F;var h=p.sibling,g=p.return;if(ip(p),p===f){F=null;break}if(h!==null){h.return=g,F=h;break}F=g}}}var E=s.alternate;if(E!==null){var C=E.child;if(C!==null){E.child=null;do{var P=C.sibling;C.sibling=null,C=P}while(C!==null)}}F=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,F=l;else e:for(;F!==null;){if(s=F,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ar(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,F=x;break e}F=s.return}}var y=e.current;for(F=y;F!==null;){l=F;var v=l.child;if(l.subtreeFlags&2064&&v!==null)v.return=l,F=v;else e:for(l=y;F!==null;){if(u=F,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Ts(9,u)}}catch(k){pe(u,u.return,k)}if(u===l){F=null;break e}var w=u.sibling;if(w!==null){w.return=u.return,F=w;break e}F=u.return}}if(j=o,sn(),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(gs,e)}catch{}r=!0}return r}finally{Z=n,st.transition=t}}return!1}function Au(e,t,n){t=Zn(n,t),t=Kf(e,t,1),e=Qt(e,t,1),t=Ue(),e!==null&&(Zr(e,1,t),Je(e,t))}function pe(e,t,n){if(e.tag===3)Au(e,e,n);else for(;t!==null;){if(t.tag===3){Au(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xt===null||!Xt.has(r))){e=Zn(n,e),e=jf(t,e,1),t=Qt(t,e,1),e=Ue(),t!==null&&(Zr(t,1,e),Je(t,e));break}}t=t.return}}function I0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ue(),e.pingedLanes|=e.suspendedLanes&n,we===e&&(_e&n)===n&&(Ee===4||Ee===3&&(_e&130023424)===_e&&500>he()-ta?pn(e,0):ea|=n),Je(e,t)}function gp(e,t){t===0&&(e.mode&1?(t=co,co<<=1,!(co&130023424)&&(co=4194304)):t=1);var n=Ue();e=Dt(e,t),e!==null&&(Zr(e,t,n),Je(e,n))}function A0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),gp(e,n)}function R0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(t),gp(e,n)}var yp;yp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ze.current)Be=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Be=!1,y0(e,t,n);Be=!!(e.flags&131072)}else Be=!1,se&&t.flags&1048576&&Cf(t,Zo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Do(e,t),e=t.pendingProps;var o=Kn(t,De.current);zn(t,n),o=Yl(null,t,r,e,o,n);var s=Kl();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$e(r)?(s=!0,Qo(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,zl(t),o.updater=ws,t.stateNode=o,o._reactInternals=t,$i(t,r,e,n),t=Wi(null,t,r,!0,s,n)):(t.tag=0,se&&s&&Ul(t),Le(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Do(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=M0(r),e=ft(r,e),o){case 0:t=Oi(null,t,r,e,n);break e;case 1:t=vu(null,t,r,e,n);break e;case 11:t=yu(null,t,r,e,n);break e;case 14:t=xu(null,t,r,ft(r.type,e),n);break e}throw Error(D(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ft(r,o),Oi(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ft(r,o),vu(e,t,r,o,n);case 3:e:{if(ep(t),e===null)throw Error(D(387));r=t.pendingProps,s=t.memoizedState,o=s.element,_f(e,t),ns(t,r,null,n);var l=t.memoizedState;if(r=l.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=Zn(Error(D(423)),t),t=Eu(e,t,r,n,o);break e}else if(r!==o){o=Zn(Error(D(424)),t),t=Eu(e,t,r,n,o);break e}else for(Ke=jt(t.stateNode.containerInfo.firstChild),je=t,se=!0,mt=null,n=Nf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jn(),r===o){t=bt(e,t,n);break e}Le(e,t,r,n)}t=t.child}return t;case 5:return If(t),e===null&&Hi(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,l=o.children,Ui(r,o)?l=null:s!==null&&Ui(r,s)&&(t.flags|=32),Zf(e,t),Le(e,t,l,n),t.child;case 6:return e===null&&Hi(t),null;case 13:return tp(e,t,n);case 4:return $l(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Qn(t,null,r,n):Le(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ft(r,o),yu(e,t,r,o,n);case 7:return Le(e,t,t.pendingProps,n),t.child;case 8:return Le(e,t,t.pendingProps.children,n),t.child;case 12:return Le(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,l=o.value,te(es,r._currentValue),r._currentValue=l,s!==null)if(yt(s.value,l)){if(s.children===o.children&&!ze.current){t=bt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var u=s.dependencies;if(u!==null){l=s.child;for(var d=u.firstContext;d!==null;){if(d.context===r){if(s.tag===1){d=Rt(-1,n&-n),d.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var p=f.pending;p===null?d.next=d:(d.next=p.next,p.next=d),f.pending=d}}s.lanes|=n,d=s.alternate,d!==null&&(d.lanes|=n),Bi(s.return,n,t),u.lanes|=n;break}d=d.next}}else if(s.tag===10)l=s.type===t.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(D(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Bi(l,n,t),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===t){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}Le(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,zn(t,n),o=lt(o),r=r(o),t.flags|=1,Le(e,t,r,n),t.child;case 14:return r=t.type,o=ft(r,t.pendingProps),o=ft(r.type,o),xu(e,t,r,o,n);case 15:return Qf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ft(r,o),Do(e,t),t.tag=1,$e(r)?(e=!0,Qo(t)):e=!1,zn(t,n),Yf(t,r,o),$i(t,r,o,n),Wi(null,t,r,!0,e,n);case 19:return np(e,t,n);case 22:return Xf(e,t,n)}throw Error(D(156,t.tag))};function xp(e,t){return $c(e,t)}function P0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,t,n,r){return new P0(e,t,n,r)}function sa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function M0(e){if(typeof e=="function")return sa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Tl)return 11;if(e===Nl)return 14}return 2}function en(e,t){var n=e.alternate;return n===null?(n=ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Uo(e,t,n,r,o,s){var l=2;if(r=e,typeof e=="function")sa(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case _n:return mn(n.children,o,s,t);case wl:l=8,o|=8;break;case mi:return e=ot(12,n,t,o|2),e.elementType=mi,e.lanes=s,e;case hi:return e=ot(13,n,t,o),e.elementType=hi,e.lanes=s,e;case gi:return e=ot(19,n,t,o),e.elementType=gi,e.lanes=s,e;case _c:return ks(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Nc:l=10;break e;case kc:l=9;break e;case Tl:l=11;break e;case Nl:l=14;break e;case Ht:l=16,r=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=ot(l,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function mn(e,t,n,r){return e=ot(7,e,r,t),e.lanes=n,e}function ks(e,t,n,r){return e=ot(22,e,r,t),e.elementType=_c,e.lanes=n,e.stateNode={isHidden:!1},e}function ii(e,t,n){return e=ot(6,e,null,t),e.lanes=n,e}function li(e,t,n){return t=ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function D0(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hs(0),this.expirationTimes=Hs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hs(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function ia(e,t,n,r,o,s,l,u,d){return e=new D0(e,t,n,u,d),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ot(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zl(s),e}function b0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function vp(e){if(!e)return nn;e=e._reactInternals;e:{if(Cn(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($e(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if($e(n))return vf(e,n,t)}return t}function Ep(e,t,n,r,o,s,l,u,d){return e=ia(n,r,!0,e,o,s,l,u,d),e.context=vp(null),n=e.current,r=Ue(),o=Zt(n),s=Rt(r,o),s.callback=t??null,Qt(n,s,o),e.current.lanes=o,Zr(e,o,r),Je(e,r),e}function _s(e,t,n,r){var o=t.current,s=Ue(),l=Zt(o);return n=vp(n),t.context===null?t.context=n:t.pendingContext=n,t=Rt(s,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Qt(o,t,l),e!==null&&(gt(e,o,l,s),Ro(e,o,l)),l}function ds(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ru(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function la(e,t){Ru(e,t),(e=e.alternate)&&Ru(e,t)}function L0(){return null}var Cp=typeof reportError=="function"?reportError:function(e){console.error(e)};function aa(e){this._internalRoot=e}Is.prototype.render=aa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));_s(e,t,null,null)};Is.prototype.unmount=aa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vn(function(){_s(null,e,null,null)}),t[Mt]=null}};function Is(e){this._internalRoot=e}Is.prototype.unstable_scheduleHydration=function(e){if(e){var t=Qc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zt.length&&t!==0&&t<zt[n].priority;n++);zt.splice(n,0,e),n===0&&Zc(e)}};function ua(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function As(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Pu(){}function U0(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var f=ds(l);s.call(f)}}var l=Ep(t,r,e,0,null,!1,!1,"",Pu);return e._reactRootContainer=l,e[Mt]=l.current,Br(e.nodeType===8?e.parentNode:e),vn(),l}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var u=r;r=function(){var f=ds(d);u.call(f)}}var d=ia(e,0,!1,null,null,!1,!1,"",Pu);return e._reactRootContainer=d,e[Mt]=d.current,Br(e.nodeType===8?e.parentNode:e),vn(function(){_s(t,d,n,r)}),d}function Rs(e,t,n,r,o){var s=n._reactRootContainer;if(s){var l=s;if(typeof o=="function"){var u=o;o=function(){var d=ds(l);u.call(d)}}_s(t,l,e,o)}else l=U0(n,t,e,o,r);return ds(l)}Kc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Cr(t.pendingLanes);n!==0&&(Il(t,n|1),Je(t,he()),!(j&6)&&(er=he()+500,sn()))}break;case 13:vn(function(){var r=Dt(e,1);if(r!==null){var o=Ue();gt(r,e,1,o)}}),la(e,1)}};Al=function(e){if(e.tag===13){var t=Dt(e,134217728);if(t!==null){var n=Ue();gt(t,e,134217728,n)}la(e,134217728)}};jc=function(e){if(e.tag===13){var t=Zt(e),n=Dt(e,t);if(n!==null){var r=Ue();gt(n,e,t,r)}la(e,t)}};Qc=function(){return Z};Xc=function(e,t){var n=Z;try{return Z=e,t()}finally{Z=n}};ki=function(e,t,n){switch(t){case"input":if(vi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Es(r);if(!o)throw Error(D(90));Ac(r),vi(r,o)}}}break;case"textarea":Pc(e,n);break;case"select":t=n.value,t!=null&&Gn(e,!!n.multiple,t,!1)}};Vc=na;Gc=vn;var F0={usingClientEntryPoint:!1,Events:[to,Pn,Es,Uc,Fc,na]},gr={findFiberByHostInstance:dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},V0={bundleType:gr.bundleType,version:gr.version,rendererPackageName:gr.rendererPackageName,rendererConfig:gr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ut.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Bc(e),e===null?null:e.stateNode},findFiberByHostInstance:gr.findFiberByHostInstance||L0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var So=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!So.isDisabled&&So.supportsFiber)try{gs=So.inject(V0),wt=So}catch{}}Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F0;Xe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ua(t))throw Error(D(200));return b0(e,t,null,n)};Xe.createRoot=function(e,t){if(!ua(e))throw Error(D(299));var n=!1,r="",o=Cp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=ia(e,1,!1,null,null,n,!1,r,o),e[Mt]=t.current,Br(e.nodeType===8?e.parentNode:e),new aa(t)};Xe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=Bc(t),e=e===null?null:e.stateNode,e};Xe.flushSync=function(e){return vn(e)};Xe.hydrate=function(e,t,n){if(!As(t))throw Error(D(200));return Rs(null,e,t,!0,n)};Xe.hydrateRoot=function(e,t,n){if(!ua(e))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",l=Cp;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Ep(t,null,e,1,n??null,o,!1,s,l),e[Mt]=t.current,Br(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Is(t)};Xe.render=function(e,t,n){if(!As(t))throw Error(D(200));return Rs(null,e,t,!1,n)};Xe.unmountComponentAtNode=function(e){if(!As(e))throw Error(D(40));return e._reactRootContainer?(vn(function(){Rs(null,null,e,!1,function(){e._reactRootContainer=null,e[Mt]=null})}),!0):!1};Xe.unstable_batchedUpdates=na;Xe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!As(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return Rs(e,t,n,!1,r)};Xe.version="18.3.1-next-f1338f8080-20240426";function Sp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sp)}catch(e){console.error(e)}}Sp(),Cc.exports=Xe;var G0=Cc.exports,Mu=G0;fi.createRoot=Mu.createRoot,fi.hydrateRoot=Mu.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var q0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),q=(e,t)=>{const n=A.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:u="",children:d,...f},p)=>A.createElement("svg",{ref:p,...q0,width:o,height:o,stroke:r,strokeWidth:l?Number(s)*24/Number(o):s,className:["lucide",`lucide-${H0(e)}`,u].join(" "),...f},[...t.map(([m,h])=>A.createElement(m,h)),...Array.isArray(d)?d:[d]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=q("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=q("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=q("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=q("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=q("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=q("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=q("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=q("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=q("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=q("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=q("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=q("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=q("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=q("FileCode",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=q("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=q("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=q("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=q("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=q("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=q("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=q("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=q("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=q("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=q("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=q("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=q("MoveRight",[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=q("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=q("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=q("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=q("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=q("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=q("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=q("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=q("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=q("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=q("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var Y=(e=>(e.PENDING="PENDING",e.IN_PROGRESS="IN_PROGRESS",e.COMPLETED="COMPLETED",e.REJECTED="REJECTED",e.RETURNED="RETURNED",e))(Y||{}),ye=(e=>(e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.CRITICAL="CRITICAL",e))(ye||{});const tt="DEVELOPER",yg="https://automation-hub-backend.vercel.app",Uu="https://automation-hub-backend.vercel.app",Nn=(Uu.trim().length>0?Uu:yg).replace(/\/$/,""),yr=async e=>{try{const t=await e.json(),n=(t==null?void 0:t.detail)||(t==null?void 0:t.message);return n?new Error(n):new Error(JSON.stringify(t))}catch{const t=await e.text();return new Error(t||e.statusText)}},wo=()=>{const e=sessionStorage.getItem("rah_access_token"),t={"Content-Type":"application/json"};return e&&(t.Authorization=`Bearer ${e}`),t},ie={get:async e=>{const t=await fetch(`${Nn}${e}`,{method:"GET",headers:wo()});if(!t.ok)throw await yr(t);return t.json()},post:async(e,t)=>{const n=await fetch(`${Nn}${e}`,{method:"POST",headers:wo(),body:t?JSON.stringify(t):void 0});if(!n.ok)throw await yr(n);return n.json()},postForm:async(e,t)=>{const n=sessionStorage.getItem("rah_access_token"),r={};n&&(r.Authorization=`Bearer ${n}`);const o=await fetch(`${Nn}${e}`,{method:"POST",headers:r,body:t});if(!o.ok)throw await yr(o);return o.json()},put:async(e,t)=>{const n=await fetch(`${Nn}${e}`,{method:"PUT",headers:wo(),body:JSON.stringify(t)});if(!n.ok)throw await yr(n);return n.json()},delete:async e=>{const t=await fetch(`${Nn}${e}`,{method:"DELETE",headers:wo()});if(!t.ok)throw await yr(t);if(t.status===204)return null;const n=await t.text();if(!n)return null;try{return JSON.parse(n)}catch{return n}}},Fu=async()=>await ie.get("/requests"),xg=async e=>{await ie.post("/requests",e)},To=async e=>{await ie.put(`/requests/${e.id}`,e)},Pp=e=>new Promise((t,n)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(r.result),r.onerror=o=>n(o)}),Mp=async e=>{try{await ie.post("/notifications/email",e)}catch(t){console.error("Failed to send email notification:",t)}},vg=async(e,t)=>{const n=await ie.post("/auth/login",{username:e,password:t});if(n.access_token)return sessionStorage.setItem("rah_access_token",n.access_token),n.user;throw new Error("Login failed: No access token received")},Eg=async()=>{if(!sessionStorage.getItem("rah_access_token"))return null;try{return await ie.get("/users/me")}catch{return Dp(),null}},Dp=()=>{sessionStorage.removeItem("rah_access_token"),window.location.reload()},Cg=async()=>await ie.get("/users"),Sg=async(e,t,n,r)=>await ie.post("/users",{name:e,email:t,password:n,role:r}),wg=async e=>{await ie.delete(`/users/${e}`)},bp=A.createContext(void 0),Tg=({children:e})=>{const[t,n]=A.useState(null),[r,o]=A.useState(!0);A.useEffect(()=>{(async()=>{try{const d=await Eg();n(d)}catch(d){console.error("Session check failed",d)}finally{o(!1)}})()},[]);const s=async(u,d)=>{o(!0);try{const f=await vg(u,d);n(f),sessionStorage.setItem("rah_current_user_id",f.id)}finally{o(!1)}},l=()=>{Dp(),n(null)};return c.jsx(bp.Provider,{value:{user:t,isLoading:r,login:s,logout:l},children:e})},or=()=>{const e=A.useContext(bp);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},di={title:"",desc:"",priority:ye.MEDIUM,project:"",revitVersion:"2024",dueDate:"",files:[],submissionCount:0},Ng=({requests:e,onRequestCreate:t,onViewRequest:n})=>{const{user:r}=or(),[o,s]=A.useState("DASHBOARD"),[l,u]=A.useState(!1),d=e.filter(N=>N.requesterId===(r==null?void 0:r.id)),f=d.filter(N=>N.status===Y.PENDING).length,p=d.filter(N=>N.status===Y.IN_PROGRESS).length,m=d.filter(N=>N.status===Y.COMPLETED).length,h=d.filter(N=>N.status!==Y.COMPLETED),g=d.filter(N=>N.status===Y.COMPLETED),[E,C]=A.useState(di),[P,x]=A.useState(!1),[y,v]=A.useState({}),w=N=>`${N.name}_${N.lastModified}`,k=N=>N.type.startsWith("image/")||N.type==="application/pdf",I=()=>{C(di),Object.values(y).forEach(N=>URL.revokeObjectURL(N)),v({})},_=N=>N===ye.CRITICAL?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-200":N===ye.HIGH?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-200":N===ye.MEDIUM?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-200":"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-200",S=N=>{if(N.target.files&&N.target.files.length>0){const $=Array.from(N.target.files),X={};$.forEach(B=>{k(B)&&(X[w(B)]=URL.createObjectURL(B))}),v(B=>({...B,...X})),C(B=>({...B,files:[...B.files,...$]}))}},M=N=>{C($=>{const X=$.files[N];if(X){const B=w(X),O=y[B];O&&URL.revokeObjectURL(O);const de={...y};delete de[B],v(de)}return{...$,files:$.files.filter((B,O)=>O!==N)}})},b=()=>{I(),s("DASHBOARD")},H=async N=>{N.preventDefault(),x(!0);try{const $=(E.submissionCount||0)+1,X=await Promise.all(E.files.map(async O=>({name:O.name,type:O.type,data:await Pp(O)}))),B={id:`req_${Date.now()}`,title:E.title,description:E.desc,priority:E.priority,status:Y.PENDING,requesterName:(r==null?void 0:r.name)||"Unknown",requesterId:(r==null?void 0:r.id)||"unknown",projectName:E.project,revitVersion:E.revitVersion,dueDate:E.dueDate,createdAt:Date.now(),updatedAt:Date.now(),attachments:X};B.submissionCount=$,await xg(B),await Mp({subject:`New Automation Request: ${B.title}`,body:`A new request has been submitted by ${B.requesterName}.

Project: ${B.projectName}
Priority: ${B.priority}

Please check the Developer Portal.`}),t(),I(),s("DASHBOARD"),u(!0),C(di)}catch($){console.error($),alert("Failed to submit request")}finally{x(!1)}};return o==="NEW"?c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-6 text-slate-500 dark:text-slate-300 text-sm",children:[c.jsx("button",{onClick:b,className:"hover:text-indigo-600 transition",children:"Dashboard"}),c.jsx("span",{children:"/"}),c.jsx("span",{className:"text-slate-900 dark:text-white",children:"New Request"})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-1",children:"Submit Automation Request"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-300 mb-8",children:"Provide details about the manual task you want automated."}),c.jsxs("form",{onSubmit:H,className:"space-y-8",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Request Title"}),c.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",placeholder:"e.g., Automatic Room Tagging based on Department",value:E.title,onChange:N=>C({...E,title:N.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Project Name"}),c.jsx("input",{required:!0,type:"text",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",placeholder:"e.g. Skyline Tower",value:E.project,onChange:N=>C({...E,project:N.target.value})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Revit Version"}),c.jsx("select",{className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",value:E.revitVersion,onChange:N=>C({...E,revitVersion:N.target.value}),children:["2022","2023","2024","2025"].map(N=>c.jsxs("option",{value:N,children:["Revit ",N]},N))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Priority Level"}),c.jsx("select",{className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",value:E.priority,onChange:N=>C({...E,priority:N.target.value}),children:Object.values(ye).map(N=>c.jsx("option",{value:N,children:N},N))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Desired Due Date (Optional)"}),c.jsx("input",{type:"date",className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",value:E.dueDate,onChange:N=>C({...E,dueDate:N.target.value})})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Detailed Description"}),c.jsx("textarea",{required:!0,rows:6,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100",placeholder:"Describe the current workflow, the logic for automation, and specific requirements...",value:E.desc,onChange:N=>C({...E,desc:N.target.value})})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Attachments (Screenshots/Sample Files)"}),c.jsx("div",{className:"flex items-center justify-center w-full",children:c.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-slate-300 dark:border-slate-600 border-dashed rounded-lg cursor-pointer bg-slate-50 dark:bg-slate-800 hover:bg-slate-100 dark:hover:bg-slate-700 transition group",children:[c.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[c.jsx(lg,{className:"w-8 h-8 text-slate-400 dark:text-slate-500 group-hover:text-indigo-500 transition mb-2"}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-300",children:"Click to upload files"})]}),c.jsx("input",{type:"file",className:"hidden",multiple:!0,onChange:S})]})}),E.files.length>0&&c.jsx("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:E.files.map((N,$)=>{var V;const X=w(N),B=y[X],O=N.name.includes(".")?(V=N.name.split(".").pop())==null?void 0:V.toUpperCase():"",de=N.type.startsWith("image/"),L=N.type==="application/pdf";return c.jsxs("div",{className:"relative border border-slate-200 rounded-lg bg-white shadow-sm overflow-hidden",children:[c.jsx("button",{type:"button",onClick:()=>M($),className:"absolute top-2 right-2 bg-white/80 hover:bg-red-50 border border-slate-200 rounded-full p-1 text-slate-500 hover:text-red-600 transition",title:"Remove file",children:c.jsx(gg,{className:"w-4 h-4"})}),c.jsx("div",{className:"h-32 bg-slate-50 flex items-center justify-center",children:de&&B?c.jsx("img",{src:B,alt:N.name,className:"h-full w-full object-cover"}):L&&B?c.jsx("object",{data:B,type:N.type,className:"h-full w-full","aria-label":N.name,children:c.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[c.jsx(ui,{className:"w-4 h-4"})," PDF preview unavailable"]})}):c.jsxs("div",{className:"flex flex-col items-center text-slate-500",children:[c.jsx(ui,{className:"w-6 h-6 mb-1"}),c.jsx("span",{className:"text-xs",children:"Preview unavailable"})]})}),c.jsxs("div",{className:"flex items-center justify-between px-3 py-2 text-xs text-slate-600",children:[c.jsx("span",{className:"truncate pr-2",children:N.name}),c.jsx("span",{className:"font-semibold text-slate-500",children:O})]})]},X)})})]})]}),c.jsxs("div",{className:"flex gap-4 pt-6 border-t border-slate-100",children:[c.jsx("button",{type:"button",onClick:b,className:"px-6 py-2.5 border border-slate-300 rounded-lg text-slate-700 hover:bg-slate-50 transition font-medium",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:P,className:"flex-1 px-6 py-2.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition flex justify-center items-center gap-2 font-medium shadow-sm shadow-indigo-200",children:P?c.jsx(Fe,{className:"w-4 h-4 animate-spin"}):l?"Resubmit Request":"Submit Request"})]})]})]})]}):c.jsxs("div",{className:"space-y-8 text-slate-900 dark:text-slate-100",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm flex items-center gap-4",children:[c.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-3 rounded-full",children:c.jsx(J0,{className:"w-6 h-6 text-blue-600 dark:text-blue-200"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-300 font-medium",children:"Pending Requests"}),c.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:f})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm flex items-center gap-4",children:[c.jsx("div",{className:"bg-orange-100 dark:bg-orange-900/30 p-3 rounded-full",children:c.jsx(Qr,{className:"w-6 h-6 text-orange-600 dark:text-orange-200"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-300 font-medium",children:"In Progress"}),c.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:p})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm flex items-center gap-4",children:[c.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 p-3 rounded-full",children:c.jsx(W0,{className:"w-6 h-6 text-green-600 dark:text-green-200"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-300 font-medium",children:"Completed"}),c.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:m})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-800 flex justify-between items-center bg-slate-50/50 dark:bg-slate-900/70",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Request History"}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-300 mt-1",children:"Track the status of your automation requests."})]}),c.jsxs("button",{onClick:()=>s("NEW"),className:"bg-indigo-600 text-white px-5 py-2.5 rounded-lg flex items-center gap-2 hover:bg-indigo-700 transition shadow-sm font-medium",children:[c.jsx(ug,{className:"w-4 h-4"})," New Request"]})]}),d.length===0?c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"bg-slate-50 dark:bg-slate-800 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(ui,{className:"w-8 h-8 text-slate-400 dark:text-slate-500"})}),c.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white",children:"No requests yet"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-300 mb-6",children:"Start by submitting your first automation idea."})]}):c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between px-6 pt-6",children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200 uppercase tracking-wide",children:"Awaiting / In progress"}),c.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:[h.length," item",h.length===1?"":"s"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left text-sm text-slate-600 dark:text-slate-200",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800 text-slate-700 dark:text-slate-200 font-semibold uppercase text-xs",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4",children:"Title"}),c.jsx("th",{className:"px-6 py-4",children:"Project"}),c.jsx("th",{className:"px-6 py-4",children:"Created"}),c.jsx("th",{className:"px-6 py-4",children:"Priority"}),c.jsx("th",{className:"px-6 py-4",children:"Status"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Action"})]})}),c.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:[h.map(N=>{var X;const $=N.submissionCount??((X=N.submissionEvents)==null?void 0:X.length)??0;return c.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800 transition cursor-pointer",onClick:()=>n(N),children:[c.jsx("td",{className:"px-6 py-4 font-medium text-slate-900 dark:text-slate-100",children:N.title}),c.jsx("td",{className:"px-6 py-4",children:N.projectName}),c.jsx("td",{className:"px-6 py-4",children:new Date(N.createdAt).toLocaleDateString()}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-[11px] font-semibold ${_(N.priority)}`,children:N.priority})}),c.jsxs("td",{className:"px-6 py-4",children:[c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${N.status===Y.COMPLETED?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":N.status===Y.IN_PROGRESS?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-200":N.status===Y.RETURNED?"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-200":N.status===Y.REJECTED?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-200":"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-200"}`,children:N.status.replace("_"," ")}),$>1&&c.jsxs("span",{className:"ml-2 text-[11px] text-slate-500 dark:text-slate-300",children:["(",$-1," resubmit",$-1===1?"":"s",")"]})]}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsx("button",{className:"text-indigo-600 dark:text-indigo-300 hover:text-indigo-800 dark:hover:text-indigo-200 font-medium text-xs",children:"View Details"})})]},N.id)}),h.length===0&&c.jsx("tr",{children:c.jsx("td",{className:"px-6 py-4 text-sm text-slate-500 dark:text-slate-300",colSpan:6,children:"No active requests."})})]})]})})]}),c.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-800 pt-4",children:[c.jsxs("div",{className:"flex items-center justify-between px-6 pb-2",children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200 uppercase tracking-wide",children:"Completed"}),c.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:[g.length," item",g.length===1?"":"s"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left text-sm text-slate-600 dark:text-slate-200",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800 text-slate-700 dark:text-slate-200 font-semibold uppercase text-xs",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4",children:"Title"}),c.jsx("th",{className:"px-6 py-4",children:"Project"}),c.jsx("th",{className:"px-6 py-4",children:"Created"}),c.jsx("th",{className:"px-6 py-4",children:"Priority"}),c.jsx("th",{className:"px-6 py-4",children:"Status"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Action"})]})}),c.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:[g.map(N=>{var X;const $=N.submissionCount??((X=N.submissionEvents)==null?void 0:X.length)??0;return c.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800 transition cursor-pointer",onClick:()=>n(N),children:[c.jsx("td",{className:"px-6 py-4 font-medium text-slate-900 dark:text-slate-100",children:N.title}),c.jsx("td",{className:"px-6 py-4",children:N.projectName}),c.jsx("td",{className:"px-6 py-4",children:new Date(N.createdAt).toLocaleDateString()}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-[11px] font-semibold ${_(N.priority)}`,children:N.priority})}),c.jsxs("td",{className:"px-6 py-4",children:[c.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300",children:"Completed"}),$>1&&c.jsxs("span",{className:"ml-2 text-[11px] text-slate-500 dark:text-slate-300",children:["(",$-1," resubmit",$-1===1?"":"s",")"]})]}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsx("button",{className:"text-indigo-600 dark:text-indigo-300 hover:text-indigo-800 dark:hover:text-indigo-200 font-medium text-xs",children:"View Details"})})]},N.id)}),g.length===0&&c.jsx("tr",{children:c.jsx("td",{className:"px-6 py-4 text-sm text-slate-500 dark:text-slate-300",colSpan:6,children:"No completed requests yet."})})]})]})})]})]})]})]})},kg=({requests:e,onViewRequest:t})=>{const[n,r]=A.useState("BOARD"),[o,s]=A.useState(""),[l,u]=A.useState("ALL"),[d,f]=A.useState("ALL"),[p,m]=A.useState("DESC"),h=A.useMemo(()=>Array.from(new Set(e.map(S=>S.projectName))).sort(),[e]),g=A.useMemo(()=>{let S=e.filter(M=>M.title.toLowerCase().includes(o.toLowerCase())||M.requesterName.toLowerCase().includes(o.toLowerCase()));return l!=="ALL"&&(S=S.filter(M=>M.priority===l)),d!=="ALL"&&(S=S.filter(M=>M.projectName===d)),S.sort((M,b)=>p==="DESC"?b.createdAt-M.createdAt:M.createdAt-b.createdAt),S},[e,o,l,d,p]),E=new Set([Y.PENDING,Y.IN_PROGRESS,Y.RETURNED]),C=e.filter(S=>S.status===Y.COMPLETED),P=C.length?C.reduce((S,M)=>S+Math.max(0,M.updatedAt-M.createdAt),0)/C.length/(1e3*60*60*24):0,x={total:e.length,pending:e.filter(S=>S.status===Y.PENDING).length,highPriority:e.filter(S=>E.has(S.status)&&(S.priority===ye.HIGH||S.priority===ye.CRITICAL)).length,avgTurnaround:P},y={[ye.CRITICAL]:3,[ye.HIGH]:2,[ye.MEDIUM]:1,[ye.LOW]:0},v=g.filter(S=>S.status===Y.PENDING||S.status===Y.RETURNED).slice().sort((S,M)=>y[M.priority]-y[S.priority]),w=g.filter(S=>S.status===Y.IN_PROGRESS),k=g.filter(S=>S.status===Y.COMPLETED),I=g.filter(S=>S.status===Y.REJECTED),_=({req:S})=>{var b;const M=S.submissionCount??((b=S.submissionEvents)==null?void 0:b.length)??0;return c.jsxs("div",{onClick:()=>t(S),className:"bg-white dark:bg-slate-800/80 px-3 py-2 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 hover:shadow-md hover:border-indigo-400 dark:hover:border-indigo-500 cursor-pointer transition flex flex-col gap-1 group relative",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded tracking-wide leading-none ${S.priority===ye.CRITICAL?"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-300":S.priority===ye.HIGH?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-200":"bg-slate-100 text-slate-600 dark:bg-slate-700/60 dark:text-slate-200"}`,children:S.priority}),c.jsxs("div",{className:"flex items-center gap-1",children:[S.status===Y.RETURNED&&c.jsx("span",{className:"text-[10px] bg-orange-100 text-orange-700 dark:bg-orange-900/40 dark:text-orange-200 px-2 py-0.5 rounded-full border border-orange-200 dark:border-orange-800 font-semibold",children:"Returned"}),c.jsxs("span",{className:"text-[10px] text-slate-500 dark:text-slate-300 font-mono bg-slate-50 dark:bg-slate-700/60 px-1.5 py-0.5 rounded border border-slate-100 dark:border-slate-600 leading-none",children:["R",S.revitVersion]})]})]}),c.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-100 leading-tight text-sm line-clamp-1",children:S.title}),c.jsxs("div",{className:"flex items-center justify-between text-[11px] text-slate-500 dark:text-slate-300",children:[c.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[c.jsx(Np,{className:"w-3 h-3 text-slate-400 dark:text-slate-500"}),c.jsx("span",{className:"truncate",children:S.projectName})]}),S.dueDate&&c.jsxs("span",{className:"text-[10px] text-slate-400 dark:text-slate-300 ml-2 shrink-0",children:["Due ",new Date(S.dueDate).toLocaleDateString(void 0,{month:"short",day:"numeric"})]})]}),c.jsxs("div",{className:"pt-1 border-t border-slate-100 dark:border-slate-700 flex items-center justify-between text-[11px]",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-5 h-5 rounded-full bg-indigo-100 dark:bg-indigo-900/40 text-indigo-600 dark:text-indigo-200 flex items-center justify-center text-[10px] font-bold uppercase",children:S.requesterName.charAt(0)}),c.jsx("span",{className:"text-[11px] text-slate-500 dark:text-slate-300 truncate max-w-[80px]",children:S.requesterName.split(" ")[0]})]}),M>1&&c.jsxs("span",{className:"text-[10px] text-orange-500 dark:text-orange-300 font-semibold",children:["Resubmitted x",M-1]})]})]})};return c.jsxs("div",{className:"flex flex-col space-y-6 pb-12 text-slate-900 dark:text-slate-100",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase font-semibold",children:"Total Requests"}),c.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mt-1",children:x.total})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase font-semibold",children:"Inbox (Pending)"}),c.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400 mt-1",children:x.pending})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase font-semibold",children:"High Priority"}),c.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400 mt-1",children:x.highPriority})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase font-semibold",children:"Avg Turnaround"}),c.jsx("p",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-300 mt-1",children:x.avgTurnaround?`${x.avgTurnaround.toFixed(1)} Days`:""})]})]}),c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center bg-white dark:bg-slate-900 p-2 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm gap-3",children:[c.jsxs("div",{className:"relative w-full sm:w-auto flex-1 max-w-md",children:[c.jsx(_p,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),c.jsx("input",{type:"text",placeholder:"Search requests...",className:"pl-9 pr-4 py-2 text-sm border-none focus:ring-0 w-full text-slate-700 dark:text-slate-100 placeholder-slate-400 dark:placeholder-slate-500 bg-transparent",value:o,onChange:S=>s(S.target.value)})]}),c.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800/80 p-1 rounded-md w-full sm:w-auto border border-slate-200 dark:border-slate-700",children:[c.jsxs("button",{onClick:()=>r("BOARD"),className:`flex-1 sm:flex-none px-3 py-2 rounded flex items-center justify-center gap-2 text-sm font-medium transition ${n==="BOARD"?"bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm":"text-slate-500 dark:text-slate-300 hover:text-slate-700 dark:hover:text-white"}`,children:[c.jsx(tg,{className:"w-4 h-4"})," Board"]}),c.jsxs("button",{onClick:()=>r("LIST"),className:`flex-1 sm:flex-none px-3 py-2 rounded flex items-center justify-center gap-2 text-sm font-medium transition ${n==="LIST"?"bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm":"text-slate-500 dark:text-slate-300 hover:text-slate-700 dark:hover:text-white"}`,children:[c.jsx(ng,{className:"w-4 h-4"})," List"]})]})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-3 bg-white dark:bg-slate-900 px-4 py-3 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 text-slate-500 dark:text-slate-300 mr-2",children:[c.jsx(Q0,{className:"w-4 h-4"}),c.jsx("span",{className:"font-semibold text-xs uppercase",children:"Filters"})]}),c.jsxs("select",{value:l,onChange:S=>u(S.target.value),className:"bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-100 rounded-md px-2 py-1.5 focus:ring-1 focus:ring-indigo-500 outline-none",children:[c.jsx("option",{value:"ALL",children:"All Priorities"}),c.jsx("option",{value:ye.CRITICAL,children:"Critical"}),c.jsx("option",{value:ye.HIGH,children:"High"}),c.jsx("option",{value:ye.MEDIUM,children:"Medium"}),c.jsx("option",{value:ye.LOW,children:"Low"})]}),c.jsxs("select",{value:d,onChange:S=>f(S.target.value),className:"bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-100 rounded-md px-2 py-1.5 focus:ring-1 focus:ring-indigo-500 outline-none max-w-[150px]",children:[c.jsx("option",{value:"ALL",children:"All Projects"}),h.map(S=>c.jsx("option",{value:S,children:S},S))]}),c.jsx("div",{className:"w-px h-5 bg-slate-200 mx-2 hidden sm:block"}),c.jsxs("div",{className:"flex items-center gap-2 text-slate-500 ml-auto sm:ml-0",children:[c.jsx(z0,{className:"w-4 h-4"}),c.jsx("span",{className:"font-semibold text-xs uppercase",children:"Sort Date"})]}),c.jsxs("select",{value:p,onChange:S=>m(S.target.value),className:"bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-100 rounded-md px-2 py-1.5 focus:ring-1 focus:ring-indigo-500 outline-none",children:[c.jsx("option",{value:"DESC",children:"Newest First"}),c.jsx("option",{value:"ASC",children:"Oldest First"})]}),(l!=="ALL"||d!=="ALL")&&c.jsx("button",{onClick:()=>{u("ALL"),f("ALL")},className:"ml-auto text-xs text-red-500 hover:text-red-700 font-medium",children:"Clear Filters"})]})]}),c.jsx("div",{children:n==="BOARD"?c.jsxs("div",{className:"flex flex-col gap-8",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900/30 p-1.5 rounded-md shadow-sm",children:c.jsx(Qr,{className:"w-4 h-4 text-yellow-700 dark:text-yellow-300"})}),c.jsx("h3",{className:"font-bold text-slate-800 dark:text-white text-lg",children:"Inbox"}),c.jsx("span",{className:"bg-yellow-50 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-200 border border-yellow-200 dark:border-yellow-800 px-2.5 py-0.5 rounded-full text-xs font-bold shadow-sm",children:v.length})]}),c.jsx("div",{className:"bg-slate-100/50 dark:bg-slate-900/40 p-6 rounded-xl border border-slate-200 dark:border-slate-700 border-dashed",children:v.length===0?c.jsxs("div",{className:"text-center py-8 text-slate-400 dark:text-slate-500 text-sm",children:[c.jsx(Qr,{className:"w-8 h-8 mx-auto mb-2 opacity-20"}),"No pending requests matching filters."]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:v.map(S=>c.jsx(_,{req:S},S.id))})})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"font-bold text-slate-800 dark:text-white text-lg mb-4 flex items-center gap-2",children:[c.jsx(Z0,{className:"w-5 h-5 text-slate-500"})," Workflows"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2 border-b-2 border-blue-500 pb-2 bg-white dark:bg-slate-900 px-3 py-2 rounded-t-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),c.jsx("h3",{className:"font-semibold text-slate-800 dark:text-white text-sm",children:"In Development"}),c.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-300 font-medium ml-auto bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded-full border border-slate-200 dark:border-slate-700",children:w.length})]}),c.jsxs("div",{className:"space-y-2.5",children:[w.map(S=>c.jsx(_,{req:S},S.id)),w.length===0&&c.jsx("div",{className:"h-24 rounded-lg border border-dashed border-slate-200 dark:border-slate-700 flex items-center justify-center text-xs text-slate-400 dark:text-slate-500",children:"No active tasks"})]})]}),c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2 border-b-2 border-green-500 pb-2 bg-white dark:bg-slate-900 px-3 py-2 rounded-t-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),c.jsx("h3",{className:"font-semibold text-slate-800 dark:text-white text-sm",children:"Done"}),c.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-300 font-medium ml-auto bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded-full border border-slate-200 dark:border-slate-700",children:k.length})]}),c.jsxs("div",{className:"space-y-2.5",children:[k.map(S=>c.jsx(_,{req:S},S.id)),k.length===0&&c.jsx("div",{className:"h-24 rounded-lg border border-dashed border-slate-200 dark:border-slate-700 flex items-center justify-center text-xs text-slate-400 dark:text-slate-500",children:"No completed tasks"})]})]}),c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2 border-b-2 border-red-500 pb-2 bg-white dark:bg-slate-900 px-3 py-2 rounded-t-lg shadow-sm border border-slate-200 dark:border-slate-700",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),c.jsx("h3",{className:"font-semibold text-slate-800 dark:text-white text-sm",children:"Rejected"}),c.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-300 font-medium ml-auto bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded-full border border-slate-200 dark:border-slate-700",children:I.length})]}),c.jsxs("div",{className:"space-y-2.5 opacity-90",children:[I.map(S=>c.jsx(_,{req:S},S.id)),I.length===0&&c.jsx("div",{className:"h-24 rounded-lg border border-dashed border-slate-200 dark:border-slate-700 flex items-center justify-center text-xs text-slate-400 dark:text-slate-500",children:"No rejected tasks"})]})]})]})]})]}):c.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left text-sm text-slate-600 dark:text-slate-200",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800 text-slate-700 dark:text-slate-200 font-semibold uppercase text-xs",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4",children:"Status"}),c.jsx("th",{className:"px-6 py-4",children:"Title"}),c.jsx("th",{className:"px-6 py-4",children:"Requester"}),c.jsx("th",{className:"px-6 py-4",children:"Project"}),c.jsx("th",{className:"px-6 py-4",children:"Priority"}),c.jsx("th",{className:"px-6 py-4",children:"Created"})]})}),c.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:g.map(S=>c.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800 transition cursor-pointer",onClick:()=>t(S),children:[c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${S.status===Y.COMPLETED?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":S.status===Y.IN_PROGRESS?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-200":S.status===Y.RETURNED?"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-200":S.status===Y.REJECTED?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-200":"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-200"}`,children:S.status.replace("_"," ")})}),c.jsx("td",{className:"px-6 py-4 font-medium text-slate-900 dark:text-white",children:S.title}),c.jsx("td",{className:"px-6 py-4",children:S.requesterName}),c.jsx("td",{className:"px-6 py-4 text-xs font-mono text-slate-500 dark:text-slate-300",children:S.projectName}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold ${S.priority===ye.CRITICAL?"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-200":S.priority===ye.HIGH?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-200":"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-200"}`,children:S.priority})}),c.jsx("td",{className:"px-6 py-4",children:new Date(S.createdAt).toLocaleDateString()})]},S.id))})]})})})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let _g,Ig;function Ag(){return{geminiUrl:_g,vertexUrl:Ig}}function Rg(e,t,n,r){var o,s;if(!(e!=null&&e.baseUrl)){const l=Ag();return t?(o=l.vertexUrl)!==null&&o!==void 0?o:n:(s=l.geminiUrl)!==null&&s!==void 0?s:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ft{}function U(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,o)=>{if(Object.prototype.hasOwnProperty.call(t,o)){const s=t[o];return s!=null?String(s):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function a(e,t,n){for(let s=0;s<t.length-1;s++){const l=t[s];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[u])){const d=e[u];if(Array.isArray(n))for(let f=0;f<d.length;f++){const p=d[f];a(p,t.slice(s+1),n[f])}else for(const f of d)a(f,t.slice(s+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in e||(e[u]=[{}]);const d=e[u];a(d[0],t.slice(s+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const r=t[t.length-1],o=e[r];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function i(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const o=t[r];if(o.endsWith("[]")){const s=o.slice(0,-2);if(s in e){const l=e[s];return Array.isArray(l)?l.map(u=>i(u,t.slice(r+1),n)):n}else return n}else e=e[o]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function Pg(e,t){for(const[n,r]of Object.entries(t)){const o=n.split("."),s=r.split("."),l=new Set;let u=-1;for(let d=0;d<o.length;d++)if(o[d]==="*"){u=d;break}if(u!==-1&&s.length>u)for(let d=u;d<s.length;d++){const f=s[d];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&l.add(f)}il(e,o,s,0,l)}}function il(e,t,n,r,o){if(r>=t.length||typeof e!="object"||e===null)return;const s=t[r];if(s.endsWith("[]")){const l=s.slice(0,-2),u=e;if(l in u&&Array.isArray(u[l]))for(const d of u[l])il(d,t,n,r+1,o)}else if(s==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,u=Object.keys(l).filter(f=>!f.startsWith("_")&&!o.has(f)),d={};for(const f of u)d[f]=l[f];for(const[f,p]of Object.entries(d)){const m=[];for(const h of n.slice(r))h==="*"?m.push(f):m.push(h);a(l,m,p)}for(const f of u)delete l[f]}}else{const l=e;s in l&&il(l[s],t,n,r+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ma(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mg(e){const t={},n=i(e,["operationName"]);n!=null&&a(t,["operationName"],n);const r=i(e,["resourceName"]);return r!=null&&a(t,["_url","resourceName"],r),t}function Dg(e){const t={},n=i(e,["name"]);n!=null&&a(t,["name"],n);const r=i(e,["metadata"]);r!=null&&a(t,["metadata"],r);const o=i(e,["done"]);o!=null&&a(t,["done"],o);const s=i(e,["error"]);s!=null&&a(t,["error"],s);const l=i(e,["response","generateVideoResponse"]);return l!=null&&a(t,["response"],Lg(l)),t}function bg(e){const t={},n=i(e,["name"]);n!=null&&a(t,["name"],n);const r=i(e,["metadata"]);r!=null&&a(t,["metadata"],r);const o=i(e,["done"]);o!=null&&a(t,["done"],o);const s=i(e,["error"]);s!=null&&a(t,["error"],s);const l=i(e,["response"]);return l!=null&&a(t,["response"],Ug(l)),t}function Lg(e){const t={},n=i(e,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>Fg(l))),a(t,["generatedVideos"],s)}const r=i(e,["raiMediaFilteredCount"]);r!=null&&a(t,["raiMediaFilteredCount"],r);const o=i(e,["raiMediaFilteredReasons"]);return o!=null&&a(t,["raiMediaFilteredReasons"],o),t}function Ug(e){const t={},n=i(e,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>Vg(l))),a(t,["generatedVideos"],s)}const r=i(e,["raiMediaFilteredCount"]);r!=null&&a(t,["raiMediaFilteredCount"],r);const o=i(e,["raiMediaFilteredReasons"]);return o!=null&&a(t,["raiMediaFilteredReasons"],o),t}function Fg(e){const t={},n=i(e,["video"]);return n!=null&&a(t,["video"],$g(n)),t}function Vg(e){const t={},n=i(e,["_self"]);return n!=null&&a(t,["video"],Jg(n)),t}function Gg(e){const t={},n=i(e,["operationName"]);return n!=null&&a(t,["_url","operationName"],n),t}function qg(e){const t={},n=i(e,["operationName"]);return n!=null&&a(t,["_url","operationName"],n),t}function Hg(e){const t={},n=i(e,["name"]);n!=null&&a(t,["name"],n);const r=i(e,["metadata"]);r!=null&&a(t,["metadata"],r);const o=i(e,["done"]);o!=null&&a(t,["done"],o);const s=i(e,["error"]);s!=null&&a(t,["error"],s);const l=i(e,["response"]);return l!=null&&a(t,["response"],Bg(l)),t}function Bg(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["parent"]);r!=null&&a(t,["parent"],r);const o=i(e,["documentName"]);return o!=null&&a(t,["documentName"],o),t}function Lp(e){const t={},n=i(e,["name"]);n!=null&&a(t,["name"],n);const r=i(e,["metadata"]);r!=null&&a(t,["metadata"],r);const o=i(e,["done"]);o!=null&&a(t,["done"],o);const s=i(e,["error"]);s!=null&&a(t,["error"],s);const l=i(e,["response"]);return l!=null&&a(t,["response"],zg(l)),t}function zg(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["parent"]);r!=null&&a(t,["parent"],r);const o=i(e,["documentName"]);return o!=null&&a(t,["documentName"],o),t}function $g(e){const t={},n=i(e,["uri"]);n!=null&&a(t,["uri"],n);const r=i(e,["encodedVideo"]);r!=null&&a(t,["videoBytes"],ma(r));const o=i(e,["encoding"]);return o!=null&&a(t,["mimeType"],o),t}function Jg(e){const t={},n=i(e,["gcsUri"]);n!=null&&a(t,["uri"],n);const r=i(e,["bytesBase64Encoded"]);r!=null&&a(t,["videoBytes"],ma(r));const o=i(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Vu;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Vu||(Vu={}));var Gu;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Gu||(Gu={}));var qu;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(qu||(qu={}));var He;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(He||(He={}));var Hu;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Hu||(Hu={}));var Bu;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Bu||(Bu={}));var zu;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(zu||(zu={}));var $u;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})($u||($u={}));var Ju;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Ju||(Ju={}));var Ou;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"})(Ou||(Ou={}));var Wu;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Wu||(Wu={}));var Yu;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(Yu||(Yu={}));var Ku;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(Ku||(Ku={}));var ju;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(ju||(ju={}));var Qu;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Qu||(Qu={}));var Xu;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Xu||(Xu={}));var Zu;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Zu||(Zu={}));var ed;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(ed||(ed={}));var td;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(td||(td={}));var cs;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(cs||(cs={}));var nd;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(nd||(nd={}));var rd;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(rd||(rd={}));var od;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(od||(od={}));var ll;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ll||(ll={}));var sd;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(sd||(sd={}));var id;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(id||(id={}));var ld;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(ld||(ld={}));var ad;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(ad||(ad={}));var ud;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(ud||(ud={}));var dd;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(dd||(dd={}));var cd;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(cd||(cd={}));var fd;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(fd||(fd={}));var pd;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(pd||(pd={}));var md;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(md||(md={}));var hd;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(hd||(hd={}));var gd;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(gd||(gd={}));var yd;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(yd||(yd={}));var xd;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(xd||(xd={}));var vd;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(vd||(vd={}));var Ed;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(Ed||(Ed={}));var Cd;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(Cd||(Cd={}));var Sd;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(Sd||(Sd={}));var wd;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(wd||(wd={}));var Td;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Td||(Td={}));var Nd;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Nd||(Nd={}));var kd;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(kd||(kd={}));var _d;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(_d||(_d={}));var Id;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(Id||(Id={}));var Ad;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Ad||(Ad={}));var Rd;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Rd||(Rd={}));var Pd;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(Pd||(Pd={}));var Md;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Md||(Md={}));var Dd;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Dd||(Dd={}));var bd;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(bd||(bd={}));var Vn;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Vn||(Vn={}));class al{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class xr{get text(){var t,n,r,o,s,l,u,d;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",p=!1;const m=[];for(const h of(d=(u=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[g,E]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(E!==null||E!==void 0)&&m.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;p=!0,f+=h.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?f:void 0}get data(){var t,n,r,o,s,l,u,d;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const p=[];for(const m of(d=(u=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[h,g]of Object.entries(m))h!=="inlineData"&&(g!==null||g!==void 0)&&p.push(h);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var t,n,r,o,s,l,u,d;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(d=(u=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var t,n,r,o,s,l,u,d,f;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(d=(u=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var t,n,r,o,s,l,u,d,f;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(d=(u=(l=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.output}}class Ld{}class Ud{}class Og{}class Wg{}class Yg{}class Kg{}class Fd{}class Vd{}class Gd{}class jg{}class fs{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new fs;let o;const s=t;return n?o=bg(s):o=Dg(s),Object.assign(r,o),r}}class qd{}class Hd{}class Bd{}class Qg{}class Xg{}class Zg{}class ha{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new ha,s=Hg(t);return Object.assign(r,s),r}}class ey{}class ty{}class ny{}class zd{}class ry{get text(){var t,n,r;let o="",s=!1;const l=[];for(const u of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[d,f]of Object.entries(u))d!=="text"&&d!=="thought"&&f!==null&&l.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;s=!0,o+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?o:void 0}get data(){var t,n,r;let o="";const s=[];for(const l of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,d]of Object.entries(l))u!=="inlineData"&&d!==null&&s.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(o+=atob(l.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class oy{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ga{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new ga,s=Lp(t);return Object.assign(r,s),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Up(e,t){const n=Q(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function Fp(e){return Array.isArray(e)?e.map(t=>ps(t)):[ps(e)]}function ps(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function Vp(e){const t=ps(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Gp(e){const t=ps(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function $d(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function qp(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>$d(t)):[$d(e)]}function ul(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function Jd(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function Od(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Me(e){if(e==null)throw new Error("ContentUnion is required");return ul(e)?e:{role:"user",parts:qp(e)}}function ya(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=Me(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=Me(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Me(n)):[Me(t)]}function it(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(Jd(e)||Od(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Me(e)]}const t=[],n=[],r=ul(e[0]);for(const o of e){const s=ul(o);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)t.push(o);else{if(Jd(o)||Od(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return r||t.push({role:"user",parts:qp(n)}),t}function sy(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(He).includes(n[0].toUpperCase())?n[0].toUpperCase():He.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(He).includes(r.toUpperCase())?r.toUpperCase():He.TYPE_UNSPECIFIED})}}function Jn(e){const t={},n=["items"],r=["anyOf"],o=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=e.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(t.nullable=!0,e=s[1]):s[1].type==="null"&&(t.nullable=!0,e=s[0])),e.type instanceof Array&&sy(e.type,t);for(const[l,u]of Object.entries(e))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(He).includes(u.toUpperCase())?u.toUpperCase():He.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=Jn(u);else if(r.includes(l)){const d=[];for(const f of u){if(f.type=="null"){t.nullable=!0;continue}d.push(Jn(f))}t[l]=d}else if(o.includes(l)){const d={};for(const[f,p]of Object.entries(u))d[f]=Jn(p);t[l]=d}else{if(l==="additionalProperties")continue;t[l]=u}return t}function xa(e){return Jn(e)}function va(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Ea(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function sr(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Jn(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Jn(t.response));return e}function ir(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function iy(e,t,n,r=1){const o=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:o?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}function Vt(e,t){if(typeof t!="string")throw new Error("name must be a string");return iy(e,t,"cachedContents")}function Hp(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function ln(e){return ma(e)}function ly(e){return e!=null&&typeof e=="object"&&"name"in e}function ay(e){return e!=null&&typeof e=="object"&&"video"in e}function uy(e){return e!=null&&typeof e=="object"&&"uri"in e}function Bp(e){var t;let n;if(ly(e)&&(n=e.name),!(uy(e)&&(n=e.uri,n===void 0))&&!(ay(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function zp(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function $p(e){for(const t of["models","tunedModels","publisherModels"])if(dy(e,t))return e[t];return[]}function dy(e,t){return e!==null&&typeof e=="object"&&t in e}function cy(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function fy(e,t={}){const n=[],r=new Set;for(const o of e){const s=o.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const l=cy(o,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function Jp(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(o>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function py(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Op(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return e;let s=!1;for(const l of o){if(typeof l!="object"||l===null)continue;const d=l.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){s=!0;break}}return s&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function lr(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Wp(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function my(e){const t={},n=i(e,["responsesFile"]);n!=null&&a(t,["fileName"],n);const r=i(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>Yy(l))),a(t,["inlinedResponses"],s)}const o=i(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),a(t,["inlinedEmbedContentResponses"],s)}return t}function hy(e){const t={},n=i(e,["predictionsFormat"]);n!=null&&a(t,["format"],n);const r=i(e,["gcsDestination","outputUriPrefix"]);r!=null&&a(t,["gcsUri"],r);const o=i(e,["bigqueryDestination","outputUri"]);return o!=null&&a(t,["bigqueryUri"],o),t}function gy(e){const t={},n=i(e,["format"]);n!=null&&a(t,["predictionsFormat"],n);const r=i(e,["gcsUri"]);r!=null&&a(t,["gcsDestination","outputUriPrefix"],r);const o=i(e,["bigqueryUri"]);if(o!=null&&a(t,["bigqueryDestination","outputUri"],o),i(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(i(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(i(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Vo(e){const t={},n=i(e,["name"]);n!=null&&a(t,["name"],n);const r=i(e,["metadata","displayName"]);r!=null&&a(t,["displayName"],r);const o=i(e,["metadata","state"]);o!=null&&a(t,["state"],Wp(o));const s=i(e,["metadata","createTime"]);s!=null&&a(t,["createTime"],s);const l=i(e,["metadata","endTime"]);l!=null&&a(t,["endTime"],l);const u=i(e,["metadata","updateTime"]);u!=null&&a(t,["updateTime"],u);const d=i(e,["metadata","model"]);d!=null&&a(t,["model"],d);const f=i(e,["metadata","output"]);return f!=null&&a(t,["dest"],my(Op(f))),t}function dl(e){const t={},n=i(e,["name"]);n!=null&&a(t,["name"],n);const r=i(e,["displayName"]);r!=null&&a(t,["displayName"],r);const o=i(e,["state"]);o!=null&&a(t,["state"],Wp(o));const s=i(e,["error"]);s!=null&&a(t,["error"],s);const l=i(e,["createTime"]);l!=null&&a(t,["createTime"],l);const u=i(e,["startTime"]);u!=null&&a(t,["startTime"],u);const d=i(e,["endTime"]);d!=null&&a(t,["endTime"],d);const f=i(e,["updateTime"]);f!=null&&a(t,["updateTime"],f);const p=i(e,["model"]);p!=null&&a(t,["model"],p);const m=i(e,["inputConfig"]);m!=null&&a(t,["src"],yy(m));const h=i(e,["outputConfig"]);h!=null&&a(t,["dest"],hy(Op(h)));const g=i(e,["completionStats"]);return g!=null&&a(t,["completionStats"],g),t}function yy(e){const t={},n=i(e,["instancesFormat"]);n!=null&&a(t,["format"],n);const r=i(e,["gcsSource","uris"]);r!=null&&a(t,["gcsUri"],r);const o=i(e,["bigquerySource","inputUri"]);return o!=null&&a(t,["bigqueryUri"],o),t}function xy(e,t){const n={};if(i(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(i(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(i(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=i(t,["fileName"]);r!=null&&a(n,["fileName"],r);const o=i(t,["inlinedRequests"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>Wy(e,l))),a(n,["requests","requests"],s)}return n}function vy(e){const t={},n=i(e,["format"]);n!=null&&a(t,["instancesFormat"],n);const r=i(e,["gcsUri"]);r!=null&&a(t,["gcsSource","uris"],r);const o=i(e,["bigqueryUri"]);if(o!=null&&a(t,["bigquerySource","inputUri"],o),i(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(i(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Ey(e){const t={},n=i(e,["data"]);if(n!=null&&a(t,["data"],n),i(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=i(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function Cy(e,t){const n={},r=i(t,["name"]);return r!=null&&a(n,["_url","name"],lr(e,r)),n}function Sy(e,t){const n={},r=i(t,["name"]);return r!=null&&a(n,["_url","name"],lr(e,r)),n}function wy(e){const t={},n=i(e,["content"]);n!=null&&a(t,["content"],n);const r=i(e,["citationMetadata"]);r!=null&&a(t,["citationMetadata"],Ty(r));const o=i(e,["tokenCount"]);o!=null&&a(t,["tokenCount"],o);const s=i(e,["finishReason"]);s!=null&&a(t,["finishReason"],s);const l=i(e,["avgLogprobs"]);l!=null&&a(t,["avgLogprobs"],l);const u=i(e,["groundingMetadata"]);u!=null&&a(t,["groundingMetadata"],u);const d=i(e,["index"]);d!=null&&a(t,["index"],d);const f=i(e,["logprobsResult"]);f!=null&&a(t,["logprobsResult"],f);const p=i(e,["safetyRatings"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>g)),a(t,["safetyRatings"],h)}const m=i(e,["urlContextMetadata"]);return m!=null&&a(t,["urlContextMetadata"],m),t}function Ty(e){const t={},n=i(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),a(t,["citations"],r)}return t}function Yp(e){const t={},n=i(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>tx(s))),a(t,["parts"],o)}const r=i(e,["role"]);return r!=null&&a(t,["role"],r),t}function Ny(e,t){const n={},r=i(e,["displayName"]);if(t!==void 0&&r!=null&&a(t,["batch","displayName"],r),i(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function ky(e,t){const n={},r=i(e,["displayName"]);t!==void 0&&r!=null&&a(t,["displayName"],r);const o=i(e,["dest"]);return t!==void 0&&o!=null&&a(t,["outputConfig"],gy(py(o))),n}function Wd(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["src"]);o!=null&&a(n,["batch","inputConfig"],xy(e,Jp(e,o)));const s=i(t,["config"]);return s!=null&&Ny(s,n),n}function _y(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["model"],Q(e,r));const o=i(t,["src"]);o!=null&&a(n,["inputConfig"],vy(Jp(e,o)));const s=i(t,["config"]);return s!=null&&ky(s,n),n}function Iy(e,t){const n={},r=i(e,["displayName"]);return t!==void 0&&r!=null&&a(t,["batch","displayName"],r),n}function Ay(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["src"]);o!=null&&a(n,["batch","inputConfig"],Uy(e,o));const s=i(t,["config"]);return s!=null&&Iy(s,n),n}function Ry(e,t){const n={},r=i(t,["name"]);return r!=null&&a(n,["_url","name"],lr(e,r)),n}function Py(e,t){const n={},r=i(t,["name"]);return r!=null&&a(n,["_url","name"],lr(e,r)),n}function My(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["name"]);r!=null&&a(t,["name"],r);const o=i(e,["done"]);o!=null&&a(t,["done"],o);const s=i(e,["error"]);return s!=null&&a(t,["error"],s),t}function Dy(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["name"]);r!=null&&a(t,["name"],r);const o=i(e,["done"]);o!=null&&a(t,["done"],o);const s=i(e,["error"]);return s!=null&&a(t,["error"],s),t}function by(e,t){const n={},r=i(t,["contents"]);if(r!=null){let s=ya(e,r);Array.isArray(s)&&(s=s.map(l=>l)),a(n,["requests[]","request","content"],s)}const o=i(t,["config"]);return o!=null&&(a(n,["_self"],Ly(o,n)),Pg(n,{"requests[].*":"requests[].request.*"})),n}function Ly(e,t){const n={},r=i(e,["taskType"]);t!==void 0&&r!=null&&a(t,["requests[]","taskType"],r);const o=i(e,["title"]);t!==void 0&&o!=null&&a(t,["requests[]","title"],o);const s=i(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&a(t,["requests[]","outputDimensionality"],s),i(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(i(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Uy(e,t){const n={},r=i(t,["fileName"]);r!=null&&a(n,["file_name"],r);const o=i(t,["inlinedRequests"]);return o!=null&&a(n,["requests"],by(e,o)),n}function Fy(e){const t={};if(i(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=i(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const r=i(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function Vy(e){const t={},n=i(e,["id"]);n!=null&&a(t,["id"],n);const r=i(e,["args"]);r!=null&&a(t,["args"],r);const o=i(e,["name"]);if(o!=null&&a(t,["name"],o),i(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(i(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Gy(e){const t={},n=i(e,["mode"]);n!=null&&a(t,["mode"],n);const r=i(e,["allowedFunctionNames"]);if(r!=null&&a(t,["allowedFunctionNames"],r),i(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function qy(e,t,n){const r={},o=i(t,["systemInstruction"]);n!==void 0&&o!=null&&a(n,["systemInstruction"],Yp(Me(o)));const s=i(t,["temperature"]);s!=null&&a(r,["temperature"],s);const l=i(t,["topP"]);l!=null&&a(r,["topP"],l);const u=i(t,["topK"]);u!=null&&a(r,["topK"],u);const d=i(t,["candidateCount"]);d!=null&&a(r,["candidateCount"],d);const f=i(t,["maxOutputTokens"]);f!=null&&a(r,["maxOutputTokens"],f);const p=i(t,["stopSequences"]);p!=null&&a(r,["stopSequences"],p);const m=i(t,["responseLogprobs"]);m!=null&&a(r,["responseLogprobs"],m);const h=i(t,["logprobs"]);h!=null&&a(r,["logprobs"],h);const g=i(t,["presencePenalty"]);g!=null&&a(r,["presencePenalty"],g);const E=i(t,["frequencyPenalty"]);E!=null&&a(r,["frequencyPenalty"],E);const C=i(t,["seed"]);C!=null&&a(r,["seed"],C);const P=i(t,["responseMimeType"]);P!=null&&a(r,["responseMimeType"],P);const x=i(t,["responseSchema"]);x!=null&&a(r,["responseSchema"],xa(x));const y=i(t,["responseJsonSchema"]);if(y!=null&&a(r,["responseJsonSchema"],y),i(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(i(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=i(t,["safetySettings"]);if(n!==void 0&&v!=null){let N=v;Array.isArray(N)&&(N=N.map($=>nx($))),a(n,["safetySettings"],N)}const w=i(t,["tools"]);if(n!==void 0&&w!=null){let N=ir(w);Array.isArray(N)&&(N=N.map($=>ox(sr($)))),a(n,["tools"],N)}const k=i(t,["toolConfig"]);if(n!==void 0&&k!=null&&a(n,["toolConfig"],rx(k)),i(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=i(t,["cachedContent"]);n!==void 0&&I!=null&&a(n,["cachedContent"],Vt(e,I));const _=i(t,["responseModalities"]);_!=null&&a(r,["responseModalities"],_);const S=i(t,["mediaResolution"]);S!=null&&a(r,["mediaResolution"],S);const M=i(t,["speechConfig"]);if(M!=null&&a(r,["speechConfig"],va(M)),i(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const b=i(t,["thinkingConfig"]);b!=null&&a(r,["thinkingConfig"],b);const H=i(t,["imageConfig"]);return H!=null&&a(r,["imageConfig"],Oy(H)),r}function Hy(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>wy(f))),a(t,["candidates"],d)}const o=i(e,["modelVersion"]);o!=null&&a(t,["modelVersion"],o);const s=i(e,["promptFeedback"]);s!=null&&a(t,["promptFeedback"],s);const l=i(e,["responseId"]);l!=null&&a(t,["responseId"],l);const u=i(e,["usageMetadata"]);return u!=null&&a(t,["usageMetadata"],u),t}function By(e,t){const n={},r=i(t,["name"]);return r!=null&&a(n,["_url","name"],lr(e,r)),n}function zy(e,t){const n={},r=i(t,["name"]);return r!=null&&a(n,["_url","name"],lr(e,r)),n}function $y(e){const t={};if(i(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=i(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function Jy(e){const t={};if(i(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(i(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=i(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function Oy(e){const t={},n=i(e,["aspectRatio"]);n!=null&&a(t,["aspectRatio"],n);const r=i(e,["imageSize"]);if(r!=null&&a(t,["imageSize"],r),i(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(i(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Wy(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["request","model"],Q(e,r));const o=i(t,["contents"]);if(o!=null){let u=it(o);Array.isArray(u)&&(u=u.map(d=>Yp(d))),a(n,["request","contents"],u)}const s=i(t,["metadata"]);s!=null&&a(n,["metadata"],s);const l=i(t,["config"]);return l!=null&&a(n,["request","generationConfig"],qy(e,l,i(n,["request"],{}))),n}function Yy(e){const t={},n=i(e,["response"]);n!=null&&a(t,["response"],Hy(n));const r=i(e,["error"]);return r!=null&&a(t,["error"],r),t}function Ky(e,t){const n={},r=i(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const o=i(e,["pageToken"]);if(t!==void 0&&o!=null&&a(t,["_query","pageToken"],o),i(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function jy(e,t){const n={},r=i(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const o=i(e,["pageToken"]);t!==void 0&&o!=null&&a(t,["_query","pageToken"],o);const s=i(e,["filter"]);return t!==void 0&&s!=null&&a(t,["_query","filter"],s),n}function Qy(e){const t={},n=i(e,["config"]);return n!=null&&Ky(n,t),t}function Xy(e){const t={},n=i(e,["config"]);return n!=null&&jy(n,t),t}function Zy(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const o=i(e,["operations"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>Vo(l))),a(t,["batchJobs"],s)}return t}function ex(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const o=i(e,["batchPredictionJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>dl(l))),a(t,["batchJobs"],s)}return t}function tx(e){const t={},n=i(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const r=i(e,["codeExecutionResult"]);r!=null&&a(t,["codeExecutionResult"],r);const o=i(e,["executableCode"]);o!=null&&a(t,["executableCode"],o);const s=i(e,["fileData"]);s!=null&&a(t,["fileData"],Fy(s));const l=i(e,["functionCall"]);l!=null&&a(t,["functionCall"],Vy(l));const u=i(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const d=i(e,["inlineData"]);d!=null&&a(t,["inlineData"],Ey(d));const f=i(e,["text"]);f!=null&&a(t,["text"],f);const p=i(e,["thought"]);p!=null&&a(t,["thought"],p);const m=i(e,["thoughtSignature"]);m!=null&&a(t,["thoughtSignature"],m);const h=i(e,["videoMetadata"]);return h!=null&&a(t,["videoMetadata"],h),t}function nx(e){const t={},n=i(e,["category"]);if(n!=null&&a(t,["category"],n),i(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=i(e,["threshold"]);return r!=null&&a(t,["threshold"],r),t}function rx(e){const t={},n=i(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],Gy(n));const r=i(e,["retrievalConfig"]);return r!=null&&a(t,["retrievalConfig"],r),t}function ox(e){const t={},n=i(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>m)),a(t,["functionDeclarations"],p)}if(i(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=i(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const o=i(e,["computerUse"]);o!=null&&a(t,["computerUse"],o);const s=i(e,["fileSearch"]);s!=null&&a(t,["fileSearch"],s);const l=i(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),i(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=i(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],$y(u));const d=i(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],Jy(d));const f=i(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Lt;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Lt||(Lt={}));class Sn{constructor(t,n,r,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,o)}init(t,n,r){var o,s;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(s=(o=l.config)===null||o===void 0?void 0:o.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sx extends Ft{constructor(t){super(),this.apiClient=t,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new Sn(Lt.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(t){const n=Wd(this.apiClient,t),r=n._url,o=U("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,d=u.requests,f=[];for(const p of d){const m=Object.assign({},p);if(m.systemInstruction){const h=m.systemInstruction;delete m.systemInstruction;const g=m.request;g.systemInstruction=h,m.request=g}f.push(m)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},o=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${o}`),r.dest===void 0){const s=this.getGcsUri(t),l=this.getBigqueryUri(t);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${o}`;else if(l)r.dest=`${l}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=_y(this.apiClient,t);return u=U("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>dl(p))}else{const f=Wd(this.apiClient,t);return u=U("{model}:batchGenerateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>Vo(p))}}async createEmbeddingsInternal(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Ay(this.apiClient,t);return s=U("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>Vo(d))}}async get(t){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=zy(this.apiClient,t);return u=U("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>dl(p))}else{const f=By(this.apiClient,t);return u=U("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>Vo(p))}}async cancel(t){var n,r,o,s;let l="",u={};if(this.apiClient.isVertexAI()){const d=Sy(this.apiClient,t);l=U("batchPredictionJobs/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const d=Cy(this.apiClient,t);l=U("batches/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Xy(t);return u=U("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=ex(p),h=new zd;return Object.assign(h,m),h})}else{const f=Qy(t);return u=U("batches",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=Zy(p),h=new zd;return Object.assign(h,m),h})}}async delete(t){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Py(this.apiClient,t);return u=U("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>Dy(p))}else{const f=Ry(this.apiClient,t);return u=U("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>My(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ix(e){const t={},n=i(e,["data"]);if(n!=null&&a(t,["data"],n),i(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=i(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function Yd(e){const t={},n=i(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Ax(s))),a(t,["parts"],o)}const r=i(e,["role"]);return r!=null&&a(t,["role"],r),t}function lx(e,t){const n={},r=i(e,["ttl"]);t!==void 0&&r!=null&&a(t,["ttl"],r);const o=i(e,["expireTime"]);t!==void 0&&o!=null&&a(t,["expireTime"],o);const s=i(e,["displayName"]);t!==void 0&&s!=null&&a(t,["displayName"],s);const l=i(e,["contents"]);if(t!==void 0&&l!=null){let p=it(l);Array.isArray(p)&&(p=p.map(m=>Yd(m))),a(t,["contents"],p)}const u=i(e,["systemInstruction"]);t!==void 0&&u!=null&&a(t,["systemInstruction"],Yd(Me(u)));const d=i(e,["tools"]);if(t!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(m=>Px(m))),a(t,["tools"],p)}const f=i(e,["toolConfig"]);if(t!==void 0&&f!=null&&a(t,["toolConfig"],Rx(f)),i(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function ax(e,t){const n={},r=i(e,["ttl"]);t!==void 0&&r!=null&&a(t,["ttl"],r);const o=i(e,["expireTime"]);t!==void 0&&o!=null&&a(t,["expireTime"],o);const s=i(e,["displayName"]);t!==void 0&&s!=null&&a(t,["displayName"],s);const l=i(e,["contents"]);if(t!==void 0&&l!=null){let m=it(l);Array.isArray(m)&&(m=m.map(h=>h)),a(t,["contents"],m)}const u=i(e,["systemInstruction"]);t!==void 0&&u!=null&&a(t,["systemInstruction"],Me(u));const d=i(e,["tools"]);if(t!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(h=>Mx(h))),a(t,["tools"],m)}const f=i(e,["toolConfig"]);t!==void 0&&f!=null&&a(t,["toolConfig"],f);const p=i(e,["kmsKeyName"]);return t!==void 0&&p!=null&&a(t,["encryption_spec","kmsKeyName"],p),n}function ux(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["model"],Up(e,r));const o=i(t,["config"]);return o!=null&&lx(o,n),n}function dx(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["model"],Up(e,r));const o=i(t,["config"]);return o!=null&&ax(o,n),n}function cx(e,t){const n={},r=i(t,["name"]);return r!=null&&a(n,["_url","name"],Vt(e,r)),n}function fx(e,t){const n={},r=i(t,["name"]);return r!=null&&a(n,["_url","name"],Vt(e,r)),n}function px(e){const t={},n=i(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function mx(e){const t={},n=i(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function hx(e){const t={};if(i(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=i(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const r=i(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function gx(e){const t={},n=i(e,["id"]);n!=null&&a(t,["id"],n);const r=i(e,["args"]);r!=null&&a(t,["args"],r);const o=i(e,["name"]);if(o!=null&&a(t,["name"],o),i(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(i(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function yx(e){const t={},n=i(e,["mode"]);n!=null&&a(t,["mode"],n);const r=i(e,["allowedFunctionNames"]);if(r!=null&&a(t,["allowedFunctionNames"],r),i(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function xx(e){const t={};if(i(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=i(e,["description"]);n!=null&&a(t,["description"],n);const r=i(e,["name"]);r!=null&&a(t,["name"],r);const o=i(e,["parameters"]);o!=null&&a(t,["parameters"],o);const s=i(e,["parametersJsonSchema"]);s!=null&&a(t,["parametersJsonSchema"],s);const l=i(e,["response"]);l!=null&&a(t,["response"],l);const u=i(e,["responseJsonSchema"]);return u!=null&&a(t,["responseJsonSchema"],u),t}function vx(e,t){const n={},r=i(t,["name"]);return r!=null&&a(n,["_url","name"],Vt(e,r)),n}function Ex(e,t){const n={},r=i(t,["name"]);return r!=null&&a(n,["_url","name"],Vt(e,r)),n}function Cx(e){const t={};if(i(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=i(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function Sx(e){const t={};if(i(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(i(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=i(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function wx(e,t){const n={},r=i(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const o=i(e,["pageToken"]);return t!==void 0&&o!=null&&a(t,["_query","pageToken"],o),n}function Tx(e,t){const n={},r=i(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const o=i(e,["pageToken"]);return t!==void 0&&o!=null&&a(t,["_query","pageToken"],o),n}function Nx(e){const t={},n=i(e,["config"]);return n!=null&&wx(n,t),t}function kx(e){const t={},n=i(e,["config"]);return n!=null&&Tx(n,t),t}function _x(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const o=i(e,["cachedContents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),a(t,["cachedContents"],s)}return t}function Ix(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const o=i(e,["cachedContents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),a(t,["cachedContents"],s)}return t}function Ax(e){const t={},n=i(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const r=i(e,["codeExecutionResult"]);r!=null&&a(t,["codeExecutionResult"],r);const o=i(e,["executableCode"]);o!=null&&a(t,["executableCode"],o);const s=i(e,["fileData"]);s!=null&&a(t,["fileData"],hx(s));const l=i(e,["functionCall"]);l!=null&&a(t,["functionCall"],gx(l));const u=i(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const d=i(e,["inlineData"]);d!=null&&a(t,["inlineData"],ix(d));const f=i(e,["text"]);f!=null&&a(t,["text"],f);const p=i(e,["thought"]);p!=null&&a(t,["thought"],p);const m=i(e,["thoughtSignature"]);m!=null&&a(t,["thoughtSignature"],m);const h=i(e,["videoMetadata"]);return h!=null&&a(t,["videoMetadata"],h),t}function Rx(e){const t={},n=i(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],yx(n));const r=i(e,["retrievalConfig"]);return r!=null&&a(t,["retrievalConfig"],r),t}function Px(e){const t={},n=i(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>m)),a(t,["functionDeclarations"],p)}if(i(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=i(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const o=i(e,["computerUse"]);o!=null&&a(t,["computerUse"],o);const s=i(e,["fileSearch"]);s!=null&&a(t,["fileSearch"],s);const l=i(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),i(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=i(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],Cx(u));const d=i(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],Sx(d));const f=i(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function Mx(e){const t={},n=i(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(h=>xx(h))),a(t,["functionDeclarations"],m)}const r=i(e,["retrieval"]);r!=null&&a(t,["retrieval"],r);const o=i(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const s=i(e,["computerUse"]);if(s!=null&&a(t,["computerUse"],s),i(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=i(e,["codeExecution"]);l!=null&&a(t,["codeExecution"],l);const u=i(e,["enterpriseWebSearch"]);u!=null&&a(t,["enterpriseWebSearch"],u);const d=i(e,["googleMaps"]);d!=null&&a(t,["googleMaps"],d);const f=i(e,["googleSearch"]);f!=null&&a(t,["googleSearch"],f);const p=i(e,["urlContext"]);return p!=null&&a(t,["urlContext"],p),t}function Dx(e,t){const n={},r=i(e,["ttl"]);t!==void 0&&r!=null&&a(t,["ttl"],r);const o=i(e,["expireTime"]);return t!==void 0&&o!=null&&a(t,["expireTime"],o),n}function bx(e,t){const n={},r=i(e,["ttl"]);t!==void 0&&r!=null&&a(t,["ttl"],r);const o=i(e,["expireTime"]);return t!==void 0&&o!=null&&a(t,["expireTime"],o),n}function Lx(e,t){const n={},r=i(t,["name"]);r!=null&&a(n,["_url","name"],Vt(e,r));const o=i(t,["config"]);return o!=null&&Dx(o,n),n}function Ux(e,t){const n={},r=i(t,["name"]);r!=null&&a(n,["_url","name"],Vt(e,r));const o=i(t,["config"]);return o!=null&&bx(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fx extends Ft{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Sn(Lt.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=dx(this.apiClient,t);return u=U("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const f=ux(this.apiClient,t);return u=U("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async get(t){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Ex(this.apiClient,t);return u=U("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const f=vx(this.apiClient,t);return u=U("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async delete(t){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=fx(this.apiClient,t);return u=U("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=mx(p),h=new Hd;return Object.assign(h,m),h})}else{const f=cx(this.apiClient,t);return u=U("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=px(p),h=new Hd;return Object.assign(h,m),h})}}async update(t){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Ux(this.apiClient,t);return u=U("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const f=Lx(this.apiClient,t);return u=U("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async listInternal(t){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=kx(t);return u=U("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=Ix(p),h=new Bd;return Object.assign(h,m),h})}else{const f=Nx(t);return u=U("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=_x(p),h=new Bd;return Object.assign(h,m),h})}}}function Kd(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function re(e){return this instanceof re?(this.v=e,this):new re(e)}function On(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),o[Symbol.asyncIterator]=function(){return this},o;function l(g){return function(E){return Promise.resolve(E).then(g,m)}}function u(g,E){r[g]&&(o[g]=function(C){return new Promise(function(P,x){s.push([g,C,P,x])>1||d(g,C)})},E&&(o[g]=E(o[g])))}function d(g,E){try{f(r[g](E))}catch(C){h(s[0][3],C)}}function f(g){g.value instanceof re?Promise.resolve(g.value.v).then(p,m):h(s[0][2],g)}function p(g){d("next",g)}function m(g){d("throw",g)}function h(g,E){g(E),s.shift(),s.length&&d(s[0][0],s[0][1])}}function Dr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Kd=="function"?Kd(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(l){return new Promise(function(u,d){l=e[s](l),o(u,d,l.done,l.value)})}}function o(s,l,u,d){Promise.resolve(d).then(function(f){s({value:f,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vx(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:Kp(n)}function Kp(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function Gx(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function jd(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const o=[];let s=!0;for(;r<n&&e[r].role==="model";)o.push(e[r]),s&&!Kp(e[r])&&(s=!1),r++;s?t.push(...o):t.pop()}return t}class qx{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new Hx(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class Hx{constructor(t,n,r,o={},s=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=o,this.history=s,this.sendPromise=Promise.resolve(),Gx(s)}async sendMessage(t){var n;await this.sendPromise;const r=Me(t.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,l,u;const d=await o,f=(l=(s=d.candidates)===null||s===void 0?void 0:s[0])===null||l===void 0?void 0:l.content,p=d.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let h=[];p!=null&&(h=(u=p.slice(m))!==null&&u!==void 0?u:[]);const g=f?[f]:[];this.recordHistory(r,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(t){var n;await this.sendPromise;const r=Me(t.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const s=await o;return this.processStreamResponse(s,r)}getHistory(t=!1){const n=t?jd(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var r,o;return On(this,arguments,function*(){var l,u,d,f;const p=[];try{for(var m=!0,h=Dr(t),g;g=yield re(h.next()),l=g.done,!l;m=!0){f=g.value,m=!1;const E=f;if(Vx(E)){const C=(o=(r=E.candidates)===null||r===void 0?void 0:r[0])===null||o===void 0?void 0:o.content;C!==void 0&&p.push(C)}yield yield re(E)}}catch(E){u={error:E}}finally{try{!m&&!l&&(d=h.return)&&(yield re(d.call(h)))}finally{if(u)throw u.error}}this.recordHistory(n,p)})}recordHistory(t,n,r){let o=[];n.length>0&&n.every(s=>s.role!==void 0)?o=n:o.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...jd(r)):this.history.push(t),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ps extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Ps.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bx(e){const t={},n=i(e,["file"]);return n!=null&&a(t,["file"],n),t}function zx(e){const t={},n=i(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function $x(e){const t={},n=i(e,["name"]);return n!=null&&a(t,["_url","file"],Bp(n)),t}function Jx(e){const t={},n=i(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function Ox(e){const t={},n=i(e,["name"]);return n!=null&&a(t,["_url","file"],Bp(n)),t}function Wx(e,t){const n={},r=i(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const o=i(e,["pageToken"]);return t!==void 0&&o!=null&&a(t,["_query","pageToken"],o),n}function Yx(e){const t={},n=i(e,["config"]);return n!=null&&Wx(n,t),t}function Kx(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const o=i(e,["files"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),a(t,["files"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jx extends Ft{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Sn(Lt.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Yx(t);return s=U("files",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const f=Kx(d),p=new ey;return Object.assign(p,f),p})}}async createInternal(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Bx(t);return s=U("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const f=zx(d),p=new ty;return Object.assign(p,f),p})}}async get(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Ox(t);return s=U("files/{file}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=$x(t);return s=U("files/{file}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const f=Jx(d),p=new ny;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Go(e){const t={},n=i(e,["data"]);if(n!=null&&a(t,["data"],n),i(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=i(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function Qx(e){const t={},n=i(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>pv(s))),a(t,["parts"],o)}const r=i(e,["role"]);return r!=null&&a(t,["role"],r),t}function Xx(e){const t={};if(i(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=i(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const r=i(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function Zx(e){const t={},n=i(e,["id"]);n!=null&&a(t,["id"],n);const r=i(e,["args"]);r!=null&&a(t,["args"],r);const o=i(e,["name"]);if(o!=null&&a(t,["name"],o),i(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(i(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function ev(e){const t={};if(i(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=i(e,["description"]);n!=null&&a(t,["description"],n);const r=i(e,["name"]);r!=null&&a(t,["name"],r);const o=i(e,["parameters"]);o!=null&&a(t,["parameters"],o);const s=i(e,["parametersJsonSchema"]);s!=null&&a(t,["parametersJsonSchema"],s);const l=i(e,["response"]);l!=null&&a(t,["response"],l);const u=i(e,["responseJsonSchema"]);return u!=null&&a(t,["responseJsonSchema"],u),t}function tv(e){const t={},n=i(e,["modelSelectionConfig"]);n!=null&&a(t,["modelConfig"],n);const r=i(e,["responseJsonSchema"]);r!=null&&a(t,["responseJsonSchema"],r);const o=i(e,["audioTimestamp"]);o!=null&&a(t,["audioTimestamp"],o);const s=i(e,["candidateCount"]);s!=null&&a(t,["candidateCount"],s);const l=i(e,["enableAffectiveDialog"]);l!=null&&a(t,["enableAffectiveDialog"],l);const u=i(e,["frequencyPenalty"]);u!=null&&a(t,["frequencyPenalty"],u);const d=i(e,["logprobs"]);d!=null&&a(t,["logprobs"],d);const f=i(e,["maxOutputTokens"]);f!=null&&a(t,["maxOutputTokens"],f);const p=i(e,["mediaResolution"]);p!=null&&a(t,["mediaResolution"],p);const m=i(e,["presencePenalty"]);m!=null&&a(t,["presencePenalty"],m);const h=i(e,["responseLogprobs"]);h!=null&&a(t,["responseLogprobs"],h);const g=i(e,["responseMimeType"]);g!=null&&a(t,["responseMimeType"],g);const E=i(e,["responseModalities"]);E!=null&&a(t,["responseModalities"],E);const C=i(e,["responseSchema"]);C!=null&&a(t,["responseSchema"],C);const P=i(e,["routingConfig"]);P!=null&&a(t,["routingConfig"],P);const x=i(e,["seed"]);x!=null&&a(t,["seed"],x);const y=i(e,["speechConfig"]);y!=null&&a(t,["speechConfig"],jp(y));const v=i(e,["stopSequences"]);v!=null&&a(t,["stopSequences"],v);const w=i(e,["temperature"]);w!=null&&a(t,["temperature"],w);const k=i(e,["thinkingConfig"]);k!=null&&a(t,["thinkingConfig"],k);const I=i(e,["topK"]);I!=null&&a(t,["topK"],I);const _=i(e,["topP"]);if(_!=null&&a(t,["topP"],_),i(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function nv(e){const t={};if(i(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=i(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function rv(e){const t={};if(i(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(i(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=i(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function ov(e,t){const n={},r=i(e,["generationConfig"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig"],r);const o=i(e,["responseModalities"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig","responseModalities"],o);const s=i(e,["temperature"]);t!==void 0&&s!=null&&a(t,["setup","generationConfig","temperature"],s);const l=i(e,["topP"]);t!==void 0&&l!=null&&a(t,["setup","generationConfig","topP"],l);const u=i(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const d=i(e,["maxOutputTokens"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","maxOutputTokens"],d);const f=i(e,["mediaResolution"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","mediaResolution"],f);const p=i(e,["seed"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","seed"],p);const m=i(e,["speechConfig"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","speechConfig"],Ea(m));const h=i(e,["thinkingConfig"]);t!==void 0&&h!=null&&a(t,["setup","generationConfig","thinkingConfig"],h);const g=i(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],g);const E=i(e,["systemInstruction"]);t!==void 0&&E!=null&&a(t,["setup","systemInstruction"],Qx(Me(E)));const C=i(e,["tools"]);if(t!==void 0&&C!=null){let I=ir(C);Array.isArray(I)&&(I=I.map(_=>hv(sr(_)))),a(t,["setup","tools"],I)}const P=i(e,["sessionResumption"]);t!==void 0&&P!=null&&a(t,["setup","sessionResumption"],mv(P));const x=i(e,["inputAudioTranscription"]);t!==void 0&&x!=null&&a(t,["setup","inputAudioTranscription"],x);const y=i(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&a(t,["setup","outputAudioTranscription"],y);const v=i(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&a(t,["setup","realtimeInputConfig"],v);const w=i(e,["contextWindowCompression"]);t!==void 0&&w!=null&&a(t,["setup","contextWindowCompression"],w);const k=i(e,["proactivity"]);return t!==void 0&&k!=null&&a(t,["setup","proactivity"],k),n}function sv(e,t){const n={},r=i(e,["generationConfig"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig"],tv(r));const o=i(e,["responseModalities"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig","responseModalities"],o);const s=i(e,["temperature"]);t!==void 0&&s!=null&&a(t,["setup","generationConfig","temperature"],s);const l=i(e,["topP"]);t!==void 0&&l!=null&&a(t,["setup","generationConfig","topP"],l);const u=i(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const d=i(e,["maxOutputTokens"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","maxOutputTokens"],d);const f=i(e,["mediaResolution"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","mediaResolution"],f);const p=i(e,["seed"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","seed"],p);const m=i(e,["speechConfig"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","speechConfig"],jp(Ea(m)));const h=i(e,["thinkingConfig"]);t!==void 0&&h!=null&&a(t,["setup","generationConfig","thinkingConfig"],h);const g=i(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],g);const E=i(e,["systemInstruction"]);t!==void 0&&E!=null&&a(t,["setup","systemInstruction"],Me(E));const C=i(e,["tools"]);if(t!==void 0&&C!=null){let I=ir(C);Array.isArray(I)&&(I=I.map(_=>gv(sr(_)))),a(t,["setup","tools"],I)}const P=i(e,["sessionResumption"]);t!==void 0&&P!=null&&a(t,["setup","sessionResumption"],P);const x=i(e,["inputAudioTranscription"]);t!==void 0&&x!=null&&a(t,["setup","inputAudioTranscription"],x);const y=i(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&a(t,["setup","outputAudioTranscription"],y);const v=i(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&a(t,["setup","realtimeInputConfig"],v);const w=i(e,["contextWindowCompression"]);t!==void 0&&w!=null&&a(t,["setup","contextWindowCompression"],w);const k=i(e,["proactivity"]);return t!==void 0&&k!=null&&a(t,["setup","proactivity"],k),n}function iv(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["setup","model"],Q(e,r));const o=i(t,["config"]);return o!=null&&a(n,["config"],ov(o,n)),n}function lv(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["setup","model"],Q(e,r));const o=i(t,["config"]);return o!=null&&a(n,["config"],sv(o,n)),n}function av(e){const t={},n=i(e,["musicGenerationConfig"]);return n!=null&&a(t,["musicGenerationConfig"],n),t}function uv(e){const t={},n=i(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),a(t,["weightedPrompts"],r)}return t}function dv(e){const t={},n=i(e,["media"]);if(n!=null){let f=Fp(n);Array.isArray(f)&&(f=f.map(p=>Go(p))),a(t,["mediaChunks"],f)}const r=i(e,["audio"]);r!=null&&a(t,["audio"],Go(Gp(r)));const o=i(e,["audioStreamEnd"]);o!=null&&a(t,["audioStreamEnd"],o);const s=i(e,["video"]);s!=null&&a(t,["video"],Go(Vp(s)));const l=i(e,["text"]);l!=null&&a(t,["text"],l);const u=i(e,["activityStart"]);u!=null&&a(t,["activityStart"],u);const d=i(e,["activityEnd"]);return d!=null&&a(t,["activityEnd"],d),t}function cv(e){const t={},n=i(e,["media"]);if(n!=null){let f=Fp(n);Array.isArray(f)&&(f=f.map(p=>p)),a(t,["mediaChunks"],f)}const r=i(e,["audio"]);r!=null&&a(t,["audio"],Gp(r));const o=i(e,["audioStreamEnd"]);o!=null&&a(t,["audioStreamEnd"],o);const s=i(e,["video"]);s!=null&&a(t,["video"],Vp(s));const l=i(e,["text"]);l!=null&&a(t,["text"],l);const u=i(e,["activityStart"]);u!=null&&a(t,["activityStart"],u);const d=i(e,["activityEnd"]);return d!=null&&a(t,["activityEnd"],d),t}function fv(e){const t={},n=i(e,["setupComplete"]);n!=null&&a(t,["setupComplete"],n);const r=i(e,["serverContent"]);r!=null&&a(t,["serverContent"],r);const o=i(e,["toolCall"]);o!=null&&a(t,["toolCall"],o);const s=i(e,["toolCallCancellation"]);s!=null&&a(t,["toolCallCancellation"],s);const l=i(e,["usageMetadata"]);l!=null&&a(t,["usageMetadata"],yv(l));const u=i(e,["goAway"]);u!=null&&a(t,["goAway"],u);const d=i(e,["sessionResumptionUpdate"]);return d!=null&&a(t,["sessionResumptionUpdate"],d),t}function pv(e){const t={},n=i(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const r=i(e,["codeExecutionResult"]);r!=null&&a(t,["codeExecutionResult"],r);const o=i(e,["executableCode"]);o!=null&&a(t,["executableCode"],o);const s=i(e,["fileData"]);s!=null&&a(t,["fileData"],Xx(s));const l=i(e,["functionCall"]);l!=null&&a(t,["functionCall"],Zx(l));const u=i(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const d=i(e,["inlineData"]);d!=null&&a(t,["inlineData"],Go(d));const f=i(e,["text"]);f!=null&&a(t,["text"],f);const p=i(e,["thought"]);p!=null&&a(t,["thought"],p);const m=i(e,["thoughtSignature"]);m!=null&&a(t,["thoughtSignature"],m);const h=i(e,["videoMetadata"]);return h!=null&&a(t,["videoMetadata"],h),t}function mv(e){const t={},n=i(e,["handle"]);if(n!=null&&a(t,["handle"],n),i(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function jp(e){const t={},n=i(e,["languageCode"]);n!=null&&a(t,["languageCode"],n);const r=i(e,["voiceConfig"]);if(r!=null&&a(t,["voiceConfig"],r),i(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function hv(e){const t={},n=i(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>m)),a(t,["functionDeclarations"],p)}if(i(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=i(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const o=i(e,["computerUse"]);o!=null&&a(t,["computerUse"],o);const s=i(e,["fileSearch"]);s!=null&&a(t,["fileSearch"],s);const l=i(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),i(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=i(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],nv(u));const d=i(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],rv(d));const f=i(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function gv(e){const t={},n=i(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(h=>ev(h))),a(t,["functionDeclarations"],m)}const r=i(e,["retrieval"]);r!=null&&a(t,["retrieval"],r);const o=i(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const s=i(e,["computerUse"]);if(s!=null&&a(t,["computerUse"],s),i(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=i(e,["codeExecution"]);l!=null&&a(t,["codeExecution"],l);const u=i(e,["enterpriseWebSearch"]);u!=null&&a(t,["enterpriseWebSearch"],u);const d=i(e,["googleMaps"]);d!=null&&a(t,["googleMaps"],d);const f=i(e,["googleSearch"]);f!=null&&a(t,["googleSearch"],f);const p=i(e,["urlContext"]);return p!=null&&a(t,["urlContext"],p),t}function yv(e){const t={},n=i(e,["promptTokenCount"]);n!=null&&a(t,["promptTokenCount"],n);const r=i(e,["cachedContentTokenCount"]);r!=null&&a(t,["cachedContentTokenCount"],r);const o=i(e,["candidatesTokenCount"]);o!=null&&a(t,["responseTokenCount"],o);const s=i(e,["toolUsePromptTokenCount"]);s!=null&&a(t,["toolUsePromptTokenCount"],s);const l=i(e,["thoughtsTokenCount"]);l!=null&&a(t,["thoughtsTokenCount"],l);const u=i(e,["totalTokenCount"]);u!=null&&a(t,["totalTokenCount"],u);const d=i(e,["promptTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(E=>E)),a(t,["promptTokensDetails"],g)}const f=i(e,["cacheTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(E=>E)),a(t,["cacheTokensDetails"],g)}const p=i(e,["candidatesTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(E=>E)),a(t,["responseTokensDetails"],g)}const m=i(e,["toolUsePromptTokensDetails"]);if(m!=null){let g=m;Array.isArray(g)&&(g=g.map(E=>E)),a(t,["toolUsePromptTokensDetails"],g)}const h=i(e,["trafficType"]);return h!=null&&a(t,["trafficType"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xv(e){const t={},n=i(e,["data"]);if(n!=null&&a(t,["data"],n),i(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=i(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function vv(e){const t={},n=i(e,["content"]);n!=null&&a(t,["content"],n);const r=i(e,["citationMetadata"]);r!=null&&a(t,["citationMetadata"],Ev(r));const o=i(e,["tokenCount"]);o!=null&&a(t,["tokenCount"],o);const s=i(e,["finishReason"]);s!=null&&a(t,["finishReason"],s);const l=i(e,["avgLogprobs"]);l!=null&&a(t,["avgLogprobs"],l);const u=i(e,["groundingMetadata"]);u!=null&&a(t,["groundingMetadata"],u);const d=i(e,["index"]);d!=null&&a(t,["index"],d);const f=i(e,["logprobsResult"]);f!=null&&a(t,["logprobsResult"],f);const p=i(e,["safetyRatings"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>g)),a(t,["safetyRatings"],h)}const m=i(e,["urlContextMetadata"]);return m!=null&&a(t,["urlContextMetadata"],m),t}function Ev(e){const t={},n=i(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),a(t,["citations"],r)}return t}function Cv(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["contents"]);if(o!=null){let s=it(o);Array.isArray(s)&&(s=s.map(l=>l)),a(n,["contents"],s)}return n}function Sv(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["tokensInfo"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),a(t,["tokensInfo"],o)}return t}function wv(e){const t={},n=i(e,["values"]);n!=null&&a(t,["values"],n);const r=i(e,["statistics"]);return r!=null&&a(t,["statistics"],Tv(r)),t}function Tv(e){const t={},n=i(e,["truncated"]);n!=null&&a(t,["truncated"],n);const r=i(e,["token_count"]);return r!=null&&a(t,["tokenCount"],r),t}function Ms(e){const t={},n=i(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>DE(s))),a(t,["parts"],o)}const r=i(e,["role"]);return r!=null&&a(t,["role"],r),t}function Nv(e){const t={},n=i(e,["controlType"]);n!=null&&a(t,["controlType"],n);const r=i(e,["enableControlImageComputation"]);return r!=null&&a(t,["computeControl"],r),t}function kv(e){const t={};if(i(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(i(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(i(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function _v(e,t){const n={},r=i(e,["systemInstruction"]);t!==void 0&&r!=null&&a(t,["systemInstruction"],Me(r));const o=i(e,["tools"]);if(t!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>tm(u))),a(t,["tools"],l)}const s=i(e,["generationConfig"]);return t!==void 0&&s!=null&&a(t,["generationConfig"],xE(s)),n}function Iv(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["contents"]);if(o!=null){let l=it(o);Array.isArray(l)&&(l=l.map(u=>Ms(u))),a(n,["contents"],l)}const s=i(t,["config"]);return s!=null&&kv(s),n}function Av(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["contents"]);if(o!=null){let l=it(o);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const s=i(t,["config"]);return s!=null&&_v(s,n),n}function Rv(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["totalTokens"]);r!=null&&a(t,["totalTokens"],r);const o=i(e,["cachedContentTokenCount"]);return o!=null&&a(t,["cachedContentTokenCount"],o),t}function Pv(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["totalTokens"]);return r!=null&&a(t,["totalTokens"],r),t}function Mv(e,t){const n={},r=i(t,["model"]);return r!=null&&a(n,["_url","name"],Q(e,r)),n}function Dv(e,t){const n={},r=i(t,["model"]);return r!=null&&a(n,["_url","name"],Q(e,r)),n}function bv(e){const t={},n=i(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function Lv(e){const t={},n=i(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function Uv(e,t){const n={},r=i(e,["outputGcsUri"]);t!==void 0&&r!=null&&a(t,["parameters","storageUri"],r);const o=i(e,["negativePrompt"]);t!==void 0&&o!=null&&a(t,["parameters","negativePrompt"],o);const s=i(e,["numberOfImages"]);t!==void 0&&s!=null&&a(t,["parameters","sampleCount"],s);const l=i(e,["aspectRatio"]);t!==void 0&&l!=null&&a(t,["parameters","aspectRatio"],l);const u=i(e,["guidanceScale"]);t!==void 0&&u!=null&&a(t,["parameters","guidanceScale"],u);const d=i(e,["seed"]);t!==void 0&&d!=null&&a(t,["parameters","seed"],d);const f=i(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&a(t,["parameters","safetySetting"],f);const p=i(e,["personGeneration"]);t!==void 0&&p!=null&&a(t,["parameters","personGeneration"],p);const m=i(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&a(t,["parameters","includeSafetyAttributes"],m);const h=i(e,["includeRaiReason"]);t!==void 0&&h!=null&&a(t,["parameters","includeRaiReason"],h);const g=i(e,["language"]);t!==void 0&&g!=null&&a(t,["parameters","language"],g);const E=i(e,["outputMimeType"]);t!==void 0&&E!=null&&a(t,["parameters","outputOptions","mimeType"],E);const C=i(e,["outputCompressionQuality"]);t!==void 0&&C!=null&&a(t,["parameters","outputOptions","compressionQuality"],C);const P=i(e,["addWatermark"]);t!==void 0&&P!=null&&a(t,["parameters","addWatermark"],P);const x=i(e,["labels"]);t!==void 0&&x!=null&&a(t,["labels"],x);const y=i(e,["editMode"]);t!==void 0&&y!=null&&a(t,["parameters","editMode"],y);const v=i(e,["baseSteps"]);return t!==void 0&&v!=null&&a(t,["parameters","editConfig","baseSteps"],v),n}function Fv(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const s=i(t,["referenceImages"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>GE(d))),a(n,["instances[0]","referenceImages"],u)}const l=i(t,["config"]);return l!=null&&Uv(l,n),n}function Vv(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Ds(s))),a(t,["generatedImages"],o)}return t}function Gv(e,t){const n={},r=i(e,["taskType"]);t!==void 0&&r!=null&&a(t,["requests[]","taskType"],r);const o=i(e,["title"]);t!==void 0&&o!=null&&a(t,["requests[]","title"],o);const s=i(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&a(t,["requests[]","outputDimensionality"],s),i(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(i(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function qv(e,t){const n={},r=i(e,["taskType"]);t!==void 0&&r!=null&&a(t,["instances[]","task_type"],r);const o=i(e,["title"]);t!==void 0&&o!=null&&a(t,["instances[]","title"],o);const s=i(e,["outputDimensionality"]);t!==void 0&&s!=null&&a(t,["parameters","outputDimensionality"],s);const l=i(e,["mimeType"]);t!==void 0&&l!=null&&a(t,["instances[]","mimeType"],l);const u=i(e,["autoTruncate"]);return t!==void 0&&u!=null&&a(t,["parameters","autoTruncate"],u),n}function Hv(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["contents"]);if(o!=null){let u=ya(e,o);Array.isArray(u)&&(u=u.map(d=>d)),a(n,["requests[]","content"],u)}const s=i(t,["config"]);s!=null&&Gv(s,n);const l=i(t,["model"]);return l!==void 0&&a(n,["requests[]","model"],Q(e,l)),n}function Bv(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["contents"]);if(o!=null){let l=ya(e,o);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["instances[]","content"],l)}const s=i(t,["config"]);return s!=null&&qv(s,n),n}function zv(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>l)),a(t,["embeddings"],s)}const o=i(e,["metadata"]);return o!=null&&a(t,["metadata"],o),t}function $v(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>wv(l))),a(t,["embeddings"],s)}const o=i(e,["metadata"]);return o!=null&&a(t,["metadata"],o),t}function Jv(e){const t={},n=i(e,["endpoint"]);n!=null&&a(t,["name"],n);const r=i(e,["deployedModelId"]);return r!=null&&a(t,["deployedModelId"],r),t}function Ov(e){const t={};if(i(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=i(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const r=i(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function Wv(e){const t={},n=i(e,["id"]);n!=null&&a(t,["id"],n);const r=i(e,["args"]);r!=null&&a(t,["args"],r);const o=i(e,["name"]);if(o!=null&&a(t,["name"],o),i(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(i(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Yv(e){const t={},n=i(e,["mode"]);n!=null&&a(t,["mode"],n);const r=i(e,["allowedFunctionNames"]);if(r!=null&&a(t,["allowedFunctionNames"],r),i(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Kv(e){const t={};if(i(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=i(e,["description"]);n!=null&&a(t,["description"],n);const r=i(e,["name"]);r!=null&&a(t,["name"],r);const o=i(e,["parameters"]);o!=null&&a(t,["parameters"],o);const s=i(e,["parametersJsonSchema"]);s!=null&&a(t,["parametersJsonSchema"],s);const l=i(e,["response"]);l!=null&&a(t,["response"],l);const u=i(e,["responseJsonSchema"]);return u!=null&&a(t,["responseJsonSchema"],u),t}function jv(e,t,n){const r={},o=i(t,["systemInstruction"]);n!==void 0&&o!=null&&a(n,["systemInstruction"],Ms(Me(o)));const s=i(t,["temperature"]);s!=null&&a(r,["temperature"],s);const l=i(t,["topP"]);l!=null&&a(r,["topP"],l);const u=i(t,["topK"]);u!=null&&a(r,["topK"],u);const d=i(t,["candidateCount"]);d!=null&&a(r,["candidateCount"],d);const f=i(t,["maxOutputTokens"]);f!=null&&a(r,["maxOutputTokens"],f);const p=i(t,["stopSequences"]);p!=null&&a(r,["stopSequences"],p);const m=i(t,["responseLogprobs"]);m!=null&&a(r,["responseLogprobs"],m);const h=i(t,["logprobs"]);h!=null&&a(r,["logprobs"],h);const g=i(t,["presencePenalty"]);g!=null&&a(r,["presencePenalty"],g);const E=i(t,["frequencyPenalty"]);E!=null&&a(r,["frequencyPenalty"],E);const C=i(t,["seed"]);C!=null&&a(r,["seed"],C);const P=i(t,["responseMimeType"]);P!=null&&a(r,["responseMimeType"],P);const x=i(t,["responseSchema"]);x!=null&&a(r,["responseSchema"],xa(x));const y=i(t,["responseJsonSchema"]);if(y!=null&&a(r,["responseJsonSchema"],y),i(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(i(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=i(t,["safetySettings"]);if(n!==void 0&&v!=null){let N=v;Array.isArray(N)&&(N=N.map($=>qE($))),a(n,["safetySettings"],N)}const w=i(t,["tools"]);if(n!==void 0&&w!=null){let N=ir(w);Array.isArray(N)&&(N=N.map($=>WE(sr($)))),a(n,["tools"],N)}const k=i(t,["toolConfig"]);if(n!==void 0&&k!=null&&a(n,["toolConfig"],OE(k)),i(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=i(t,["cachedContent"]);n!==void 0&&I!=null&&a(n,["cachedContent"],Vt(e,I));const _=i(t,["responseModalities"]);_!=null&&a(r,["responseModalities"],_);const S=i(t,["mediaResolution"]);S!=null&&a(r,["mediaResolution"],S);const M=i(t,["speechConfig"]);if(M!=null&&a(r,["speechConfig"],va(M)),i(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const b=i(t,["thinkingConfig"]);b!=null&&a(r,["thinkingConfig"],b);const H=i(t,["imageConfig"]);return H!=null&&a(r,["imageConfig"],wE(H)),r}function Qv(e,t,n){const r={},o=i(t,["systemInstruction"]);n!==void 0&&o!=null&&a(n,["systemInstruction"],Me(o));const s=i(t,["temperature"]);s!=null&&a(r,["temperature"],s);const l=i(t,["topP"]);l!=null&&a(r,["topP"],l);const u=i(t,["topK"]);u!=null&&a(r,["topK"],u);const d=i(t,["candidateCount"]);d!=null&&a(r,["candidateCount"],d);const f=i(t,["maxOutputTokens"]);f!=null&&a(r,["maxOutputTokens"],f);const p=i(t,["stopSequences"]);p!=null&&a(r,["stopSequences"],p);const m=i(t,["responseLogprobs"]);m!=null&&a(r,["responseLogprobs"],m);const h=i(t,["logprobs"]);h!=null&&a(r,["logprobs"],h);const g=i(t,["presencePenalty"]);g!=null&&a(r,["presencePenalty"],g);const E=i(t,["frequencyPenalty"]);E!=null&&a(r,["frequencyPenalty"],E);const C=i(t,["seed"]);C!=null&&a(r,["seed"],C);const P=i(t,["responseMimeType"]);P!=null&&a(r,["responseMimeType"],P);const x=i(t,["responseSchema"]);x!=null&&a(r,["responseSchema"],xa(x));const y=i(t,["responseJsonSchema"]);y!=null&&a(r,["responseJsonSchema"],y);const v=i(t,["routingConfig"]);v!=null&&a(r,["routingConfig"],v);const w=i(t,["modelSelectionConfig"]);w!=null&&a(r,["modelConfig"],w);const k=i(t,["safetySettings"]);if(n!==void 0&&k!=null){let O=k;Array.isArray(O)&&(O=O.map(de=>de)),a(n,["safetySettings"],O)}const I=i(t,["tools"]);if(n!==void 0&&I!=null){let O=ir(I);Array.isArray(O)&&(O=O.map(de=>tm(sr(de)))),a(n,["tools"],O)}const _=i(t,["toolConfig"]);n!==void 0&&_!=null&&a(n,["toolConfig"],_);const S=i(t,["labels"]);n!==void 0&&S!=null&&a(n,["labels"],S);const M=i(t,["cachedContent"]);n!==void 0&&M!=null&&a(n,["cachedContent"],Vt(e,M));const b=i(t,["responseModalities"]);b!=null&&a(r,["responseModalities"],b);const H=i(t,["mediaResolution"]);H!=null&&a(r,["mediaResolution"],H);const N=i(t,["speechConfig"]);N!=null&&a(r,["speechConfig"],em(va(N)));const $=i(t,["audioTimestamp"]);$!=null&&a(r,["audioTimestamp"],$);const X=i(t,["thinkingConfig"]);X!=null&&a(r,["thinkingConfig"],X);const B=i(t,["imageConfig"]);return B!=null&&a(r,["imageConfig"],TE(B)),r}function Qd(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["contents"]);if(o!=null){let l=it(o);Array.isArray(l)&&(l=l.map(u=>Ms(u))),a(n,["contents"],l)}const s=i(t,["config"]);return s!=null&&a(n,["generationConfig"],jv(e,s,n)),n}function Xd(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["contents"]);if(o!=null){let l=it(o);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const s=i(t,["config"]);return s!=null&&a(n,["generationConfig"],Qv(e,s,n)),n}function Zd(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>vv(f))),a(t,["candidates"],d)}const o=i(e,["modelVersion"]);o!=null&&a(t,["modelVersion"],o);const s=i(e,["promptFeedback"]);s!=null&&a(t,["promptFeedback"],s);const l=i(e,["responseId"]);l!=null&&a(t,["responseId"],l);const u=i(e,["usageMetadata"]);return u!=null&&a(t,["usageMetadata"],u),t}function ec(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),a(t,["candidates"],f)}const o=i(e,["createTime"]);o!=null&&a(t,["createTime"],o);const s=i(e,["modelVersion"]);s!=null&&a(t,["modelVersion"],s);const l=i(e,["promptFeedback"]);l!=null&&a(t,["promptFeedback"],l);const u=i(e,["responseId"]);u!=null&&a(t,["responseId"],u);const d=i(e,["usageMetadata"]);return d!=null&&a(t,["usageMetadata"],d),t}function Xv(e,t){const n={};if(i(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(i(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=i(e,["numberOfImages"]);t!==void 0&&r!=null&&a(t,["parameters","sampleCount"],r);const o=i(e,["aspectRatio"]);t!==void 0&&o!=null&&a(t,["parameters","aspectRatio"],o);const s=i(e,["guidanceScale"]);if(t!==void 0&&s!=null&&a(t,["parameters","guidanceScale"],s),i(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=i(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&a(t,["parameters","safetySetting"],l);const u=i(e,["personGeneration"]);t!==void 0&&u!=null&&a(t,["parameters","personGeneration"],u);const d=i(e,["includeSafetyAttributes"]);t!==void 0&&d!=null&&a(t,["parameters","includeSafetyAttributes"],d);const f=i(e,["includeRaiReason"]);t!==void 0&&f!=null&&a(t,["parameters","includeRaiReason"],f);const p=i(e,["language"]);t!==void 0&&p!=null&&a(t,["parameters","language"],p);const m=i(e,["outputMimeType"]);t!==void 0&&m!=null&&a(t,["parameters","outputOptions","mimeType"],m);const h=i(e,["outputCompressionQuality"]);if(t!==void 0&&h!=null&&a(t,["parameters","outputOptions","compressionQuality"],h),i(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(i(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=i(e,["imageSize"]);if(t!==void 0&&g!=null&&a(t,["parameters","sampleImageSize"],g),i(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Zv(e,t){const n={},r=i(e,["outputGcsUri"]);t!==void 0&&r!=null&&a(t,["parameters","storageUri"],r);const o=i(e,["negativePrompt"]);t!==void 0&&o!=null&&a(t,["parameters","negativePrompt"],o);const s=i(e,["numberOfImages"]);t!==void 0&&s!=null&&a(t,["parameters","sampleCount"],s);const l=i(e,["aspectRatio"]);t!==void 0&&l!=null&&a(t,["parameters","aspectRatio"],l);const u=i(e,["guidanceScale"]);t!==void 0&&u!=null&&a(t,["parameters","guidanceScale"],u);const d=i(e,["seed"]);t!==void 0&&d!=null&&a(t,["parameters","seed"],d);const f=i(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&a(t,["parameters","safetySetting"],f);const p=i(e,["personGeneration"]);t!==void 0&&p!=null&&a(t,["parameters","personGeneration"],p);const m=i(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&a(t,["parameters","includeSafetyAttributes"],m);const h=i(e,["includeRaiReason"]);t!==void 0&&h!=null&&a(t,["parameters","includeRaiReason"],h);const g=i(e,["language"]);t!==void 0&&g!=null&&a(t,["parameters","language"],g);const E=i(e,["outputMimeType"]);t!==void 0&&E!=null&&a(t,["parameters","outputOptions","mimeType"],E);const C=i(e,["outputCompressionQuality"]);t!==void 0&&C!=null&&a(t,["parameters","outputOptions","compressionQuality"],C);const P=i(e,["addWatermark"]);t!==void 0&&P!=null&&a(t,["parameters","addWatermark"],P);const x=i(e,["labels"]);t!==void 0&&x!=null&&a(t,["labels"],x);const y=i(e,["imageSize"]);t!==void 0&&y!=null&&a(t,["parameters","sampleImageSize"],y);const v=i(e,["enhancePrompt"]);return t!==void 0&&v!=null&&a(t,["parameters","enhancePrompt"],v),n}function eE(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const s=i(t,["config"]);return s!=null&&Xv(s,n),n}function tE(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const s=i(t,["config"]);return s!=null&&Zv(s,n),n}function nE(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>mE(l))),a(t,["generatedImages"],s)}const o=i(e,["positivePromptSafetyAttributes"]);return o!=null&&a(t,["positivePromptSafetyAttributes"],Xp(o)),t}function rE(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>Ds(l))),a(t,["generatedImages"],s)}const o=i(e,["positivePromptSafetyAttributes"]);return o!=null&&a(t,["positivePromptSafetyAttributes"],Zp(o)),t}function oE(e,t){const n={},r=i(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&a(t,["parameters","sampleCount"],r),i(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(i(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=i(e,["durationSeconds"]);if(t!==void 0&&o!=null&&a(t,["parameters","durationSeconds"],o),i(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=i(e,["aspectRatio"]);t!==void 0&&s!=null&&a(t,["parameters","aspectRatio"],s);const l=i(e,["resolution"]);t!==void 0&&l!=null&&a(t,["parameters","resolution"],l);const u=i(e,["personGeneration"]);if(t!==void 0&&u!=null&&a(t,["parameters","personGeneration"],u),i(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=i(e,["negativePrompt"]);t!==void 0&&d!=null&&a(t,["parameters","negativePrompt"],d);const f=i(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&a(t,["parameters","enhancePrompt"],f),i(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=i(e,["lastFrame"]);t!==void 0&&p!=null&&a(t,["instances[0]","lastFrame"],bs(p));const m=i(e,["referenceImages"]);if(t!==void 0&&m!=null){let h=m;Array.isArray(h)&&(h=h.map(g=>iC(g))),a(t,["instances[0]","referenceImages"],h)}if(i(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(i(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function sE(e,t){const n={},r=i(e,["numberOfVideos"]);t!==void 0&&r!=null&&a(t,["parameters","sampleCount"],r);const o=i(e,["outputGcsUri"]);t!==void 0&&o!=null&&a(t,["parameters","storageUri"],o);const s=i(e,["fps"]);t!==void 0&&s!=null&&a(t,["parameters","fps"],s);const l=i(e,["durationSeconds"]);t!==void 0&&l!=null&&a(t,["parameters","durationSeconds"],l);const u=i(e,["seed"]);t!==void 0&&u!=null&&a(t,["parameters","seed"],u);const d=i(e,["aspectRatio"]);t!==void 0&&d!=null&&a(t,["parameters","aspectRatio"],d);const f=i(e,["resolution"]);t!==void 0&&f!=null&&a(t,["parameters","resolution"],f);const p=i(e,["personGeneration"]);t!==void 0&&p!=null&&a(t,["parameters","personGeneration"],p);const m=i(e,["pubsubTopic"]);t!==void 0&&m!=null&&a(t,["parameters","pubsubTopic"],m);const h=i(e,["negativePrompt"]);t!==void 0&&h!=null&&a(t,["parameters","negativePrompt"],h);const g=i(e,["enhancePrompt"]);t!==void 0&&g!=null&&a(t,["parameters","enhancePrompt"],g);const E=i(e,["generateAudio"]);t!==void 0&&E!=null&&a(t,["parameters","generateAudio"],E);const C=i(e,["lastFrame"]);t!==void 0&&C!=null&&a(t,["instances[0]","lastFrame"],xt(C));const P=i(e,["referenceImages"]);if(t!==void 0&&P!=null){let v=P;Array.isArray(v)&&(v=v.map(w=>lC(w))),a(t,["instances[0]","referenceImages"],v)}const x=i(e,["mask"]);t!==void 0&&x!=null&&a(t,["instances[0]","mask"],sC(x));const y=i(e,["compressionQuality"]);return t!==void 0&&y!=null&&a(t,["parameters","compressionQuality"],y),n}function iE(e){const t={},n=i(e,["name"]);n!=null&&a(t,["name"],n);const r=i(e,["metadata"]);r!=null&&a(t,["metadata"],r);const o=i(e,["done"]);o!=null&&a(t,["done"],o);const s=i(e,["error"]);s!=null&&a(t,["error"],s);const l=i(e,["response","generateVideoResponse"]);return l!=null&&a(t,["response"],dE(l)),t}function lE(e){const t={},n=i(e,["name"]);n!=null&&a(t,["name"],n);const r=i(e,["metadata"]);r!=null&&a(t,["metadata"],r);const o=i(e,["done"]);o!=null&&a(t,["done"],o);const s=i(e,["error"]);s!=null&&a(t,["error"],s);const l=i(e,["response"]);return l!=null&&a(t,["response"],cE(l)),t}function aE(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const s=i(t,["image"]);s!=null&&a(n,["instances[0]","image"],bs(s));const l=i(t,["video"]);l!=null&&a(n,["instances[0]","video"],nm(l));const u=i(t,["source"]);u!=null&&fE(u,n);const d=i(t,["config"]);return d!=null&&oE(d,n),n}function uE(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["prompt"]);o!=null&&a(n,["instances[0]","prompt"],o);const s=i(t,["image"]);s!=null&&a(n,["instances[0]","image"],xt(s));const l=i(t,["video"]);l!=null&&a(n,["instances[0]","video"],rm(l));const u=i(t,["source"]);u!=null&&pE(u,n);const d=i(t,["config"]);return d!=null&&sE(d,n),n}function dE(e){const t={},n=i(e,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>gE(l))),a(t,["generatedVideos"],s)}const r=i(e,["raiMediaFilteredCount"]);r!=null&&a(t,["raiMediaFilteredCount"],r);const o=i(e,["raiMediaFilteredReasons"]);return o!=null&&a(t,["raiMediaFilteredReasons"],o),t}function cE(e){const t={},n=i(e,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>yE(l))),a(t,["generatedVideos"],s)}const r=i(e,["raiMediaFilteredCount"]);r!=null&&a(t,["raiMediaFilteredCount"],r);const o=i(e,["raiMediaFilteredReasons"]);return o!=null&&a(t,["raiMediaFilteredReasons"],o),t}function fE(e,t){const n={},r=i(e,["prompt"]);t!==void 0&&r!=null&&a(t,["instances[0]","prompt"],r);const o=i(e,["image"]);t!==void 0&&o!=null&&a(t,["instances[0]","image"],bs(o));const s=i(e,["video"]);return t!==void 0&&s!=null&&a(t,["instances[0]","video"],nm(s)),n}function pE(e,t){const n={},r=i(e,["prompt"]);t!==void 0&&r!=null&&a(t,["instances[0]","prompt"],r);const o=i(e,["image"]);t!==void 0&&o!=null&&a(t,["instances[0]","image"],xt(o));const s=i(e,["video"]);return t!==void 0&&s!=null&&a(t,["instances[0]","video"],rm(s)),n}function mE(e){const t={},n=i(e,["_self"]);n!=null&&a(t,["image"],NE(n));const r=i(e,["raiFilteredReason"]);r!=null&&a(t,["raiFilteredReason"],r);const o=i(e,["_self"]);return o!=null&&a(t,["safetyAttributes"],Xp(o)),t}function Ds(e){const t={},n=i(e,["_self"]);n!=null&&a(t,["image"],Qp(n));const r=i(e,["raiFilteredReason"]);r!=null&&a(t,["raiFilteredReason"],r);const o=i(e,["_self"]);o!=null&&a(t,["safetyAttributes"],Zp(o));const s=i(e,["prompt"]);return s!=null&&a(t,["enhancedPrompt"],s),t}function hE(e){const t={},n=i(e,["_self"]);n!=null&&a(t,["mask"],Qp(n));const r=i(e,["labels"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),a(t,["labels"],o)}return t}function gE(e){const t={},n=i(e,["video"]);return n!=null&&a(t,["video"],rC(n)),t}function yE(e){const t={},n=i(e,["_self"]);return n!=null&&a(t,["video"],oC(n)),t}function xE(e){const t={},n=i(e,["modelSelectionConfig"]);n!=null&&a(t,["modelConfig"],n);const r=i(e,["responseJsonSchema"]);r!=null&&a(t,["responseJsonSchema"],r);const o=i(e,["audioTimestamp"]);o!=null&&a(t,["audioTimestamp"],o);const s=i(e,["candidateCount"]);s!=null&&a(t,["candidateCount"],s);const l=i(e,["enableAffectiveDialog"]);l!=null&&a(t,["enableAffectiveDialog"],l);const u=i(e,["frequencyPenalty"]);u!=null&&a(t,["frequencyPenalty"],u);const d=i(e,["logprobs"]);d!=null&&a(t,["logprobs"],d);const f=i(e,["maxOutputTokens"]);f!=null&&a(t,["maxOutputTokens"],f);const p=i(e,["mediaResolution"]);p!=null&&a(t,["mediaResolution"],p);const m=i(e,["presencePenalty"]);m!=null&&a(t,["presencePenalty"],m);const h=i(e,["responseLogprobs"]);h!=null&&a(t,["responseLogprobs"],h);const g=i(e,["responseMimeType"]);g!=null&&a(t,["responseMimeType"],g);const E=i(e,["responseModalities"]);E!=null&&a(t,["responseModalities"],E);const C=i(e,["responseSchema"]);C!=null&&a(t,["responseSchema"],C);const P=i(e,["routingConfig"]);P!=null&&a(t,["routingConfig"],P);const x=i(e,["seed"]);x!=null&&a(t,["seed"],x);const y=i(e,["speechConfig"]);y!=null&&a(t,["speechConfig"],em(y));const v=i(e,["stopSequences"]);v!=null&&a(t,["stopSequences"],v);const w=i(e,["temperature"]);w!=null&&a(t,["temperature"],w);const k=i(e,["thinkingConfig"]);k!=null&&a(t,["thinkingConfig"],k);const I=i(e,["topK"]);I!=null&&a(t,["topK"],I);const _=i(e,["topP"]);if(_!=null&&a(t,["topP"],_),i(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function vE(e,t){const n={},r=i(t,["model"]);return r!=null&&a(n,["_url","name"],Q(e,r)),n}function EE(e,t){const n={},r=i(t,["model"]);return r!=null&&a(n,["_url","name"],Q(e,r)),n}function CE(e){const t={};if(i(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=i(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function SE(e){const t={};if(i(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(i(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=i(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function wE(e){const t={},n=i(e,["aspectRatio"]);n!=null&&a(t,["aspectRatio"],n);const r=i(e,["imageSize"]);if(r!=null&&a(t,["imageSize"],r),i(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(i(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function TE(e){const t={},n=i(e,["aspectRatio"]);n!=null&&a(t,["aspectRatio"],n);const r=i(e,["imageSize"]);r!=null&&a(t,["imageSize"],r);const o=i(e,["outputMimeType"]);o!=null&&a(t,["imageOutputOptions","mimeType"],o);const s=i(e,["outputCompressionQuality"]);return s!=null&&a(t,["imageOutputOptions","compressionQuality"],s),t}function NE(e){const t={},n=i(e,["bytesBase64Encoded"]);n!=null&&a(t,["imageBytes"],ln(n));const r=i(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function Qp(e){const t={},n=i(e,["gcsUri"]);n!=null&&a(t,["gcsUri"],n);const r=i(e,["bytesBase64Encoded"]);r!=null&&a(t,["imageBytes"],ln(r));const o=i(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function bs(e){const t={};if(i(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=i(e,["imageBytes"]);n!=null&&a(t,["bytesBase64Encoded"],ln(n));const r=i(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function xt(e){const t={},n=i(e,["gcsUri"]);n!=null&&a(t,["gcsUri"],n);const r=i(e,["imageBytes"]);r!=null&&a(t,["bytesBase64Encoded"],ln(r));const o=i(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function kE(e,t,n){const r={},o=i(t,["pageSize"]);n!==void 0&&o!=null&&a(n,["_query","pageSize"],o);const s=i(t,["pageToken"]);n!==void 0&&s!=null&&a(n,["_query","pageToken"],s);const l=i(t,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=i(t,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],zp(e,u)),r}function _E(e,t,n){const r={},o=i(t,["pageSize"]);n!==void 0&&o!=null&&a(n,["_query","pageSize"],o);const s=i(t,["pageToken"]);n!==void 0&&s!=null&&a(n,["_query","pageToken"],s);const l=i(t,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=i(t,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],zp(e,u)),r}function IE(e,t){const n={},r=i(t,["config"]);return r!=null&&kE(e,r,n),n}function AE(e,t){const n={},r=i(t,["config"]);return r!=null&&_E(e,r,n),n}function RE(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const o=i(e,["_self"]);if(o!=null){let s=$p(o);Array.isArray(s)&&(s=s.map(l=>cl(l))),a(t,["models"],s)}return t}function PE(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const o=i(e,["_self"]);if(o!=null){let s=$p(o);Array.isArray(s)&&(s=s.map(l=>fl(l))),a(t,["models"],s)}return t}function ME(e){const t={},n=i(e,["maskMode"]);n!=null&&a(t,["maskMode"],n);const r=i(e,["segmentationClasses"]);r!=null&&a(t,["maskClasses"],r);const o=i(e,["maskDilation"]);return o!=null&&a(t,["dilation"],o),t}function cl(e){const t={},n=i(e,["name"]);n!=null&&a(t,["name"],n);const r=i(e,["displayName"]);r!=null&&a(t,["displayName"],r);const o=i(e,["description"]);o!=null&&a(t,["description"],o);const s=i(e,["version"]);s!=null&&a(t,["version"],s);const l=i(e,["_self"]);l!=null&&a(t,["tunedModelInfo"],YE(l));const u=i(e,["inputTokenLimit"]);u!=null&&a(t,["inputTokenLimit"],u);const d=i(e,["outputTokenLimit"]);d!=null&&a(t,["outputTokenLimit"],d);const f=i(e,["supportedGenerationMethods"]);f!=null&&a(t,["supportedActions"],f);const p=i(e,["temperature"]);p!=null&&a(t,["temperature"],p);const m=i(e,["maxTemperature"]);m!=null&&a(t,["maxTemperature"],m);const h=i(e,["topP"]);h!=null&&a(t,["topP"],h);const g=i(e,["topK"]);g!=null&&a(t,["topK"],g);const E=i(e,["thinking"]);return E!=null&&a(t,["thinking"],E),t}function fl(e){const t={},n=i(e,["name"]);n!=null&&a(t,["name"],n);const r=i(e,["displayName"]);r!=null&&a(t,["displayName"],r);const o=i(e,["description"]);o!=null&&a(t,["description"],o);const s=i(e,["versionId"]);s!=null&&a(t,["version"],s);const l=i(e,["deployedModels"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(h=>Jv(h))),a(t,["endpoints"],m)}const u=i(e,["labels"]);u!=null&&a(t,["labels"],u);const d=i(e,["_self"]);d!=null&&a(t,["tunedModelInfo"],KE(d));const f=i(e,["defaultCheckpointId"]);f!=null&&a(t,["defaultCheckpointId"],f);const p=i(e,["checkpoints"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(h=>h)),a(t,["checkpoints"],m)}return t}function DE(e){const t={},n=i(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const r=i(e,["codeExecutionResult"]);r!=null&&a(t,["codeExecutionResult"],r);const o=i(e,["executableCode"]);o!=null&&a(t,["executableCode"],o);const s=i(e,["fileData"]);s!=null&&a(t,["fileData"],Ov(s));const l=i(e,["functionCall"]);l!=null&&a(t,["functionCall"],Wv(l));const u=i(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const d=i(e,["inlineData"]);d!=null&&a(t,["inlineData"],xv(d));const f=i(e,["text"]);f!=null&&a(t,["text"],f);const p=i(e,["thought"]);p!=null&&a(t,["thought"],p);const m=i(e,["thoughtSignature"]);m!=null&&a(t,["thoughtSignature"],m);const h=i(e,["videoMetadata"]);return h!=null&&a(t,["videoMetadata"],h),t}function bE(e){const t={},n=i(e,["productImage"]);return n!=null&&a(t,["image"],xt(n)),t}function LE(e,t){const n={},r=i(e,["numberOfImages"]);t!==void 0&&r!=null&&a(t,["parameters","sampleCount"],r);const o=i(e,["baseSteps"]);t!==void 0&&o!=null&&a(t,["parameters","baseSteps"],o);const s=i(e,["outputGcsUri"]);t!==void 0&&s!=null&&a(t,["parameters","storageUri"],s);const l=i(e,["seed"]);t!==void 0&&l!=null&&a(t,["parameters","seed"],l);const u=i(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&a(t,["parameters","safetySetting"],u);const d=i(e,["personGeneration"]);t!==void 0&&d!=null&&a(t,["parameters","personGeneration"],d);const f=i(e,["addWatermark"]);t!==void 0&&f!=null&&a(t,["parameters","addWatermark"],f);const p=i(e,["outputMimeType"]);t!==void 0&&p!=null&&a(t,["parameters","outputOptions","mimeType"],p);const m=i(e,["outputCompressionQuality"]);t!==void 0&&m!=null&&a(t,["parameters","outputOptions","compressionQuality"],m);const h=i(e,["enhancePrompt"]);t!==void 0&&h!=null&&a(t,["parameters","enhancePrompt"],h);const g=i(e,["labels"]);return t!==void 0&&g!=null&&a(t,["labels"],g),n}function UE(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["source"]);o!=null&&VE(o,n);const s=i(t,["config"]);return s!=null&&LE(s,n),n}function FE(e){const t={},n=i(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>Ds(o))),a(t,["generatedImages"],r)}return t}function VE(e,t){const n={},r=i(e,["prompt"]);t!==void 0&&r!=null&&a(t,["instances[0]","prompt"],r);const o=i(e,["personImage"]);t!==void 0&&o!=null&&a(t,["instances[0]","personImage","image"],xt(o));const s=i(e,["productImages"]);if(t!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>bE(u))),a(t,["instances[0]","productImages"],l)}return n}function GE(e){const t={},n=i(e,["referenceImage"]);n!=null&&a(t,["referenceImage"],xt(n));const r=i(e,["referenceId"]);r!=null&&a(t,["referenceId"],r);const o=i(e,["referenceType"]);o!=null&&a(t,["referenceType"],o);const s=i(e,["maskImageConfig"]);s!=null&&a(t,["maskImageConfig"],ME(s));const l=i(e,["controlImageConfig"]);l!=null&&a(t,["controlImageConfig"],Nv(l));const u=i(e,["styleImageConfig"]);u!=null&&a(t,["styleImageConfig"],u);const d=i(e,["subjectImageConfig"]);return d!=null&&a(t,["subjectImageConfig"],d),t}function Xp(e){const t={},n=i(e,["safetyAttributes","categories"]);n!=null&&a(t,["categories"],n);const r=i(e,["safetyAttributes","scores"]);r!=null&&a(t,["scores"],r);const o=i(e,["contentType"]);return o!=null&&a(t,["contentType"],o),t}function Zp(e){const t={},n=i(e,["safetyAttributes","categories"]);n!=null&&a(t,["categories"],n);const r=i(e,["safetyAttributes","scores"]);r!=null&&a(t,["scores"],r);const o=i(e,["contentType"]);return o!=null&&a(t,["contentType"],o),t}function qE(e){const t={},n=i(e,["category"]);if(n!=null&&a(t,["category"],n),i(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=i(e,["threshold"]);return r!=null&&a(t,["threshold"],r),t}function HE(e){const t={},n=i(e,["image"]);return n!=null&&a(t,["image"],xt(n)),t}function BE(e,t){const n={},r=i(e,["mode"]);t!==void 0&&r!=null&&a(t,["parameters","mode"],r);const o=i(e,["maxPredictions"]);t!==void 0&&o!=null&&a(t,["parameters","maxPredictions"],o);const s=i(e,["confidenceThreshold"]);t!==void 0&&s!=null&&a(t,["parameters","confidenceThreshold"],s);const l=i(e,["maskDilation"]);t!==void 0&&l!=null&&a(t,["parameters","maskDilation"],l);const u=i(e,["binaryColorThreshold"]);t!==void 0&&u!=null&&a(t,["parameters","binaryColorThreshold"],u);const d=i(e,["labels"]);return t!==void 0&&d!=null&&a(t,["labels"],d),n}function zE(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["source"]);o!=null&&JE(o,n);const s=i(t,["config"]);return s!=null&&BE(s,n),n}function $E(e){const t={},n=i(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>hE(o))),a(t,["generatedMasks"],r)}return t}function JE(e,t){const n={},r=i(e,["prompt"]);t!==void 0&&r!=null&&a(t,["instances[0]","prompt"],r);const o=i(e,["image"]);t!==void 0&&o!=null&&a(t,["instances[0]","image"],xt(o));const s=i(e,["scribbleImage"]);return t!==void 0&&s!=null&&a(t,["instances[0]","scribble"],HE(s)),n}function em(e){const t={},n=i(e,["languageCode"]);n!=null&&a(t,["languageCode"],n);const r=i(e,["voiceConfig"]);if(r!=null&&a(t,["voiceConfig"],r),i(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function OE(e){const t={},n=i(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],Yv(n));const r=i(e,["retrievalConfig"]);return r!=null&&a(t,["retrievalConfig"],r),t}function WE(e){const t={},n=i(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>m)),a(t,["functionDeclarations"],p)}if(i(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=i(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const o=i(e,["computerUse"]);o!=null&&a(t,["computerUse"],o);const s=i(e,["fileSearch"]);s!=null&&a(t,["fileSearch"],s);const l=i(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),i(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=i(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],CE(u));const d=i(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],SE(d));const f=i(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function tm(e){const t={},n=i(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(h=>Kv(h))),a(t,["functionDeclarations"],m)}const r=i(e,["retrieval"]);r!=null&&a(t,["retrieval"],r);const o=i(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const s=i(e,["computerUse"]);if(s!=null&&a(t,["computerUse"],s),i(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=i(e,["codeExecution"]);l!=null&&a(t,["codeExecution"],l);const u=i(e,["enterpriseWebSearch"]);u!=null&&a(t,["enterpriseWebSearch"],u);const d=i(e,["googleMaps"]);d!=null&&a(t,["googleMaps"],d);const f=i(e,["googleSearch"]);f!=null&&a(t,["googleSearch"],f);const p=i(e,["urlContext"]);return p!=null&&a(t,["urlContext"],p),t}function YE(e){const t={},n=i(e,["baseModel"]);n!=null&&a(t,["baseModel"],n);const r=i(e,["createTime"]);r!=null&&a(t,["createTime"],r);const o=i(e,["updateTime"]);return o!=null&&a(t,["updateTime"],o),t}function KE(e){const t={},n=i(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&a(t,["baseModel"],n);const r=i(e,["createTime"]);r!=null&&a(t,["createTime"],r);const o=i(e,["updateTime"]);return o!=null&&a(t,["updateTime"],o),t}function jE(e,t){const n={},r=i(e,["displayName"]);t!==void 0&&r!=null&&a(t,["displayName"],r);const o=i(e,["description"]);t!==void 0&&o!=null&&a(t,["description"],o);const s=i(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&a(t,["defaultCheckpointId"],s),n}function QE(e,t){const n={},r=i(e,["displayName"]);t!==void 0&&r!=null&&a(t,["displayName"],r);const o=i(e,["description"]);t!==void 0&&o!=null&&a(t,["description"],o);const s=i(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&a(t,["defaultCheckpointId"],s),n}function XE(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","name"],Q(e,r));const o=i(t,["config"]);return o!=null&&jE(o,n),n}function ZE(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["config"]);return o!=null&&QE(o,n),n}function eC(e,t){const n={},r=i(e,["outputGcsUri"]);t!==void 0&&r!=null&&a(t,["parameters","storageUri"],r);const o=i(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&a(t,["parameters","safetySetting"],o);const s=i(e,["personGeneration"]);t!==void 0&&s!=null&&a(t,["parameters","personGeneration"],s);const l=i(e,["includeRaiReason"]);t!==void 0&&l!=null&&a(t,["parameters","includeRaiReason"],l);const u=i(e,["outputMimeType"]);t!==void 0&&u!=null&&a(t,["parameters","outputOptions","mimeType"],u);const d=i(e,["outputCompressionQuality"]);t!==void 0&&d!=null&&a(t,["parameters","outputOptions","compressionQuality"],d);const f=i(e,["enhanceInputImage"]);t!==void 0&&f!=null&&a(t,["parameters","upscaleConfig","enhanceInputImage"],f);const p=i(e,["imagePreservationFactor"]);t!==void 0&&p!=null&&a(t,["parameters","upscaleConfig","imagePreservationFactor"],p);const m=i(e,["labels"]);t!==void 0&&m!=null&&a(t,["labels"],m);const h=i(e,["numberOfImages"]);t!==void 0&&h!=null&&a(t,["parameters","sampleCount"],h);const g=i(e,["mode"]);return t!==void 0&&g!=null&&a(t,["parameters","mode"],g),n}function tC(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["_url","model"],Q(e,r));const o=i(t,["image"]);o!=null&&a(n,["instances[0]","image"],xt(o));const s=i(t,["upscaleFactor"]);s!=null&&a(n,["parameters","upscaleConfig","upscaleFactor"],s);const l=i(t,["config"]);return l!=null&&eC(l,n),n}function nC(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Ds(s))),a(t,["generatedImages"],o)}return t}function rC(e){const t={},n=i(e,["uri"]);n!=null&&a(t,["uri"],n);const r=i(e,["encodedVideo"]);r!=null&&a(t,["videoBytes"],ln(r));const o=i(e,["encoding"]);return o!=null&&a(t,["mimeType"],o),t}function oC(e){const t={},n=i(e,["gcsUri"]);n!=null&&a(t,["uri"],n);const r=i(e,["bytesBase64Encoded"]);r!=null&&a(t,["videoBytes"],ln(r));const o=i(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function sC(e){const t={},n=i(e,["image"]);n!=null&&a(t,["_self"],xt(n));const r=i(e,["maskMode"]);return r!=null&&a(t,["maskMode"],r),t}function iC(e){const t={},n=i(e,["image"]);n!=null&&a(t,["image"],bs(n));const r=i(e,["referenceType"]);return r!=null&&a(t,["referenceType"],r),t}function lC(e){const t={},n=i(e,["image"]);n!=null&&a(t,["image"],xt(n));const r=i(e,["referenceType"]);return r!=null&&a(t,["referenceType"],r),t}function nm(e){const t={},n=i(e,["uri"]);n!=null&&a(t,["uri"],n);const r=i(e,["videoBytes"]);r!=null&&a(t,["encodedVideo"],ln(r));const o=i(e,["mimeType"]);return o!=null&&a(t,["encoding"],o),t}function rm(e){const t={},n=i(e,["uri"]);n!=null&&a(t,["gcsUri"],n);const r=i(e,["videoBytes"]);r!=null&&a(t,["bytesBase64Encoded"],ln(r));const o=i(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aC="Content-Type",uC="X-Server-Timeout",dC="User-Agent",pl="x-goog-api-client",cC="1.30.0",fC=`google-genai-sdk/${cC}`,pC="v1beta1",mC="v1beta",tc=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class hC{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:pC,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:mC,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const o=[this.getRequestUrlInternal(n)];return r&&o.push(this.getBaseResourcePath()),t!==""&&o.push(t),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[l,u]of Object.entries(t.queryParams))o.searchParams.append(l,String(u));let s={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=t.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,o.toString(),t.abortSignal),this.unaryApiCall(o,s,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[o,s]of Object.entries(n))typeof s=="object"?r[o]=Object.assign(Object.assign({},r[o]),s):s!==void 0&&(r[o]=s);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,r);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let s={};return s.body=t.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,o.toString(),t.abortSignal),this.streamApiCall(o,s,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,o){if(n&&n.timeout||o){const s=new AbortController,l=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>s.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}o&&o.addEventListener("abort",()=>{s.abort()}),t.signal=l}return n&&n.extraBody!==null&&gC(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await nc(o),new al(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await nc(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(t){var n;return On(this,arguments,function*(){const o=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let l="";for(;;){const{done:u,value:d}=yield re(o.read());if(u){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=s.decode(d,{stream:!0});try{const m=JSON.parse(f);if("error"in m){const h=JSON.parse(JSON.stringify(m.error)),g=h.status,E=h.code,C=`got status: ${g}. ${JSON.stringify(m)}`;if(E>=400&&E<600)throw new Ps({message:C,status:E})}}catch(m){if(m.name==="ApiError")throw m}l+=f;let p=l.match(tc);for(;p;){const m=p[1];try{const h=new Response(m,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield re(new al(h)),l=l.slice(p[0].length),p=l.match(tc)}catch(h){throw new Error(`exception parsing stream chunk ${m}. ${h}`)}}}}finally{o.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=fC+" "+this.clientOptions.userAgentExtra;return t[dC]=n,t[pl]=n,t[aC]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[o,s]of Object.entries(t.headers))r.append(o,s);t.timeout&&t.timeout>0&&r.append(uC,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const s=this.clientOptions.uploader,l=await s.stat(t);o.sizeBytes=String(l.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=u;const d={file:o},f=this.getFileName(t),p=U("upload/v1beta/files",d._url),m=await this.fetchUploadUrl(p,o.sizeBytes,o.mimeType,f,d,n==null?void 0:n.httpOptions);return s.upload(t,m,this)}async uploadFileToFileSearchStore(t,n,r){var o;const s=this.clientOptions.uploader,l=await s.stat(n),u=String(l.size),d=(o=r==null?void 0:r.mimeType)!==null&&o!==void 0?o:l.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${t}:uploadToFileSearchStore`,p=this.getFileName(n),m={};r!=null&&r.customMetadata&&(m.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(m.chunkingConfig=r.chunkingConfig);const h=await this.fetchUploadUrl(f,u,d,p,m,r==null?void 0:r.httpOptions);return s.uploadToFileSearchStore(n,h,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,o,s,l){var u;let d={};l?d=l:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},o?{"X-Goog-Upload-File-Name":o}:{})};const f=await this.request({path:t,body:JSON.stringify(s),httpMethod:"POST",httpOptions:d});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(u=f==null?void 0:f.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function nc(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const o=JSON.stringify(r);throw n>=400&&n<600?new Ps({message:o,status:n}):new Error(o)}}function gC(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const s=JSON.parse(e.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,l){const u=Object.assign({},s);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const f=l[d],p=u[d];f&&typeof f=="object"&&!Array.isArray(f)&&p&&typeof p=="object"&&!Array.isArray(p)?u[d]=r(p,f):(p&&f&&typeof p!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof p}, New type: ${typeof f}. Overwriting.`),u[d]=f)}return u}const o=r(n,t);e.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yC="mcp_used/unknown";let xC=!1;function om(e){for(const t of e)if(vC(t)||typeof t=="object"&&"inputSchema"in t)return!0;return xC}function sm(e){var t;const n=(t=e[pl])!==null&&t!==void 0?t:"";e[pl]=(n+` ${yC}`).trimStart()}function vC(e){return e!==null&&typeof e=="object"&&e instanceof Ca}function EC(e,t=100){return On(this,arguments,function*(){let r,o=0;for(;o<t;){const s=yield re(e.listTools({cursor:r}));for(const l of s.tools)yield yield re(l),o++;if(!s.nextCursor)break;r=s.nextCursor}})}class Ca{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Ca(t,n)}async initialize(){var t,n,r,o;if(this.mcpTools.length>0)return;const s={},l=[];for(const p of this.mcpClients)try{for(var u=!0,d=(n=void 0,Dr(EC(p))),f;f=await d.next(),t=f.done,!t;u=!0){o=f.value,u=!1;const m=o;l.push(m);const h=m.name;if(s[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);s[h]=p}}catch(m){n={error:m}}finally{try{!u&&!t&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),fy(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const l=await o.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function CC(e,t,n){const r=new oy;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(r,o),t(r)}class SC{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),l=NC(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),d=`${o}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const p=new Promise(v=>{f=v}),m=t.callbacks,h=function(){f({})},g=this.apiClient,E={onopen:h,onmessage:v=>{CC(g,m.onmessage,v)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(v){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(v){}},C=this.webSocketFactory.create(d,TC(l),E);C.connect(),await p;const y={setup:{model:Q(this.apiClient,t.model)}};return C.send(JSON.stringify(y)),new wC(C,this.apiClient)}}class wC{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=uv(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=av(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Vn.PLAY)}pause(){this.sendPlaybackControl(Vn.PAUSE)}stop(){this.sendPlaybackControl(Vn.STOP)}resetContext(){this.sendPlaybackControl(Vn.RESET_CONTEXT)}close(){this.conn.close()}}function TC(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function NC(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function _C(e,t,n){const r=new ry;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const s=JSON.parse(o);if(e.isVertexAI()){const l=fv(s);Object.assign(r,l)}else Object.assign(r,s);t(r)}class IC{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new SC(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,o,s,l,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let p;const m=this.apiClient.getHeaders();t.config&&t.config.tools&&om(t.config.tools)&&sm(m);const h=MC(m);if(this.apiClient.isVertexAI())p=`${d}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,p);else{const M=this.apiClient.getApiKey();let b="BidiGenerateContent",H="key";M!=null&&M.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),b="BidiGenerateContentConstrained",H="access_token"),p=`${d}/ws/google.ai.generativelanguage.${f}.GenerativeService.${b}?${H}=${M}`}let g=()=>{};const E=new Promise(M=>{g=M}),C=t.callbacks,P=function(){var M;(M=C==null?void 0:C.onopen)===null||M===void 0||M.call(C),g({})},x=this.apiClient,y={onopen:P,onmessage:M=>{_C(x,C.onmessage,M)},onerror:(n=C==null?void 0:C.onerror)!==null&&n!==void 0?n:function(M){},onclose:(r=C==null?void 0:C.onclose)!==null&&r!==void 0?r:function(M){}},v=this.webSocketFactory.create(p,PC(h),y);v.connect(),await E;let w=Q(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&w.startsWith("publishers/")){const M=this.apiClient.getProject(),b=this.apiClient.getLocation();w=`projects/${M}/locations/${b}/`+w}let k={};this.apiClient.isVertexAI()&&((o=t.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[cs.AUDIO]}:t.config.responseModalities=[cs.AUDIO]),!((s=t.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const I=(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],_=[];for(const M of I)if(this.isCallableTool(M)){const b=M;_.push(await b.tool())}else _.push(M);_.length>0&&(t.config.tools=_);const S={model:w,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?k=lv(this.apiClient,S):k=iv(this.apiClient,S),delete k.config,v.send(JSON.stringify(k)),new RC(v,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const AC={turnComplete:!0};class RC{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=it(n.turns),t.isVertexAI()||(r=r.map(o=>Ms(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!t.isVertexAI()&&!("id"in s))throw new Error(kC)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},AC),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:cv(t)}:n={realtimeInput:dv(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function PC(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function MC(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rc=10;function oc(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let o=!1;for(const l of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Wn(l)){o=!0;break}if(!o)return!0;const s=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Wn(e){return"callTool"in e&&typeof e.callTool=="function"}function DC(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(o=>Wn(o)))!==null&&r!==void 0?r:!1}function sc(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,o)=>{if(Wn(r))return;const s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(o)}),n}function ic(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bC extends Ft{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,o,s,l,u;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!DC(n)||oc(n.config))return await this.generateContentInternal(d);const f=sc(n);if(f.length>0){const C=f.map(P=>`tools[${P}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${C}.`)}let p,m;const h=it(d.contents),g=(s=(o=(r=d.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&s!==void 0?s:rc;let E=0;for(;E<g&&(p=await this.generateContentInternal(d),!(!p.functionCalls||p.functionCalls.length===0));){const C=p.candidates[0].content,P=[];for(const x of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(Wn(x)){const v=await x.callTool(p.functionCalls);P.push(...v)}E++,m={role:"user",parts:P},d.contents=it(d.contents),d.contents.push(C),d.contents.push(m),ic(d.config)&&(h.push(C),h.push(m))}return ic(d.config)&&(p.automaticFunctionCallingHistory=h),p},this.generateContentStream=async n=>{var r,o,s,l,u;if(this.maybeMoveToResponseJsonSchem(n),oc(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const d=sc(n);if(d.length>0){const m=d.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(s=(o=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,p=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(f&&!p)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var o;let s;const l=[];if(r!=null&&r.generatedImages)for(const d of r.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((o=d==null?void 0:d.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?s=d==null?void 0:d.safetyAttributes:l.push(d);let u;return s?u={generatedImages:l,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Sn(Lt.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var r,o,s,l,u,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.uri&&(!((d=(u=n.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,o;const s=(n=t.config)===null||n===void 0?void 0:n.tools;if(!s)return t;const l=await Promise.all(s.map(async d=>Wn(d)?await d.tool():d)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(u.config.tools=l,t.config&&t.config.tools&&om(t.config.tools)){const d=(o=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&o!==void 0?o:{};let f=Object.assign({},d);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),sm(f),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(t){var n,r,o;const s=new Map;for(const l of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Wn(l)){const u=l,d=await u.tool();for(const f of(o=d.functionDeclarations)!==null&&o!==void 0?o:[]){if(!f.name)throw new Error("Function declaration name is required.");if(s.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);s.set(f.name,u)}}return s}async processAfcStream(t){var n,r,o;const s=(o=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&o!==void 0?o:rc;let l=!1,u=0;const d=await this.initAfcToolsMap(t);return function(f,p,m){var h,g;return On(this,arguments,function*(){for(var E,C,P,x;u<s;){l&&(u++,l=!1);const k=yield re(f.processParamsMaybeAddMcpUsage(m)),I=yield re(f.generateContentStreamInternal(k)),_=[],S=[];try{for(var y=!0,v=(C=void 0,Dr(I)),w;w=yield re(v.next()),E=w.done,!E;y=!0){x=w.value,y=!1;const M=x;if(yield yield re(M),M.candidates&&(!((h=M.candidates[0])===null||h===void 0)&&h.content)){S.push(M.candidates[0].content);for(const b of(g=M.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(u<s&&b.functionCall){if(!b.functionCall.name)throw new Error("Function call name was not returned by the model.");if(p.has(b.functionCall.name)){const H=yield re(p.get(b.functionCall.name).callTool([b.functionCall]));_.push(...H)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${p.keys()}, mising tool: ${b.functionCall.name}`)}}}}catch(M){C={error:M}}finally{try{!y&&!E&&(P=v.return)&&(yield re(P.call(v)))}finally{if(C)throw C.error}}if(_.length>0){l=!0;const M=new xr;M.candidates=[{content:{role:"user",parts:_}}],yield yield re(M);const b=[];b.push(...S),b.push({role:"user",parts:_});const H=it(m.contents).concat(b);m.contents=H}else break}})}(this,d,t)}async generateContentInternal(t){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Xd(this.apiClient,t);return u=U("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=ec(p),h=new xr;return Object.assign(h,m),h})}else{const f=Qd(this.apiClient,t);return u=U("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=Zd(p),h=new xr;return Object.assign(h,m),h})}}async generateContentStreamInternal(t){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Xd(this.apiClient,t);return u=U("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(m){return On(this,arguments,function*(){var h,g,E,C;try{for(var P=!0,x=Dr(m),y;y=yield re(x.next()),h=y.done,!h;P=!0){C=y.value,P=!1;const v=C,w=ec(yield re(v.json()));w.sdkHttpResponse={headers:v.headers};const k=new xr;Object.assign(k,w),yield yield re(k)}}catch(v){g={error:v}}finally{try{!P&&!h&&(E=x.return)&&(yield re(E.call(x)))}finally{if(g)throw g.error}}})})}else{const f=Qd(this.apiClient,t);return u=U("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}),l.then(function(m){return On(this,arguments,function*(){var h,g,E,C;try{for(var P=!0,x=Dr(m),y;y=yield re(x.next()),h=y.done,!h;P=!0){C=y.value,P=!1;const v=C,w=Zd(yield re(v.json()));w.sdkHttpResponse={headers:v.headers};const k=new xr;Object.assign(k,w),yield yield re(k)}}catch(v){g={error:v}}finally{try{!P&&!h&&(E=x.return)&&(yield re(E.call(x)))}finally{if(g)throw g.error}}})})}}async embedContent(t){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Bv(this.apiClient,t);return u=U("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=$v(p),h=new Ld;return Object.assign(h,m),h})}else{const f=Hv(this.apiClient,t);return u=U("{model}:batchEmbedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=zv(p),h=new Ld;return Object.assign(h,m),h})}}async generateImagesInternal(t){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=tE(this.apiClient,t);return u=U("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=rE(p),h=new Ud;return Object.assign(h,m),h})}else{const f=eE(this.apiClient,t);return u=U("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=nE(p),h=new Ud;return Object.assign(h,m),h})}}async editImageInternal(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Fv(this.apiClient,t);return s=U("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const f=Vv(d),p=new Og;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=tC(this.apiClient,t);return s=U("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const f=nC(d),p=new Wg;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=UE(this.apiClient,t);return s=U("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const f=FE(d),p=new Yg;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=zE(this.apiClient,t);return s=U("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const f=$E(d),p=new Kg;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=EE(this.apiClient,t);return u=U("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>fl(p))}else{const f=vE(this.apiClient,t);return u=U("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>cl(p))}}async listInternal(t){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=AE(this.apiClient,t);return u=U("{models_url}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=PE(p),h=new Fd;return Object.assign(h,m),h})}else{const f=IE(this.apiClient,t);return u=U("{models_url}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=RE(p),h=new Fd;return Object.assign(h,m),h})}}async update(t){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=ZE(this.apiClient,t);return u=U("{model}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>fl(p))}else{const f=XE(this.apiClient,t);return u=U("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>cl(p))}}async delete(t){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Dv(this.apiClient,t);return u=U("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=Lv(p),h=new Vd;return Object.assign(h,m),h})}else{const f=Mv(this.apiClient,t);return u=U("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=bv(p),h=new Vd;return Object.assign(h,m),h})}}async countTokens(t){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Av(this.apiClient,t);return u=U("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=Pv(p),h=new Gd;return Object.assign(h,m),h})}else{const f=Iv(this.apiClient,t);return u=U("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=Rv(p),h=new Gd;return Object.assign(h,m),h})}}async computeTokens(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Cv(this.apiClient,t);return s=U("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const f=Sv(d),p=new jg;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=uE(this.apiClient,t);return u=U("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>{const m=lE(p),h=new fs;return Object.assign(h,m),h})}else{const f=aE(this.apiClient,t);return u=U("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l.then(p=>{const m=iE(p),h=new fs;return Object.assign(h,m),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LC extends Ft{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=qg(t);return u=U("{operationName}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l}else{const f=Gg(t);return u=U("{operationName}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),l}}async fetchPredictVideosOperationInternal(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=Mg(t);return s=U("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UC(e){const t={},n=i(e,["data"]);if(n!=null&&a(t,["data"],n),i(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=i(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function FC(e){const t={},n=i(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>OC(s))),a(t,["parts"],o)}const r=i(e,["role"]);return r!=null&&a(t,["role"],r),t}function VC(e,t,n){const r={},o=i(t,["expireTime"]);n!==void 0&&o!=null&&a(n,["expireTime"],o);const s=i(t,["newSessionExpireTime"]);n!==void 0&&s!=null&&a(n,["newSessionExpireTime"],s);const l=i(t,["uses"]);n!==void 0&&l!=null&&a(n,["uses"],l);const u=i(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&a(n,["bidiGenerateContentSetup"],JC(e,u));const d=i(t,["lockAdditionalFields"]);return n!==void 0&&d!=null&&a(n,["fieldMask"],d),r}function GC(e,t){const n={},r=i(t,["config"]);return r!=null&&a(n,["config"],VC(e,r,n)),n}function qC(e){const t={};if(i(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=i(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const r=i(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function HC(e){const t={},n=i(e,["id"]);n!=null&&a(t,["id"],n);const r=i(e,["args"]);r!=null&&a(t,["args"],r);const o=i(e,["name"]);if(o!=null&&a(t,["name"],o),i(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(i(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function BC(e){const t={};if(i(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=i(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function zC(e){const t={};if(i(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(i(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=i(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function $C(e,t){const n={},r=i(e,["generationConfig"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig"],r);const o=i(e,["responseModalities"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig","responseModalities"],o);const s=i(e,["temperature"]);t!==void 0&&s!=null&&a(t,["setup","generationConfig","temperature"],s);const l=i(e,["topP"]);t!==void 0&&l!=null&&a(t,["setup","generationConfig","topP"],l);const u=i(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const d=i(e,["maxOutputTokens"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","maxOutputTokens"],d);const f=i(e,["mediaResolution"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","mediaResolution"],f);const p=i(e,["seed"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","seed"],p);const m=i(e,["speechConfig"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","speechConfig"],Ea(m));const h=i(e,["thinkingConfig"]);t!==void 0&&h!=null&&a(t,["setup","generationConfig","thinkingConfig"],h);const g=i(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],g);const E=i(e,["systemInstruction"]);t!==void 0&&E!=null&&a(t,["setup","systemInstruction"],FC(Me(E)));const C=i(e,["tools"]);if(t!==void 0&&C!=null){let I=ir(C);Array.isArray(I)&&(I=I.map(_=>YC(sr(_)))),a(t,["setup","tools"],I)}const P=i(e,["sessionResumption"]);t!==void 0&&P!=null&&a(t,["setup","sessionResumption"],WC(P));const x=i(e,["inputAudioTranscription"]);t!==void 0&&x!=null&&a(t,["setup","inputAudioTranscription"],x);const y=i(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&a(t,["setup","outputAudioTranscription"],y);const v=i(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&a(t,["setup","realtimeInputConfig"],v);const w=i(e,["contextWindowCompression"]);t!==void 0&&w!=null&&a(t,["setup","contextWindowCompression"],w);const k=i(e,["proactivity"]);return t!==void 0&&k!=null&&a(t,["setup","proactivity"],k),n}function JC(e,t){const n={},r=i(t,["model"]);r!=null&&a(n,["setup","model"],Q(e,r));const o=i(t,["config"]);return o!=null&&a(n,["config"],$C(o,n)),n}function OC(e){const t={},n=i(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const r=i(e,["codeExecutionResult"]);r!=null&&a(t,["codeExecutionResult"],r);const o=i(e,["executableCode"]);o!=null&&a(t,["executableCode"],o);const s=i(e,["fileData"]);s!=null&&a(t,["fileData"],qC(s));const l=i(e,["functionCall"]);l!=null&&a(t,["functionCall"],HC(l));const u=i(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const d=i(e,["inlineData"]);d!=null&&a(t,["inlineData"],UC(d));const f=i(e,["text"]);f!=null&&a(t,["text"],f);const p=i(e,["thought"]);p!=null&&a(t,["thought"],p);const m=i(e,["thoughtSignature"]);m!=null&&a(t,["thoughtSignature"],m);const h=i(e,["videoMetadata"]);return h!=null&&a(t,["videoMetadata"],h),t}function WC(e){const t={},n=i(e,["handle"]);if(n!=null&&a(t,["handle"],n),i(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function YC(e){const t={},n=i(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(m=>m)),a(t,["functionDeclarations"],p)}if(i(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=i(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const o=i(e,["computerUse"]);o!=null&&a(t,["computerUse"],o);const s=i(e,["fileSearch"]);s!=null&&a(t,["fileSearch"],s);const l=i(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),i(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=i(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],BC(u));const d=i(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],zC(d));const f=i(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KC(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const o=Object.keys(r).map(s=>`${n}.${s}`);t.push(...o)}else t.push(n)}return t.join(",")}function jC(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(e.bidiGenerateContentSetup=s,n=s):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const o=e.fieldMask;if(n){const s=KC(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)s?e.fieldMask=s:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];o.length>0&&(u=o.map(f=>l.includes(f)?`generationConfig.${f}`:f));const d=[];s&&d.push(s),u.length>0&&d.push(...u),d.length>0?e.fieldMask=d.join(","):delete e.fieldMask}else delete e.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?e.fieldMask=o.join(","):delete e.fieldMask;return e}class QC extends Ft{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=GC(this.apiClient,t);s=U("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const d=jC(u,t.config);return o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XC(e,t){const n={},r=i(e,["displayName"]);return t!==void 0&&r!=null&&a(t,["displayName"],r),n}function ZC(e){const t={},n=i(e,["config"]);return n!=null&&XC(n,t),t}function eS(e,t){const n={},r=i(e,["force"]);return t!==void 0&&r!=null&&a(t,["_query","force"],r),n}function tS(e){const t={},n=i(e,["name"]);n!=null&&a(t,["_url","name"],n);const r=i(e,["config"]);return r!=null&&eS(r,t),t}function nS(e){const t={},n=i(e,["name"]);return n!=null&&a(t,["_url","name"],n),t}function rS(e,t){const n={},r=i(e,["customMetadata"]);if(t!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>l)),a(t,["customMetadata"],s)}const o=i(e,["chunkingConfig"]);return t!==void 0&&o!=null&&a(t,["chunkingConfig"],o),n}function oS(e){const t={},n=i(e,["name"]);n!=null&&a(t,["name"],n);const r=i(e,["metadata"]);r!=null&&a(t,["metadata"],r);const o=i(e,["done"]);o!=null&&a(t,["done"],o);const s=i(e,["error"]);s!=null&&a(t,["error"],s);const l=i(e,["response"]);return l!=null&&a(t,["response"],iS(l)),t}function sS(e){const t={},n=i(e,["fileSearchStoreName"]);n!=null&&a(t,["_url","file_search_store_name"],n);const r=i(e,["fileName"]);r!=null&&a(t,["fileName"],r);const o=i(e,["config"]);return o!=null&&rS(o,t),t}function iS(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["parent"]);r!=null&&a(t,["parent"],r);const o=i(e,["documentName"]);return o!=null&&a(t,["documentName"],o),t}function lS(e,t){const n={},r=i(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const o=i(e,["pageToken"]);return t!==void 0&&o!=null&&a(t,["_query","pageToken"],o),n}function aS(e){const t={},n=i(e,["config"]);return n!=null&&lS(n,t),t}function uS(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const o=i(e,["fileSearchStores"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),a(t,["fileSearchStores"],s)}return t}function dS(e,t){const n={},r=i(e,["mimeType"]);t!==void 0&&r!=null&&a(t,["mimeType"],r);const o=i(e,["displayName"]);t!==void 0&&o!=null&&a(t,["displayName"],o);const s=i(e,["customMetadata"]);if(t!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),a(t,["customMetadata"],u)}const l=i(e,["chunkingConfig"]);return t!==void 0&&l!=null&&a(t,["chunkingConfig"],l),n}function cS(e){const t={},n=i(e,["fileSearchStoreName"]);n!=null&&a(t,["_url","file_search_store_name"],n);const r=i(e,["config"]);return r!=null&&dS(r,t),t}function fS(e){const t={},n=i(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pS(e,t){const n={},r=i(e,["force"]);return t!==void 0&&r!=null&&a(t,["_query","force"],r),n}function mS(e){const t={},n=i(e,["name"]);n!=null&&a(t,["_url","name"],n);const r=i(e,["config"]);return r!=null&&pS(r,t),t}function hS(e){const t={},n=i(e,["name"]);return n!=null&&a(t,["_url","name"],n),t}function gS(e,t){const n={},r=i(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const o=i(e,["pageToken"]);return t!==void 0&&o!=null&&a(t,["_query","pageToken"],o),n}function yS(e){const t={},n=i(e,["parent"]);n!=null&&a(t,["_url","parent"],n);const r=i(e,["config"]);return r!=null&&gS(r,t),t}function xS(e){const t={},n=i(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const r=i(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const o=i(e,["documents"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),a(t,["documents"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vS extends Ft{constructor(t){super(),this.apiClient=t,this.list=async n=>new Sn(Lt.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=hS(t);return s=U("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(t){var n,r;let o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=mS(t);o=U("{name}",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=yS(t);return s=U("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const f=xS(d),p=new Qg;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ES extends Ft{constructor(t,n=new vS(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new Sn(Lt.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ZC(t);return s=U("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async get(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=nS(t);return s=U("{name}",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(t){var n,r;let o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=tS(t);o=U("{name}",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=aS(t);return s=U("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const f=uS(d),p=new Xg;return Object.assign(p,f),p})}}async uploadToFileSearchStoreInternal(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=cS(t);return s=U("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const f=fS(d),p=new Zg;return Object.assign(p,f),p})}}async importFile(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=sS(t);return s=U("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const f=oS(d),p=new ha;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CS(e,t){const n={},r=i(e,["name"]);return r!=null&&a(n,["_url","name"],r),n}function SS(e,t){const n={},r=i(e,["name"]);return r!=null&&a(n,["_url","name"],r),n}function wS(e,t,n){const r={};if(i(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=i(e,["tunedModelDisplayName"]);if(t!==void 0&&o!=null&&a(t,["displayName"],o),i(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=i(e,["epochCount"]);t!==void 0&&s!=null&&a(t,["tuningTask","hyperparameters","epochCount"],s);const l=i(e,["learningRateMultiplier"]);if(l!=null&&a(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),i(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(i(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(i(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=i(e,["batchSize"]);t!==void 0&&u!=null&&a(t,["tuningTask","hyperparameters","batchSize"],u);const d=i(e,["learningRate"]);if(t!==void 0&&d!=null&&a(t,["tuningTask","hyperparameters","learningRate"],d),i(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(i(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function TS(e,t,n){const r={};let o=i(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const g=i(e,["validationDataset"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec"],lc(g))}else if(o==="PREFERENCE_TUNING"){const g=i(e,["validationDataset"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec"],lc(g))}const s=i(e,["tunedModelDisplayName"]);t!==void 0&&s!=null&&a(t,["tunedModelDisplayName"],s);const l=i(e,["description"]);t!==void 0&&l!=null&&a(t,["description"],l);let u=i(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const g=i(e,["epochCount"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(u==="PREFERENCE_TUNING"){const g=i(e,["epochCount"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let d=i(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const g=i(e,["learningRateMultiplier"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(d==="PREFERENCE_TUNING"){const g=i(e,["learningRateMultiplier"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let f=i(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const g=i(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(f==="PREFERENCE_TUNING"){const g=i(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let p=i(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const g=i(e,["adapterSize"]);t!==void 0&&g!=null&&a(t,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(p==="PREFERENCE_TUNING"){const g=i(e,["adapterSize"]);t!==void 0&&g!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(i(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(i(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=i(e,["labels"]);t!==void 0&&m!=null&&a(t,["labels"],m);const h=i(e,["beta"]);return t!==void 0&&h!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function NS(e,t){const n={},r=i(e,["baseModel"]);r!=null&&a(n,["baseModel"],r);const o=i(e,["preTunedModel"]);o!=null&&a(n,["preTunedModel"],o);const s=i(e,["trainingDataset"]);s!=null&&US(s);const l=i(e,["config"]);return l!=null&&wS(l,n),n}function kS(e,t){const n={},r=i(e,["baseModel"]);r!=null&&a(n,["baseModel"],r);const o=i(e,["preTunedModel"]);o!=null&&a(n,["preTunedModel"],o);const s=i(e,["trainingDataset"]);s!=null&&FS(s,n,t);const l=i(e,["config"]);return l!=null&&TS(l,n,t),n}function _S(e,t){const n={},r=i(e,["name"]);return r!=null&&a(n,["_url","name"],r),n}function IS(e,t){const n={},r=i(e,["name"]);return r!=null&&a(n,["_url","name"],r),n}function AS(e,t,n){const r={},o=i(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const s=i(e,["pageToken"]);t!==void 0&&s!=null&&a(t,["_query","pageToken"],s);const l=i(e,["filter"]);return t!==void 0&&l!=null&&a(t,["_query","filter"],l),r}function RS(e,t,n){const r={},o=i(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const s=i(e,["pageToken"]);t!==void 0&&s!=null&&a(t,["_query","pageToken"],s);const l=i(e,["filter"]);return t!==void 0&&l!=null&&a(t,["_query","filter"],l),r}function PS(e,t){const n={},r=i(e,["config"]);return r!=null&&AS(r,n),n}function MS(e,t){const n={},r=i(e,["config"]);return r!=null&&RS(r,n),n}function DS(e,t){const n={},r=i(e,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const o=i(e,["nextPageToken"]);o!=null&&a(n,["nextPageToken"],o);const s=i(e,["tunedModels"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>im(u))),a(n,["tuningJobs"],l)}return n}function bS(e,t){const n={},r=i(e,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const o=i(e,["nextPageToken"]);o!=null&&a(n,["nextPageToken"],o);const s=i(e,["tuningJobs"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>ml(u))),a(n,["tuningJobs"],l)}return n}function LS(e,t){const n={},r=i(e,["name"]);r!=null&&a(n,["model"],r);const o=i(e,["name"]);return o!=null&&a(n,["endpoint"],o),n}function US(e,t){const n={};if(i(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(i(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=i(e,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),a(n,["examples","examples"],o)}return n}function FS(e,t,n){const r={};let o=i(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const l=i(e,["gcsUri"]);t!==void 0&&l!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(o==="PREFERENCE_TUNING"){const l=i(e,["gcsUri"]);t!==void 0&&l!=null&&a(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let s=i(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const l=i(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(s==="PREFERENCE_TUNING"){const l=i(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&a(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(i(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function im(e,t){const n={},r=i(e,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const o=i(e,["name"]);o!=null&&a(n,["name"],o);const s=i(e,["state"]);s!=null&&a(n,["state"],Hp(s));const l=i(e,["createTime"]);l!=null&&a(n,["createTime"],l);const u=i(e,["tuningTask","startTime"]);u!=null&&a(n,["startTime"],u);const d=i(e,["tuningTask","completeTime"]);d!=null&&a(n,["endTime"],d);const f=i(e,["updateTime"]);f!=null&&a(n,["updateTime"],f);const p=i(e,["description"]);p!=null&&a(n,["description"],p);const m=i(e,["baseModel"]);m!=null&&a(n,["baseModel"],m);const h=i(e,["_self"]);return h!=null&&a(n,["tunedModel"],LS(h)),n}function ml(e,t){const n={},r=i(e,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const o=i(e,["name"]);o!=null&&a(n,["name"],o);const s=i(e,["state"]);s!=null&&a(n,["state"],Hp(s));const l=i(e,["createTime"]);l!=null&&a(n,["createTime"],l);const u=i(e,["startTime"]);u!=null&&a(n,["startTime"],u);const d=i(e,["endTime"]);d!=null&&a(n,["endTime"],d);const f=i(e,["updateTime"]);f!=null&&a(n,["updateTime"],f);const p=i(e,["error"]);p!=null&&a(n,["error"],p);const m=i(e,["description"]);m!=null&&a(n,["description"],m);const h=i(e,["baseModel"]);h!=null&&a(n,["baseModel"],h);const g=i(e,["tunedModel"]);g!=null&&a(n,["tunedModel"],g);const E=i(e,["preTunedModel"]);E!=null&&a(n,["preTunedModel"],E);const C=i(e,["supervisedTuningSpec"]);C!=null&&a(n,["supervisedTuningSpec"],C);const P=i(e,["preferenceOptimizationSpec"]);P!=null&&a(n,["preferenceOptimizationSpec"],P);const x=i(e,["tuningDataStats"]);x!=null&&a(n,["tuningDataStats"],x);const y=i(e,["encryptionSpec"]);y!=null&&a(n,["encryptionSpec"],y);const v=i(e,["partnerModelTuningSpec"]);v!=null&&a(n,["partnerModelTuningSpec"],v);const w=i(e,["customBaseModel"]);w!=null&&a(n,["customBaseModel"],w);const k=i(e,["experiment"]);k!=null&&a(n,["experiment"],k);const I=i(e,["labels"]);I!=null&&a(n,["labels"],I);const _=i(e,["outputUri"]);_!=null&&a(n,["outputUri"],_);const S=i(e,["pipelineJob"]);S!=null&&a(n,["pipelineJob"],S);const M=i(e,["serviceAccount"]);M!=null&&a(n,["serviceAccount"],M);const b=i(e,["tunedModelDisplayName"]);b!=null&&a(n,["tunedModelDisplayName"],b);const H=i(e,["veoTuningSpec"]);return H!=null&&a(n,["veoTuningSpec"],H),n}function VS(e,t){const n={},r=i(e,["sdkHttpResponse"]);r!=null&&a(n,["sdkHttpResponse"],r);const o=i(e,["name"]);o!=null&&a(n,["name"],o);const s=i(e,["metadata"]);s!=null&&a(n,["metadata"],s);const l=i(e,["done"]);l!=null&&a(n,["done"],l);const u=i(e,["error"]);return u!=null&&a(n,["error"],u),n}function lc(e,t){const n={},r=i(e,["gcsUri"]);r!=null&&a(n,["validationDatasetUri"],r);const o=i(e,["vertexDatasetResource"]);return o!=null&&a(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GS extends Ft{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Sn(Lt.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:o});return s.baseModel=void 0,await this.tuneInternal(s)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),s=await this.tuneMldevInternal(o);let l="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?l=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(l=s.name.split("/operations/")[0]),{name:l,state:ll.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=IS(t);return u=U("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>ml(p))}else{const f=_S(t);return u=U("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>im(p))}}async listInternal(t){var n,r,o,s;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=MS(t);return u=U("tuningJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=bS(p),h=new qd;return Object.assign(h,m),h})}else{const f=PS(t);return u=U("tunedModels",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),l.then(p=>{const m=DS(p),h=new qd;return Object.assign(h,m),h})}}async cancel(t){var n,r,o,s;let l="",u={};if(this.apiClient.isVertexAI()){const d=SS(t);l=U("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const d=CS(t);l=U("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async tuneInternal(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI()){const u=kS(t,t);return s=U("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>ml(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let o,s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=NS(t);return s=U("tunedModels",u._url),l=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>VS(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qS{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const HS=1024*1024*8,BS=3,zS=1e3,$S=2,ms="x-goog-upload-status";async function JS(e,t,n){var r;const o=await lm(e,t,n),s=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[ms])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function OS(e,t,n){var r;const o=await lm(e,t,n),s=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[ms])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=Lp(s),u=new ga;return Object.assign(u,l),u}async function lm(e,t,n){var r,o;let s=0,l=0,u=new al(new Response),d="upload";for(s=e.size;l<s;){const f=Math.min(HS,s-l),p=e.slice(l,l+f);l+f>=s&&(d+=", finalize");let m=0,h=zS;for(;m<BS&&(u=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(f)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[ms]));)m++,await YS(h),h=h*$S;if(l+=f,((o=u==null?void 0:u.headers)===null||o===void 0?void 0:o[ms])!=="active")break;if(s<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function WS(e){return{size:e.size,type:e.type}}function YS(e){return new Promise(t=>setTimeout(t,e))}class KS{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await JS(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await OS(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await WS(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jS{create(t,n,r){return new QS(t,n,r)}}class QS{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ac="x-goog-api-key";class XS{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(ac)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(ac,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZS="gl-node/";class ew{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=Rg(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion;const o=new XS(this.apiKey);this.apiClient=new hC({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:ZS+"web",uploader:new KS,downloader:new qS}),this.models=new bC(this.apiClient),this.live=new IC(this.apiClient,o,new jS),this.batches=new sx(this.apiClient),this.chats=new qx(this.models,this.apiClient),this.caches=new Fx(this.apiClient),this.files=new jx(this.apiClient),this.operations=new LC(this.apiClient),this.authTokens=new QC(this.apiClient),this.tunings=new GS(this.apiClient),this.fileSearchStores=new ES(this.apiClient)}}const ci={},tw=e=>`
You are an expert Revit API Automation Engineer and Python Developer. 
Analyze the following automation request for Revit ${e.revitVersion} in Project "${e.projectName}".

REQUEST TITLE: ${e.title}
DESCRIPTION: ${e.description}

Your goal is to provide a JSON response with:
1. complexityScore: An integer 1-10.
2. suggestedNamespaces: A list of relevant Autodesk.Revit.DB namespaces.
3. implementationStrategy: A concise textual explanation of how to solve this.
4. pseudoCode: A pythonic pseudo-code snippet using the Revit API structure.
`,nw=async e=>{const t=ci==null?void 0:ci.VITE_API_KEY,n=new ew({apiKey:t}),r=[{text:tw(e)}];e.attachments.forEach(o=>{if(o.type.startsWith("image/")){const s=o.data.split(",")[1];r.push({inlineData:{mimeType:o.type,data:s}})}});try{const s=(await n.models.generateContent({model:"gemini-2.5-flash",contents:{parts:r},config:{responseMimeType:"application/json",responseSchema:{type:He.OBJECT,properties:{complexityScore:{type:He.INTEGER},suggestedNamespaces:{type:He.ARRAY,items:{type:He.STRING}},implementationStrategy:{type:He.STRING},pseudoCode:{type:He.STRING}},required:["complexityScore","suggestedNamespaces","implementationStrategy","pseudoCode"]}}})).text;if(!s)throw new Error("No response from AI");return JSON.parse(s)}catch(o){return console.error("Gemini Error:",o),{complexityScore:5,suggestedNamespaces:["Autodesk.Revit.DB","Autodesk.Revit.UI"],implementationStrategy:"Error connecting to AI. Please check API Key in .env file.",pseudoCode:`# AI Connection Failed
# Please implement manually`}}},rw=({request:e,isDeveloper:t,onBack:n,onUpdate:r})=>{var oo;const{user:o}=or(),[s,l]=A.useState(!1),[u,d]=A.useState(e),[f,p]=A.useState(e.resultFiles||[]),[m,h]=A.useState([]),[g,E]=A.useState(!1),[C,P]=A.useState(!1),[x,y]=A.useState(e.comments||[]),[v,w]=A.useState(!1),[k,I]=A.useState(""),[_,S]=A.useState(null),M=A.useRef(null),b=[...u.submissionEvents||[]].sort((T,J)=>T.createdAt-J.createdAt),H=Math.max(u.submissionCount??0,b.length),N=b.length===0&&H>0?(()=>{const T=u.updatedAt||u.createdAt||Date.now(),J=[{id:-1,requestId:Number(u.id),eventType:"SUBMISSION",createdAt:T,addedFiles:f.length}];if(H>1)for(let fe=1;fe<H;fe++)J.push({id:-1-fe,requestId:Number(u.id),eventType:"RESUBMISSION",createdAt:T+fe,addedFiles:0});return J})():b,$=[...(f||[]).map(T=>({key:`saved-${T.id??T.name}`,name:T.name,type:T.type,status:"saved",attachment:T})),...m.map((T,J)=>({key:`pending-${J}-${T.name}`,name:T.name,type:T.type||"File",status:"pending",index:J}))],X=H>0;A.useEffect(()=>{d(e),p(e.resultFiles||[]),h([]),y(e.comments||[])},[e]),A.useEffect(()=>{t&&de().catch(console.error)},[]);const B=async T=>{const J={...u,status:T,updatedAt:Date.now()};await To(J),d(J),r()},O=async()=>{l(!0);try{const T=await nw(u),J={...u,aiAnalysis:T};await To(J),d(J),r()}catch(T){console.error(T),S({text:"Analysis failed. Ensure API key is set.",tone:"error"})}finally{l(!1)}},de=async()=>{const T=await ie.get(`/requests/${u.id}`);return d(T),p(T.resultFiles||[]),y(T.comments||[]),T},L=async()=>{w(!0);try{const T=await ie.get(`/requests/${u.id}/comments`);y(T)}catch(T){console.error(T)}finally{w(!1)}};A.useEffect(()=>{L()},[u.id]);const V=T=>{const J=Array.from(T||[]);J.length!==0&&(h(fe=>[...fe,...J]),M.current&&(M.current.value=""))},z=T=>{T.target.files&&T.target.files.length>0&&V(T.target.files)},ee=T=>{T.preventDefault(),P(!1),T.dataTransfer.files&&T.dataTransfer.files.length>0&&V(T.dataTransfer.files)},ce=T=>{h(J=>J.filter((fe,Ce)=>Ce!==T))},Nt=async T=>{var fe,Ce;const J=T.id??((Ce=(fe=u.resultFiles)==null?void 0:fe.find(Te=>Te.name===T.name))==null?void 0:Ce.id);if(!J){p(Te=>Te.filter(vt=>vt.name!==T.name)),S({text:"Removed from stack.",tone:"info"});return}E(!0);try{await ie.delete(`/requests/${Number(u.id)}/result-files/${Number(J)}?name=${encodeURIComponent(T.name)}`),await de(),r()}catch(Te){S({text:Te.message||"Failed to delete file",tone:"error"})}finally{E(!1)}},et=async()=>{if(u.id){if(m.length===0){S({text:"Add at least one file to submit or resubmit.",tone:"error"});return}E(!0);try{const T=await Promise.all(m.map(async fe=>({name:fe.name,type:fe.type||"application/octet-stream",data:await Pp(fe)})));await ie.post(`/requests/${u.id}/result-files`,T),await To({...u,status:Y.COMPLETED});const J=await de();h([]),r(),await Mp({subject:`Request Completed: ${J.title}`,body:`Good news! Your automation request "${J.title}" has been updated by the development team.

Project: ${J.projectName}
Status: ${J.status}
Updated: ${new Date().toLocaleDateString()}`}),S({text:"Files submitted successfully.",tone:"success"})}catch(T){console.error(T),S({text:T.message||"Failed to submit files",tone:"error"})}finally{E(!1)}}},Gt=async()=>{const T={...u,status:Y.RETURNED,updatedAt:Date.now()};await To(T),d(T),r(),await L()},be=async()=>{if(k.trim())try{await ie.post(`/requests/${u.id}/comments`,{content:k.trim()}),I(""),await L()}catch(T){S({text:T.message||"Failed to add comment",tone:"error"})}},ut=T=>{const J=atob(T.data.split(",")[1]),fe=T.data.split(",")[0].split(":")[1].split(";")[0],Ce=new ArrayBuffer(J.length),Te=new Uint8Array(Ce);for(let R=0;R<J.length;R++)Te[R]=J.charCodeAt(R);const vt=new Blob([Ce],{type:fe}),Ne=document.createElement("a");Ne.href=URL.createObjectURL(vt),Ne.download=T.name,document.body.appendChild(Ne),Ne.click(),document.body.removeChild(Ne)},Ls=T=>T?new Date(T).toLocaleString():"---",ro=(()=>{const T=[];T.push({title:"Request Submitted",timestamp:u.createdAt,color:"border-green-500",detail:`Filed by ${u.requesterName}`,order:0});let J=0;N.forEach((Ne,R)=>{const G=Ne.eventType==="RESUBMISSION";G&&(J+=1),T.push({title:G?`Resubmission #${J}`:"Files Submitted",timestamp:Ne.createdAt,color:G?"border-orange-500":"border-blue-500",detail:`${Ne.addedFiles} file${Ne.addedFiles===1?"":"s"} stacked`,order:R+1})});const fe=u.updatedAt||u.createdAt;let Ce="",Te="border-slate-400",vt="Status updated";return u.status===Y.COMPLETED?(Ce="Completed",Te="border-emerald-500",vt="Marked as completed"):u.status===Y.RETURNED?(Ce="Returned to Developer",Te="border-red-500",vt="Requester returned the delivery"):u.status===Y.IN_PROGRESS?(Ce="In Progress",Te="border-blue-400"):u.status===Y.PENDING?(Ce="Pending",Te="border-yellow-400"):u.status===Y.REJECTED&&(Ce="Rejected",Te="border-red-500"),Ce&&T.push({title:Ce,timestamp:fe,color:Te,detail:vt,order:999}),T.sort((Ne,R)=>Ne.timestamp===R.timestamp?Ne.order-R.order:Ne.timestamp-R.timestamp)})();return c.jsxs("div",{className:"max-w-6xl mx-auto pb-12 text-slate-900 dark:text-slate-100",children:[c.jsxs("button",{onClick:n,className:"mb-6 flex items-center text-slate-500 dark:text-slate-300 hover:text-indigo-400 transition text-sm font-medium",children:[c.jsx(B0,{className:"w-4 h-4 mr-2"})," Back to Dashboard"]}),c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-8",children:[c.jsxs("div",{className:"xl:col-span-3 space-y-6",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-start mb-6",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsxs("span",{className:"text-xs font-mono text-slate-400 dark:text-slate-500",children:["ID: ",u.id]}),c.jsxs("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-bold ${u.priority==="CRITICAL"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-200":u.priority==="HIGH"?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-200":"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-200"}`,children:[u.priority," Priority"]})]}),c.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white leading-tight",children:u.title})]}),t?c.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 dark:bg-slate-800 p-1 rounded-lg border border-slate-200 dark:border-slate-700",children:[c.jsx("span",{className:"text-xs font-semibold text-slate-500 dark:text-slate-300 px-2",children:"Status:"}),c.jsx("select",{value:u.status,onChange:T=>B(T.target.value),className:"bg-white dark:bg-slate-900 border-0 text-slate-900 dark:text-slate-100 text-sm rounded-md focus:ring-0 py-1.5 pl-3 pr-8 font-medium shadow-sm",children:Object.values(Y).map(T=>c.jsx("option",{value:T,children:T},T))})]}):c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:`px-4 py-2 rounded-lg text-sm font-bold border ${u.status===Y.COMPLETED?"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800":u.status===Y.IN_PROGRESS?"bg-blue-50 text-blue-700 border-blue-200 dark:bg-blue-900/30 dark:text-blue-200 dark:border-blue-800":u.status===Y.RETURNED?"bg-orange-50 text-orange-700 border-orange-200 dark:bg-orange-900/30 dark:text-orange-200 dark:border-orange-800":"bg-slate-50 text-slate-700 border-slate-200 dark:bg-slate-800 dark:text-slate-200 dark:border-slate-700"}`,children:u.status}),u.status===Y.COMPLETED&&c.jsx("button",{onClick:Gt,className:"px-3 py-2 rounded-lg text-sm font-medium bg-orange-500 hover:bg-orange-600 text-white shadow-sm",children:"Return to Developer"})]})]}),c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-lg p-4 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mb-8 border border-slate-100 dark:border-slate-700",children:[c.jsxs("div",{children:[c.jsx("span",{className:"block text-xs text-slate-500 dark:text-slate-300 uppercase font-semibold mb-1",children:"Project"}),c.jsxs("div",{className:"flex items-center font-medium text-slate-900 dark:text-slate-100",children:[c.jsx(Np,{className:"w-3.5 h-3.5 mr-1.5 text-slate-400"})," ",u.projectName]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-xs text-slate-500 dark:text-slate-300 uppercase font-semibold mb-1",children:"Revit Version"}),c.jsxs("div",{className:"flex items-center font-medium text-slate-900 dark:text-slate-100",children:[c.jsx(eg,{className:"w-3.5 h-3.5 mr-1.5 text-slate-400"})," ",u.revitVersion]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-xs text-slate-500 dark:text-slate-300 uppercase font-semibold mb-1",children:"Requester"}),c.jsxs("div",{className:"flex items-center font-medium text-slate-900 dark:text-slate-100",children:[c.jsx(Rp,{className:"w-3.5 h-3.5 mr-1.5 text-slate-400"})," ",u.requesterName]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"block text-xs text-slate-500 dark:text-slate-300 uppercase font-semibold mb-1",children:"Due Date"}),c.jsxs("div",{className:"flex items-center font-medium text-slate-900 dark:text-slate-100",children:[c.jsx(Qr,{className:"w-3.5 h-3.5 mr-1.5 text-slate-400"}),u.dueDate?new Date(u.dueDate).toLocaleDateString():"None"]})]})]}),c.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-2",children:"Description"}),c.jsx("p",{className:"text-slate-600 dark:text-slate-200 whitespace-pre-wrap leading-relaxed mb-8",children:u.description})]}),((oo=u.attachments)==null?void 0:oo.length)>0&&c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-white uppercase tracking-wide mb-3",children:"Attachments"}),c.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2",children:u.attachments.map((T,J)=>c.jsxs("div",{className:"relative group flex-shrink-0",children:[T.type.startsWith("image/")?c.jsx("img",{src:T.data,alt:T.name,className:"h-40 w-auto rounded-lg border border-slate-200 dark:border-slate-700 object-cover shadow-sm group-hover:shadow-md transition"}):T.type.includes("pdf")?c.jsx("object",{data:T.data,type:T.type,className:"h-40 w-32 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm",children:c.jsx("div",{className:"h-full w-full flex items-center justify-center bg-slate-50 dark:bg-slate-800 text-slate-500 dark:text-slate-300 text-xs px-2 text-center",children:"PDF preview unavailable"})}):c.jsxs("div",{className:"h-40 w-32 bg-slate-50 dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 flex flex-col items-center justify-center p-4 text-center hover:bg-slate-100 dark:hover:bg-slate-700 transition",children:[c.jsx(ai,{className:"w-8 h-8 text-slate-400 dark:text-slate-300 mb-2"}),c.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-200 break-all",children:T.name})]}),t&&c.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition rounded-lg flex items-center justify-center gap-2",children:c.jsx("button",{onClick:fe=>{fe.stopPropagation(),ut(T)},className:"bg-white text-slate-800 p-2 rounded-full hover:bg-indigo-50 hover:text-indigo-600 transition",title:"Download File",children:c.jsx(j0,{className:"w-4 h-4"})})}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 text-white text-[10px] p-1 truncate rounded-b-lg text-center opacity-0 group-hover:opacity-100 transition",children:T.name})]},J))})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden",children:[_&&c.jsx("div",{className:`mb-4 px-4 py-2 rounded-lg text-sm border ${_.tone==="success"?"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-200 dark:border-green-800":_.tone==="error"?"bg-red-50 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-200 dark:border-red-800":"bg-slate-50 text-slate-700 border-slate-200 dark:bg-slate-800 dark:text-slate-200 dark:border-slate-700"}`,children:_.text}),c.jsx("div",{className:"flex items-center justify-between mb-6 pb-6 border-b border-slate-100 dark:border-slate-800",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"bg-indigo-100 dark:bg-indigo-900/40 p-2 rounded-lg",children:c.jsx(ai,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-300"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Automation Files"}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Upload result files; employees can download them."})]})]})}),t?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:`border-2 border-dashed rounded-lg p-5 transition cursor-pointer ${C?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-slate-300 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/60"}`,onClick:()=>{var T;return(T=M.current)==null?void 0:T.click()},onDragOver:T=>{T.preventDefault(),P(!0)},onDragLeave:()=>P(!1),onDrop:ee,children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"bg-white dark:bg-slate-900 p-2 rounded-md border border-slate-200 dark:border-slate-700 shadow-sm",children:c.jsx(pg,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-300"})}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-100 text-sm",children:"Drag, drop, or click to stack files"}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Add multiple documents at once; after the first submission every upload is tracked as a resubmission."}),c.jsxs("div",{className:"flex flex-wrap gap-3 text-[11px] text-slate-500 dark:text-slate-300",children:[c.jsxs("span",{children:[f.length," in stack"]}),c.jsxs("span",{children:[m.length," pending"]}),H>1&&c.jsxs("span",{className:"text-orange-500 font-semibold",children:["Resubmissions: ",H-1]})]})]})]}),c.jsx("input",{type:"file",multiple:!0,ref:M,onChange:z,className:"hidden"})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm",children:[c.jsxs("button",{onClick:et,className:`px-6 py-2 rounded-lg flex items-center gap-2 transition font-medium shadow-sm ${g?"bg-slate-300 text-slate-500 cursor-not-allowed":"bg-green-600 hover:bg-green-700 text-white"}`,disabled:g,children:[g?c.jsx(Fe,{className:"w-4 h-4 animate-spin"}):c.jsx(cg,{className:"w-4 h-4"})," ",X?"Resubmit Files":"Submit Files"]}),c.jsxs("span",{className:"text-slate-600 dark:text-slate-300",children:[$.length," file(s) in stack"]}),m.length>0&&c.jsxs("span",{className:"text-indigo-600 dark:text-indigo-300",children:[m.length," ready to upload"]})]}),$.length>0?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:$.map(T=>c.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg p-3 bg-white dark:bg-slate-800 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[c.jsx(Mr,{className:`w-5 h-5 ${T.status==="pending"?"text-indigo-400":"text-indigo-600"}`}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white truncate",children:T.name}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-300 truncate",children:T.type}),c.jsx("p",{className:`text-[11px] ${T.status==="pending"?"text-indigo-500":"text-slate-500"}`,children:T.status==="pending"?"Pending resubmission":"In stack"})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[T.status==="saved"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>ut(T.attachment),className:"text-indigo-600 dark:text-indigo-300 hover:underline text-xs",children:"Download"}),c.jsx("button",{onClick:()=>Nt(T.attachment),className:"text-red-500 hover:text-red-600 text-xs",children:"Delete"})]}),T.status==="pending"&&c.jsx("button",{onClick:()=>ce(T.index),className:"text-red-500 hover:text-red-600 text-xs",children:"Remove"})]})]},T.key))}):c.jsx("div",{className:"border border-dashed border-slate-300 dark:border-slate-700 rounded-lg p-6 text-sm text-slate-500 dark:text-slate-300 bg-slate-50 dark:bg-slate-800/50",children:"No result files stacked yet. Add files to submit the solution."})]}):f.length>0?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:f.map((T,J)=>c.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg p-3 bg-slate-50 dark:bg-slate-800 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[c.jsx(Mr,{className:"w-5 h-5 text-indigo-500"}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white truncate",children:T.name}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-300 truncate",children:T.type})]})]}),c.jsx("button",{onClick:()=>ut(T),className:"text-indigo-600 dark:text-indigo-300 hover:underline text-xs",children:"Download"})]},T.id??J))}):c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 border-dashed rounded-lg p-16 text-center",children:[c.jsx(ai,{className:"w-12 h-12 text-slate-300 dark:text-slate-200 mx-auto mb-4"}),c.jsx("h4",{className:"text-slate-900 dark:text-white font-medium",children:"No Files Available Yet"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-300 text-sm mt-1",children:"The developer is still working on this request."})]})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[c.jsx("h4",{className:"font-bold text-slate-900 dark:text-white mb-4 text-sm uppercase tracking-wide",children:"Timeline"}),c.jsxs("div",{className:"relative border-l-2 border-slate-100 dark:border-slate-800 ml-3 space-y-8 py-2",children:[ro.map((T,J)=>c.jsxs("div",{className:"ml-6 relative",children:[c.jsx("div",{className:`absolute -left-[31px] bg-white dark:bg-slate-900 rounded-full w-4 h-4 border-2 ${T.color}`}),c.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:T.title}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-300 mt-0.5",children:Ls(T.timestamp)}),T.detail&&c.jsx("p",{className:"text-[11px] text-slate-400 dark:text-slate-400 mt-0.5",children:T.detail})]},`${T.title}-${T.timestamp}-${J}`)),ro.length===0&&c.jsx("div",{className:"ml-6 text-xs text-slate-500 dark:text-slate-400",children:"No activity yet."})]})]}),t&&c.jsxs("div",{className:"bg-gradient-to-b from-slate-900 via-slate-900 to-indigo-950 p-6 rounded-xl border border-indigo-900/60 shadow-sm relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-500/30 rounded-full blur-3xl -translate-y-16 translate-x-16 opacity-60"}),c.jsxs("div",{className:"flex items-center gap-2 mb-6 relative z-10",children:[c.jsx("div",{className:"bg-white/10 p-1.5 rounded-lg border border-indigo-800 shadow-sm",children:c.jsx(Du,{className:"w-5 h-5 text-indigo-200"})}),c.jsx("h3",{className:"font-bold text-white",children:"Gemini Assistant"})]}),u.aiAnalysis?c.jsxs("div",{className:"space-y-5 text-sm relative z-10 text-slate-200",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{className:"text-slate-400 text-xs font-semibold uppercase",children:"Complexity Score"}),c.jsxs("span",{className:"font-bold text-indigo-200",children:[u.aiAnalysis.complexityScore,"/10"]})]}),c.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${u.aiAnalysis.complexityScore*10}%`}})})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-slate-400 text-xs font-semibold uppercase block mb-2",children:"Namespaces"}),c.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.aiAnalysis.suggestedNamespaces.map((T,J)=>c.jsx("span",{className:"bg-white/10 border border-indigo-800 text-indigo-100 px-2 py-1 rounded text-[10px] font-mono shadow-sm",children:T},J))})]}),c.jsxs("div",{className:"bg-white/5 p-3 rounded-lg border border-indigo-800 shadow-sm",children:[c.jsx("span",{className:"text-slate-400 text-xs font-semibold uppercase block mb-1",children:"Strategy"}),c.jsx("p",{className:"text-slate-200 text-xs leading-relaxed",children:u.aiAnalysis.implementationStrategy})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-slate-400 text-xs font-semibold uppercase block mb-2",children:"Pseudo-Code"}),c.jsx("pre",{className:"bg-[#1e1e1e] text-slate-200 p-3 rounded-lg text-[10px] overflow-x-auto border border-slate-700",children:u.aiAnalysis.pseudoCode})]}),c.jsx("button",{onClick:O,className:"text-xs text-indigo-600 hover:text-indigo-800 font-medium w-full text-center mt-2",children:"Re-run Analysis"})]}):c.jsxs("div",{className:"text-center py-4 relative z-10",children:[c.jsxs("p",{className:"text-xs text-slate-300 mb-6 leading-relaxed",children:["Use AI to estimate complexity, suggest API namespaces, and generate a strategy for ",c.jsxs("span",{className:"font-mono text-indigo-200",children:["Revit ",u.revitVersion]}),"."]}),c.jsx("button",{onClick:O,disabled:s,className:"w-full bg-indigo-600 text-white px-4 py-2.5 rounded-lg transition font-medium flex justify-center items-center gap-2 text-sm shadow-md hover:bg-indigo-700",children:s?c.jsx(Fe,{className:"w-4 h-4 animate-spin"}):c.jsxs(c.Fragment,{children:[c.jsx(Du,{className:"w-4 h-4"})," Analyze Request"]})})]})]})]})]}),c.jsxs("div",{className:"mt-8 bg-white dark:bg-slate-900 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Comments"}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Discuss issues or feedback with the developer."})]}),c.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-200 border border-slate-200 dark:border-slate-700",children:[x.length," ",x.length===1?"comment":"comments"]})]}),c.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto pr-1",children:v?c.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-300",children:[c.jsx(Fe,{className:"w-4 h-4 animate-spin"})," Loading comments..."]}):x.length===0?c.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-300",children:"No comments yet."}):x.map(T=>c.jsxs("div",{className:"border border-slate-200 dark:border-slate-700 rounded-lg p-3 bg-slate-50 dark:bg-slate-800/70",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500 dark:text-slate-300 mb-1",children:[c.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-100",children:T.authorName}),c.jsx("span",{children:new Date(T.createdAt).toLocaleString()})]}),c.jsx("p",{className:"text-sm text-slate-800 dark:text-slate-100 whitespace-pre-wrap",children:T.content})]},T.id))}),c.jsxs("div",{className:"mt-4 flex items-start gap-3",children:[c.jsx("textarea",{value:k,onChange:T=>I(T.target.value),placeholder:"Add a comment...",className:"flex-1 border border-slate-300 dark:border-slate-600 rounded-lg px-3 py-2 text-sm bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-indigo-500 outline-none",rows:2}),c.jsx("button",{onClick:be,disabled:!k.trim(),className:`px-4 py-2 rounded-lg text-sm font-medium ${k.trim()?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-slate-300 text-slate-500 cursor-not-allowed"}`,children:"Post"})]})]})]})},am=(e,t)=>{if(t===null)return null;for(const n of e){if(n.id===t)return n;if(n.children){const r=am(n.children,t);if(r)return r}}return null},qo=(e,t=0,n=new Set)=>{const r=[];return e.forEach(o=>{o.type==="FOLDER"&&!n.has(o.id)&&(r.push({id:o.id,name:o.name,depth:t}),o.children&&r.push(...qo(o.children,t+1,n)))}),r},ow=e=>{const t=new Set;if(!(e!=null&&e.children))return t;const n=r=>{var o;(o=r.children)==null||o.forEach(s=>{t.add(s.id),n(s)})};return n(e),t},hl=(e,t)=>{for(const n of e){if(n.name===t)return n;if(n.children){const r=hl(n.children,t);if(r)return r}}return null},sw=({requests:e,onViewRequest:t})=>{var Te,vt,Ne;const{user:n}=or(),r=(n==null?void 0:n.role)===tt,[o,s]=A.useState([]),[l,u]=A.useState(null),[d,f]=A.useState(new Set),[p,m]=A.useState(!0),[h,g]=A.useState(!1),[E,C]=A.useState(!1),[P,x]=A.useState(""),[y,v]=A.useState(null),[w,k]=A.useState(""),[I,_]=A.useState(null),[S,M]=A.useState(""),[b,H]=A.useState(null),[N,$]=A.useState(!1),X=A.useMemo(()=>{const R=new Map;return e.forEach(G=>R.set(String(G.id),G)),R},[e]),B=A.useCallback(async()=>{m(!0);try{const R=await ie.get("/script-tree");if(s(R),R.length>0&&l===null){const G=hl(R,"Unsorted"),W=(G==null?void 0:G.id)??R[0].id;u(W),f(new Set(W?[W]:[]))}}catch(R){console.error("Failed to load script tree",R)}finally{m(!1)}},[l]);A.useEffect(()=>{B()},[B]);const O=R=>{f(G=>{const W=new Set(G);return W.has(R)?W.delete(R):W.add(R),W})},de=A.useMemo(()=>qo(o),[o]),L=((Te=o[0])==null?void 0:Te.id)??null,V=A.useMemo(()=>hl(o,"Unsorted"),[o]),z=A.useMemo(()=>l===null?V||o[0]:am(o,l)||V||o[0],[l,o,V]),ee=A.useMemo(()=>{const R=new Map,G=(W,Oe)=>{var ge;R.set(W.id,{node:W,parentId:Oe}),(ge=W.children)==null||ge.forEach(dt=>G(dt,W.id))};return o.forEach(W=>G(W,null)),R},[o]),ce=A.useMemo(()=>{const R=[];let G=l??L;for(;G!==null;){const W=ee.get(G);if(!W)break;R.unshift(W.node),G=W.parentId}return R},[ee,l,L]),Nt=A.useMemo(()=>{if(l===null)return null;const R=ee.get(l);return(R==null?void 0:R.parentId)??null},[ee,l]),et=((vt=z==null?void 0:z.children)==null?void 0:vt.filter(R=>R.type==="FILE"))||[],Gt=((Ne=z==null?void 0:z.children)==null?void 0:Ne.filter(R=>R.type==="FOLDER"))||[],be=A.useCallback(R=>R.requestId&&(X.get(String(R.requestId))||X.get(R.requestId)||R.request)||null,[X]),ut=A.useMemo(()=>et.filter(R=>{const G=be(R);return`${R.name} ${(G==null?void 0:G.title)||""} ${(G==null?void 0:G.projectName)||""}`.toLowerCase().includes(w.toLowerCase())}),[et,be,w]),Ls=A.useCallback((R,G)=>{var Sa,wa;R.stopPropagation();const W=be(G),Oe=((Sa=W==null?void 0:W.resultFiles)==null?void 0:Sa.find(wn=>wn.name===G.name))||((wa=W==null?void 0:W.resultFiles)==null?void 0:wa[0]);if(!Oe){H("No files available to download for this request yet.");return}const ge=atob(Oe.data.split(",")[1]),dt=Oe.data.split(",")[0].split(":")[1].split(";")[0],me=new ArrayBuffer(ge.length),We=new Uint8Array(me);for(let wn=0;wn<ge.length;wn++)We[wn]=ge.charCodeAt(wn);const fm=new Blob([me],{type:dt}),ar=document.createElement("a");ar.href=URL.createObjectURL(fm),ar.download=Oe.name,document.body.appendChild(ar),ar.click(),document.body.removeChild(ar)},[be]),ro=async R=>{if(R.preventDefault(),!!P){g(!0);try{await ie.post("/script-tree/folder",{name:P,parentId:y||l||(V==null?void 0:V.id)||L}),C(!1),x(""),v(null),await B()}catch(G){H(G.message||"Failed to create folder")}finally{g(!1)}}},oo=async(R,G)=>{g(!0);try{await ie.put(`/script-tree/${R}`,{parentId:G}),await B()}catch(W){H(W.message||"Failed to move item")}finally{g(!1)}},T=async(R,G)=>{if(G.trim()){g(!0);try{await ie.put(`/script-tree/${R}`,{name:G}),await B()}catch(W){H(W.message||"Failed to rename item")}finally{g(!1)}}},J=async R=>{g(!0);try{await ie.delete(`/script-tree/${R}`),await B(),R===l&&u((V==null?void 0:V.id)||L)}catch(G){H(G.message||"Failed to delete item")}finally{g(!1)}},fe=async()=>{$(!0),H(null);try{const R=sessionStorage.getItem("rah_access_token"),G=await fetch(`${Nn}/script-tree/export`,{headers:R?{Authorization:`Bearer ${R}`}:void 0});if(!G.ok){const dt=await G.text();throw new Error(dt||"Failed to download library")}const W=await G.blob(),Oe=URL.createObjectURL(W),ge=document.createElement("a");ge.href=Oe,ge.download="script-library.zip",document.body.appendChild(ge),ge.click(),document.body.removeChild(ge),URL.revokeObjectURL(Oe)}catch(R){H(R.message||"Failed to download library")}finally{$(!1)}},Ce=(R,G=0)=>{var dt,me;if(R.type!=="FOLDER")return null;const W=R.id===l,Oe=(dt=R.children)==null?void 0:dt.some(We=>We.type==="FOLDER"),ge=d.has(R.id);return c.jsxs("div",{className:"pl-2",children:[c.jsxs("div",{className:`flex items-center justify-between rounded-md px-2 py-1.5 text-sm cursor-pointer transition ${W?"bg-indigo-50 text-indigo-700 border border-indigo-100 dark:bg-indigo-900/40 dark:text-indigo-100 dark:border-indigo-700":"hover:bg-slate-100 dark:hover:bg-slate-800/70 text-slate-700 dark:text-slate-200"}`,onClick:()=>{u(R.id),f(We=>new Set(We).add(R.id))},children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Oe?c.jsx("button",{className:"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200",onClick:We=>{We.stopPropagation(),O(R.id)},children:ge?c.jsx(Y0,{className:"w-4 h-4"}):c.jsx(K0,{className:"w-4 h-4"})}):c.jsx("span",{className:"w-4 h-4"}),ge?c.jsx(sl,{className:"w-4 h-4 text-indigo-600"}):c.jsx(bu,{className:"w-4 h-4 text-slate-500"}),c.jsx("span",{className:"truncate",title:R.name,children:R.name})]}),r&&R.id!==L&&c.jsx("button",{onClick:We=>{We.stopPropagation(),J(R.id)},className:"text-slate-400 hover:text-red-500",title:"Delete folder",children:c.jsx(Ip,{className:"w-4 h-4"})})]}),ge&&((me=R.children)==null?void 0:me.filter(We=>We.type==="FOLDER").map(We=>Ce(We,G+1)))]},R.id)};return p?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx(Fe,{className:"w-8 h-8 animate-spin text-indigo-600"})}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[c.jsxs("div",{className:"flex flex-col gap-3 mb-4",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[c.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Script Library"}),c.jsxs("button",{onClick:fe,className:"px-3 py-2 text-sm rounded-lg bg-slate-900 text-white hover:bg-slate-800 flex items-center gap-2",disabled:N,children:[N?c.jsx(Fe,{className:"w-4 h-4 animate-spin"}):c.jsx(Mr,{className:"w-4 h-4"})," Download Library"]})]}),c.jsxs("div",{className:"relative w-full md:w-72",children:[c.jsx(_p,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),c.jsx("input",{type:"text",placeholder:"Search scripts...",className:"pl-9 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none w-full bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100",value:w,onChange:R=>k(R.target.value)})]})]}),c.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mt-1 flex items-center gap-2",children:[c.jsx(pa,{className:"w-4 h-4"})," Read access for everyone; only developers can organize. Anyone can export a full copy."]}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Downloading exports the entire library as a zip (all folders and files). Treat it as a full backup and store it securely."})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[320px,1fr] gap-4",children:[c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-lg border border-slate-200 dark:border-slate-700 p-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:"Folders"}),r&&c.jsxs("button",{onClick:()=>{C(!0),v(l||(V==null?void 0:V.id)||L)},className:"text-sm text-indigo-600 hover:text-indigo-700 flex items-center gap-1",children:[c.jsx(X0,{className:"w-4 h-4"})," New"]})]}),c.jsx("div",{className:"space-y-1 max-h-[520px] overflow-y-auto pr-1",children:o.map(R=>Ce(R))})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg border border-slate-200 dark:border-slate-700 p-4 space-y-4",children:[b&&c.jsx("div",{className:"px-3 py-2 rounded-lg text-sm bg-slate-50 dark:bg-slate-800 text-slate-700 dark:text-slate-200 border border-slate-200 dark:border-slate-700",children:b}),c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-slate-500 dark:text-slate-400",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"uppercase text-xs font-semibold text-slate-400",children:"Path"}),Nt!==null&&c.jsxs("button",{className:"flex items-center gap-1 text-xs px-2 py-1 rounded-md border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-100 hover:bg-slate-100 dark:hover:bg-slate-800 font-semibold",onClick:()=>u(Nt),title:"Up one level",children:[c.jsx($0,{className:"w-3.5 h-3.5"})," Up"]})]}),ce.map((R,G)=>c.jsxs(vc.Fragment,{children:[G>0&&c.jsx("span",{className:"text-slate-400",children:"/"}),c.jsx("button",{className:`hover:text-indigo-600 ${R.id===l?"font-semibold text-slate-900 dark:text-white":""}`,onClick:()=>u(R.id),children:R.name})]},R.id))]}),r&&c.jsx("div",{className:"flex items-center gap-2 text-xs text-slate-500 dark:text-slate-300",children:c.jsx("span",{className:"px-2 py-1 rounded-full bg-indigo-50 dark:bg-indigo-900/40 text-indigo-700 dark:text-indigo-200",children:'Completed requests drop into "Unsorted". Move them where they belong.'})})]}),c.jsxs("div",{className:"rounded-lg border border-slate-200 dark:border-slate-700 overflow-hidden",children:[c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 text-[11px] uppercase tracking-wide text-slate-500 dark:text-slate-300 px-3 py-2 grid grid-cols-[minmax(0,1fr)_auto] gap-3",children:[c.jsx("span",{children:"Name"}),c.jsx("span",{className:"text-right pr-1",children:"Actions"})]}),Gt.length===0&&ut.length===0?c.jsxs("div",{className:"text-center py-10 text-slate-500 dark:text-slate-300",children:[c.jsx(Mr,{className:"w-10 h-10 text-slate-400 mx-auto mb-3"}),c.jsx("p",{className:"font-medium",children:"Nothing here yet"}),c.jsx("p",{className:"text-sm",children:'Completed requests land in "Unsorted". Move them into the right folder.'})]}):c.jsx("div",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:[...Gt.map(R=>({kind:"folder",node:R})),...ut.map(R=>({kind:"file",node:R}))].map(({kind:R,node:G})=>{var dt;const W=be(G),Oe=R==="file"?qo(o):qo(o,0,ow(G)),ge=R==="folder"&&((dt=G.children)==null?void 0:dt.length)||0;return c.jsxs("div",{className:"grid grid-cols-[minmax(0,1fr)_auto] gap-3 items-center px-3 py-2 hover:bg-slate-50 dark:hover:bg-slate-800 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[R==="folder"?d.has(G.id)||l===G.id?c.jsx(sl,{className:"w-4 h-4 text-indigo-500 flex-shrink-0"}):c.jsx(bu,{className:"w-4 h-4 text-slate-500 flex-shrink-0"}):c.jsx(Mr,{className:"w-4 h-4 text-slate-500 flex-shrink-0"}),I===G.id?c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("input",{value:S,onChange:me=>M(me.target.value),className:"text-sm px-2 py-1 rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100"}),c.jsx("button",{onClick:()=>{T(G.id,S),_(null)},className:"text-xs text-indigo-600 dark:text-indigo-300",children:"Save"}),c.jsx("button",{onClick:()=>_(null),className:"text-xs text-slate-500 dark:text-slate-300",children:"Cancel"})]}):c.jsxs("div",{className:"min-w-0",children:[c.jsx("button",{onClick:()=>{R==="folder"?(u(G.id),f(me=>new Set(me).add(G.id))):W&&t(W)},className:"text-sm font-semibold text-slate-900 dark:text-slate-100 truncate text-left hover:text-indigo-600",children:G.name}),c.jsx("p",{className:"text-[11px] text-slate-500 dark:text-slate-300 truncate",children:R==="folder"?ge?`${ge} item${ge===1?"":"s"}`:"Empty folder":"File"})]})]}),c.jsxs("div",{className:"flex justify-end items-center gap-2 flex-wrap sm:flex-nowrap shrink-0",children:[R==="file"&&c.jsx("button",{onClick:me=>{me.stopPropagation(),Ls(me,G)},className:"text-xs text-indigo-600 dark:text-indigo-300 hover:underline",children:"Download"}),r&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>{_(G.id),M(G.name)},className:"text-xs text-slate-600 dark:text-slate-200 hover:underline flex items-center gap-1",children:[c.jsx(ag,{className:"w-3 h-3"})," Rename"]}),c.jsxs("select",{className:"text-xs border border-slate-300 dark:border-slate-600 rounded-md px-2 py-1 bg-white dark:bg-slate-900 text-slate-700 dark:text-slate-200 max-w-[180px]",defaultValue:"",onChange:me=>{me.target.value&&oo(G.id,Number(me.target.value)),me.target.value=""},children:[c.jsx("option",{value:"",children:R==="folder"?"Move folder...":"Move file..."}),Oe.map(me=>c.jsxs("option",{value:me.id,children:[" ".repeat(me.depth*2),me.name]},me.id))]}),c.jsx("button",{onClick:()=>J(G.id),className:"text-xs text-red-500 hover:text-red-600",children:"Delete"})]})]})]},G.id)})})]})]})]})]}),E&&c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-w-md w-full p-6 border border-slate-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4",children:"Create New Folder"}),c.jsxs("form",{onSubmit:ro,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Folder Name"}),c.jsx("input",{type:"text",required:!0,className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100",placeholder:"e.g., MEP / QA / Templates",value:P,onChange:R=>x(R.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2",children:"Parent Folder"}),c.jsx("select",{className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100",value:y||(V==null?void 0:V.id)||L||"",onChange:R=>v(Number(R.target.value)),children:de.map(R=>c.jsxs("option",{value:R.id,children:[" ".repeat(R.depth*2),R.name]},R.id))})]}),c.jsxs("div",{className:"flex gap-3 pt-2",children:[c.jsx("button",{type:"button",onClick:()=>C(!1),className:"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-900 transition font-medium",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:h,className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition font-medium shadow-sm flex items-center justify-center gap-2",children:h?c.jsx(Fe,{className:"w-4 h-4 animate-spin"}):c.jsxs(c.Fragment,{children:[c.jsx(sg,{className:"w-4 h-4"})," Create"]})})]})]})]})})]})},um=A.createContext(void 0),iw=({children:e})=>{const[t,n]=A.useState(()=>localStorage.getItem("rah_theme")==="dark");A.useEffect(()=>{localStorage.setItem("rah_theme",t?"dark":"light"),t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]);const r=()=>{n(o=>!o)};return c.jsx(um.Provider,{value:{isDark:t,toggleTheme:r},children:e})},dm=()=>{const e=A.useContext(um);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},lw=()=>{const{user:e}=or(),{isDark:t,toggleTheme:n}=dm(),[r,o]=A.useState(!1),[s,l]=A.useState(!0),u=()=>{o(!0),setTimeout(()=>{o(!1),alert("Settings saved successfully!")},800)};return c.jsxs("div",{className:"max-w-3xl mx-auto space-y-6 text-slate-900 dark:text-slate-100",children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Account Settings"}),c.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden",children:[c.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-800",children:[c.jsxs("h2",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[c.jsx(Rp,{className:"w-5 h-5 text-indigo-600"})," Profile Information"]}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-300 mt-1",children:"Update your account details and profile."})]}),c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsx("img",{src:e==null?void 0:e.avatar,alt:e==null?void 0:e.name,className:"w-20 h-20 rounded-full border-4 border-slate-50 dark:border-slate-800 shadow-sm"}),c.jsx("div",{children:c.jsx("button",{className:"bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-200 px-4 py-2 rounded-lg text-sm font-medium hover:bg-slate-50 dark:hover:bg-slate-700 transition",children:"Change Avatar"})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Full Name"}),c.jsx("input",{type:"text",defaultValue:e==null?void 0:e.name,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none text-slate-700 dark:text-slate-100 bg-slate-50 dark:bg-slate-800",readOnly:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Email Address"}),c.jsx("input",{type:"email",defaultValue:e==null?void 0:e.email,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none text-slate-700 dark:text-slate-100 bg-slate-50 dark:bg-slate-800",readOnly:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Role"}),c.jsx("input",{type:"text",defaultValue:e==null?void 0:e.role,className:"w-full px-4 py-2.5 border border-slate-300 dark:border-slate-600 rounded-lg outline-none text-slate-500 dark:text-slate-200 bg-slate-100 dark:bg-slate-800/70",disabled:!0})]})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden",children:[c.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-800",children:c.jsxs("h2",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[c.jsx(pa,{className:"w-5 h-5 text-indigo-600"})," Preferences"]})}),c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 p-2 rounded-lg text-blue-600 dark:text-blue-200",children:c.jsx(O0,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-slate-900 dark:text-slate-100",children:"Email Notifications"}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-300",children:"Receive emails about request updates"})]})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",className:"sr-only peer",checked:s,onChange:()=>l(!s)}),c.jsx("div",{className:"w-11 h-6 bg-slate-200 dark:bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/30 p-2 rounded-lg text-purple-600 dark:text-purple-200",children:c.jsx(og,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-slate-900 dark:text-slate-100",children:"Dark Mode"}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-300",children:"Use a dark theme for the interface"})]})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",className:"sr-only peer",checked:t,onChange:n}),c.jsx("div",{className:"w-11 h-6 bg-slate-200 dark:bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]})]}),c.jsx("div",{className:"p-6 bg-slate-50 dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 flex justify-end",children:c.jsx("button",{onClick:u,disabled:r,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-indigo-700 transition flex items-center gap-2 shadow-sm disabled:opacity-70",children:r?c.jsx(Fe,{className:"w-4 h-4 animate-spin"}):c.jsxs(c.Fragment,{children:[c.jsx(dg,{className:"w-4 h-4"})," Save Changes"]})})})]})]})},aw=()=>{const[e,t]=A.useState([]),[n,r]=A.useState(!1),[o,s]=A.useState(!1),[l,u]=A.useState(null),[d,f]=A.useState({name:"",email:"",password:"",role:"Employee"});A.useEffect(()=>{p()},[]);const p=async()=>{const g=await Cg();t(g)},m=async g=>{g.preventDefault();try{if(d.password.length<4){alert("Password must be at least 4 characters.");return}await Sg(d.name,d.email,d.password,d.role),f({name:"",email:"",password:"",role:"Employee"}),r(!1),await p(),u("User added successfully")}catch(E){u(E.message||"Failed to add user")}},h=async g=>{window.confirm("Are you sure you want to delete this user?")&&(t(C=>C.filter(P=>P.id!==g)),await wg(g),await p(),r(!1),u("User removed and list refreshed"))};return c.jsxs("div",{className:"space-y-6 text-slate-900 dark:text-slate-100",children:[c.jsxs("div",{className:"flex justify-between items-center bg-white dark:bg-slate-900 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"User Management"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-300 mt-1",children:"Create and manage accounts for architects and developers."})]}),c.jsxs("button",{onClick:()=>r(!0),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-indigo-700 transition flex items-center gap-2",children:[c.jsx(Ap,{className:"w-4 h-4"})," Add Employee"]})]}),l&&c.jsx("div",{className:"px-4 py-3 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-sm text-slate-700 dark:text-slate-200",children:l}),n&&c.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl border border-indigo-200 dark:border-indigo-700 shadow-sm animate-in fade-in slide-in-from-top-4",children:[c.jsx("h3",{className:"font-bold text-slate-900 dark:text-white mb-4",children:"Add New Employee"}),c.jsxs("form",{onSubmit:m,className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-slate-700 dark:text-slate-200 mb-1",children:"Full Name"}),c.jsx("input",{type:"text",required:!0,className:"w-full px-3 py-2 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 border border-slate-300 dark:border-slate-600 rounded-md text-sm",value:d.name,onChange:g=>f({...d,name:g.target.value}),placeholder:"e.g. John Doe"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-slate-700 dark:text-slate-200 mb-1",children:"Email"}),c.jsx("input",{type:"email",required:!0,className:"w-full px-3 py-2 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 border border-slate-300 dark:border-slate-600 rounded-md text-sm",value:d.email,onChange:g=>f({...d,email:g.target.value}),placeholder:"john@design.com"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("label",{className:"block text-xs font-semibold text-slate-700 dark:text-slate-200 mb-1",children:"Password"}),c.jsx("input",{type:o?"text":"password",required:!0,className:"w-full px-3 py-2 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 border border-slate-300 dark:border-slate-600 rounded-md text-sm pr-8",value:d.password,onChange:g=>f({...d,password:g.target.value}),placeholder:""}),c.jsx("button",{type:"button",onClick:()=>s(!o),className:"absolute right-2 top-7 text-slate-400 dark:text-slate-500 hover:text-slate-600 dark:hover:text-slate-300",children:o?c.jsx(ca,{className:"w-3 h-3"}):c.jsx(fa,{className:"w-3 h-3"})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-semibold text-slate-700 dark:text-slate-200 mb-1",children:"Role"}),c.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100 border border-slate-300 dark:border-slate-600 rounded-md text-sm",value:d.role,onChange:g=>f({...d,role:g.target.value}),placeholder:"e.g. Engineer, Architect, Manager"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{type:"button",onClick:()=>r(!1),className:"px-4 py-2 text-sm text-slate-600 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-md",children:"Cancel"}),c.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 text-sm bg-green-600 text-white rounded-md hover:bg-green-700",children:"Create"})]})]})]}),c.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden",children:c.jsxs("table",{className:"w-full text-left text-sm text-slate-600 dark:text-slate-200",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800 text-slate-700 dark:text-slate-200 font-semibold uppercase text-xs",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4",children:"Employee"}),c.jsx("th",{className:"px-6 py-4",children:"Email"}),c.jsx("th",{className:"px-6 py-4",children:"Role"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:e.map(g=>c.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800 transition",children:[c.jsxs("td",{className:"px-6 py-4 flex items-center gap-3",children:[c.jsx("img",{src:g.avatar,alt:g.name,className:"w-8 h-8 rounded-full border border-slate-200 dark:border-slate-600"}),c.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:g.name})]}),c.jsxs("td",{className:"px-6 py-4 flex items-center gap-2",children:[c.jsx(kp,{className:"w-3.5 h-3.5 text-slate-400 dark:text-slate-500"})," ",g.email]}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium ${g.role===tt?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-200":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-200"}`,children:[c.jsx(pa,{className:"w-3 h-3"})," ",g.role]})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsx("button",{onClick:()=>h(g.id),className:"text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 p-2 rounded-lg transition",title:"Remove User",children:c.jsx(Ip,{className:"w-4 h-4"})})})]},g.id))})]})})]})},uw=()=>{const[e,t]=A.useState([]),[n,r]=A.useState(!0),[o,s]=A.useState(null),[l,u]=A.useState({});A.useEffect(()=>{d()},[]);const d=async()=>{try{const g=await ie.get("/registration-requests");t(g)}catch(g){console.error("Failed to load registration requests:",g)}finally{r(!1)}},f=async g=>{const E=(l[g]||"").trim();if(!E){alert("Please enter a role for the user before approving.");return}s(g);try{await ie.post(`/registration-requests/${g}/approve`,{role:E}),await d(),alert("Registration approved successfully!")}catch(C){alert(C.message||"Failed to approve registration")}finally{s(null)}},p=async g=>{if(window.confirm("Are you sure you want to reject this registration request?")){s(g);try{await ie.post(`/registration-requests/${g}/reject`,{}),await d()}catch(E){alert(E.message||"Failed to reject registration")}finally{s(null)}}},m=e.filter(g=>g.status==="PENDING"),h=e.filter(g=>g.status!=="PENDING");return n?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx(Fe,{className:"w-8 h-8 animate-spin text-indigo-600"})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Registration Requests"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Review and approve new user registrations"})]}),c.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 px-4 py-2 rounded-lg border border-indigo-200 dark:border-indigo-800",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ap,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),c.jsx("span",{className:"font-bold text-indigo-600 dark:text-indigo-400 text-lg",children:m.length}),c.jsx("span",{className:"text-sm text-indigo-600 dark:text-indigo-400",children:"Pending"})]})})]}),m.length===0&&c.jsxs("div",{className:"text-center py-12 bg-slate-50 dark:bg-slate-900 rounded-lg border border-dashed border-slate-200 dark:border-slate-700",children:[c.jsx(Fo,{className:"w-12 h-12 text-slate-300 dark:text-slate-600 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-slate-900 dark:text-white",children:"No pending requests"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"All registration requests have been reviewed"})]}),m.length>0&&c.jsx("div",{className:"space-y-4",children:m.map(g=>c.jsx("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/10 dark:to-orange-900/10 p-5 rounded-lg border-2 border-yellow-200 dark:border-yellow-800 hover:border-yellow-300 dark:hover:border-yellow-700 transition",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white font-bold text-lg",children:g.name.charAt(0).toUpperCase()}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:g.name}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[c.jsx(kp,{className:"w-3.5 h-3.5"}),g.email]})]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 dark:text-slate-500 mt-2",children:[c.jsx(Qr,{className:"w-3.5 h-3.5"}),"Requested ",new Date(g.createdAt).toLocaleString()]})]}),c.jsxs("div",{className:"flex gap-3 items-center",children:[c.jsx("input",{type:"text",className:"px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-100",placeholder:"Role (e.g. Engineer)",value:l[g.id]||"",onChange:E=>u(C=>({...C,[g.id]:E.target.value}))}),c.jsxs("button",{onClick:()=>p(g.id),disabled:o===g.id,className:"px-4 py-2 bg-white dark:bg-slate-800 border-2 border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition flex items-center gap-2 font-medium",children:[o===g.id?c.jsx(Fe,{className:"w-4 h-4 animate-spin"}):c.jsx(Lu,{className:"w-4 h-4"}),"Reject"]}),c.jsxs("button",{onClick:()=>f(g.id),disabled:o===g.id,className:"px-4 py-2 bg-green-600 dark:bg-green-700 text-white rounded-lg hover:bg-green-700 dark:hover:bg-green-600 transition flex items-center gap-2 font-medium shadow-sm",children:[o===g.id?c.jsx(Fe,{className:"w-4 h-4 animate-spin"}):c.jsx(Fo,{className:"w-4 h-4"}),"Approve"]})]})]})},g.id))})]}),h.length>0&&c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden",children:[c.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 border-b border-slate-200 dark:border-slate-700",children:c.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Processed Requests"})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left text-sm text-slate-600 dark:text-slate-400",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900 text-slate-700 dark:text-slate-300 font-semibold uppercase text-xs",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4",children:"User"}),c.jsx("th",{className:"px-6 py-4",children:"Email"}),c.jsx("th",{className:"px-6 py-4",children:"Status"}),c.jsx("th",{className:"px-6 py-4",children:"Processed"})]})}),c.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:h.map(g=>c.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-900/50",children:[c.jsx("td",{className:"px-6 py-4 font-medium text-slate-900 dark:text-white",children:g.name}),c.jsx("td",{className:"px-6 py-4",children:g.email}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium ${g.status==="APPROVED"?"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-400":"bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-400"}`,children:[g.status==="APPROVED"?c.jsx(Fo,{className:"w-3 h-3"}):c.jsx(Lu,{className:"w-3 h-3"}),g.status]})}),c.jsx("td",{className:"px-6 py-4",children:g.reviewedAt?new Date(g.reviewedAt).toLocaleString():"-"})]},g.id))})]})})]})]})},dw=({onShowRegistration:e})=>{const{login:t}=or(),[n,r]=A.useState(""),[o,s]=A.useState(""),[l,u]=A.useState(!1),[d,f]=A.useState(""),[p,m]=A.useState(!1),h=async g=>{g.preventDefault(),f(""),m(!0);try{await t(n,o)}catch(E){f(E.message||"Failed to login")}finally{m(!1)}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-2xl shadow-xl overflow-hidden border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"bg-slate-900 dark:bg-slate-950 p-8 text-center",children:[c.jsx("div",{className:"mx-auto w-12 h-12 bg-indigo-600 rounded-lg flex items-center justify-center mb-4 shadow-lg shadow-indigo-900/50",children:c.jsx(da,{className:"w-7 h-7 text-white"})}),c.jsxs("h1",{className:"text-2xl font-bold text-white tracking-tight",children:["Automation ",c.jsx("span",{className:"text-indigo-400",children:"Hub"})]}),c.jsx("p",{className:"text-slate-400 mt-2 text-sm",children:"Automation Request Portal"})]}),c.jsx("div",{className:"p-8",children:c.jsxs("form",{onSubmit:h,className:"space-y-5",children:[d&&c.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-3 rounded-lg text-sm flex items-center gap-2",children:[c.jsx(wp,{className:"w-4 h-4 flex-shrink-0"}),d]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Work Email"}),c.jsx("input",{type:"email",required:!0,className:"w-full px-4 py-2 bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none",placeholder:"you@company.com",value:n,onChange:g=>r(g.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:l?"text":"password",required:!0,className:"w-full px-4 py-2 bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none pr-10",placeholder:"********",value:o,onChange:g=>s(g.target.value)}),c.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute right-3 top-2.5 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition",children:l?c.jsx(ca,{className:"w-4 h-4"}):c.jsx(fa,{className:"w-4 h-4"})})]})]}),c.jsx("button",{type:"submit",disabled:p,className:"w-full bg-indigo-600 text-white py-2.5 rounded-lg font-medium hover:bg-indigo-700 transition flex justify-center items-center gap-2 shadow-sm",children:p?c.jsx(Fe,{className:"w-4 h-4 animate-spin"}):c.jsxs(c.Fragment,{children:["Sign In ",c.jsx(Tp,{className:"w-4 h-4"})]})}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:"Don't have an account?"}),c.jsx("button",{type:"button",onClick:e,className:"w-full bg-white dark:bg-slate-900 border-2 border-indigo-200 dark:border-indigo-800 text-indigo-600 dark:text-indigo-400 py-2.5 rounded-lg font-medium hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition",children:"Request Access"})]})]})})]})})},cw=({onBackToLogin:e})=>{const[t,n]=A.useState(""),[r,o]=A.useState(""),[s,l]=A.useState(""),[u,d]=A.useState(""),[f,p]=A.useState(!1),[m,h]=A.useState(""),[g,E]=A.useState(!1),[C,P]=A.useState(!1),x=async y=>{if(y.preventDefault(),h(""),s!==u){h("Passwords do not match");return}if(s.length<4){h("Password must be at least 4 characters");return}E(!0);try{await ie.post("/auth/register",{name:t,email:r,password:s}),P(!0)}catch(v){h(v.message||"Registration request failed")}finally{E(!1)}};return C?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-2xl shadow-xl overflow-hidden border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 p-8 text-center",children:[c.jsx("div",{className:"mx-auto w-16 h-16 bg-white/20 backdrop-blur rounded-full flex items-center justify-center mb-4",children:c.jsx(Fo,{className:"w-10 h-10 text-white"})}),c.jsx("h1",{className:"text-2xl font-bold text-white",children:"Request Submitted!"})]}),c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6",children:"Your registration request has been submitted successfully. A developer will review your request and approve your account soon."}),c.jsx("button",{onClick:e,className:"w-full bg-indigo-600 text-white py-2.5 rounded-lg font-medium hover:bg-indigo-700 transition",children:"Back to Login"})]})]})}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-md rounded-2xl shadow-xl overflow-hidden border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"bg-slate-900 dark:bg-slate-950 p-8 text-center",children:[c.jsx("div",{className:"mx-auto w-12 h-12 bg-indigo-600 rounded-lg flex items-center justify-center mb-4 shadow-lg",children:c.jsx(da,{className:"w-7 h-7 text-white"})}),c.jsxs("h1",{className:"text-2xl font-bold text-white tracking-tight",children:["Join ",c.jsx("span",{className:"text-indigo-400",children:"Automation Hub"})]}),c.jsx("p",{className:"text-slate-400 mt-2 text-sm",children:"Request access to the portal"})]}),c.jsx("div",{className:"p-8",children:c.jsxs("form",{onSubmit:x,className:"space-y-5",children:[m&&c.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-3 rounded-lg text-sm flex items-center gap-2",children:[c.jsx(wp,{className:"w-4 h-4 flex-shrink-0"}),m]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Full Name"}),c.jsx("input",{type:"text",required:!0,className:"w-full px-4 py-2 bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none",placeholder:"John Doe",value:t,onChange:y=>n(y.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Work Email"}),c.jsx("input",{type:"email",required:!0,className:"w-full px-4 py-2 bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none",placeholder:"you@company.com",value:r,onChange:y=>o(y.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:f?"text":"password",required:!0,className:"w-full px-4 py-2 bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none pr-10",placeholder:"********",value:s,onChange:y=>l(y.target.value)}),c.jsx("button",{type:"button",onClick:()=>p(!f),className:"absolute right-3 top-2.5 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 transition",children:f?c.jsx(ca,{className:"w-4 h-4"}):c.jsx(fa,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Confirm Password"}),c.jsx("input",{type:f?"text":"password",required:!0,className:"w-full px-4 py-2 bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none",placeholder:"********",value:u,onChange:y=>d(y.target.value)})]}),c.jsx("button",{type:"submit",disabled:g,className:"w-full bg-indigo-600 text-white py-2.5 rounded-lg font-medium hover:bg-indigo-700 transition flex justify-center items-center gap-2 shadow-sm",children:g?c.jsx(Fe,{className:"w-4 h-4 animate-spin"}):c.jsxs(c.Fragment,{children:["Submit Request ",c.jsx(Tp,{className:"w-4 h-4"})]})}),c.jsxs("div",{className:"text-center text-sm text-slate-600 dark:text-slate-400",children:["Already have an account?"," ",c.jsx("button",{type:"button",onClick:e,className:"text-indigo-600 dark:text-indigo-400 hover:underline font-medium",children:"Sign in"})]})]})})]})})},fw=()=>{const{user:e,logout:t,isLoading:n}=or(),{isDark:r}=dm(),[o,s]=A.useState(null),[l,u]=A.useState([]),[d,f]=A.useState(!1),[p,m]=A.useState(0),[h,g]=A.useState(0),[E,C]=A.useState("DASHBOARD"),[P,x]=A.useState(!1),[y,v]=A.useState(0),[w,k]=A.useState(0),[I,_]=A.useState(0),[S,M]=A.useState(0);A.useEffect(()=>{(async()=>{if(e){f(!0);try{const O=await Fu();u(O)}catch(O){console.error("Failed to load requests from backend",O)}finally{f(!1)}}})()},[e,p,h]),A.useEffect(()=>{if(!e||e.role!==tt)return;const B=setInterval(()=>g(O=>O+1),1e4);return()=>clearInterval(B)},[e]);const b=l.filter(B=>B.status==="PENDING").length,H=Math.max(0,l.length-S);A.useEffect(()=>{e&&(E==="DASHBOARD"&&e.role===tt&&(k(b),M(l.length)),E==="REGISTRATIONS"&&e.role===tt&&_(y))},[E,e,b,y]),A.useEffect(()=>{(async()=>{if(!e||e.role!==tt){v(0);return}try{const O=await ie.get("/registration-requests"),de=Array.isArray(O)?O.filter(L=>L.status==="PENDING").length:0;v(de)}catch(O){console.error("Failed to fetch registration requests count",O)}})()},[e,p]);const N=()=>{m(B=>B+1)};if(n)return c.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:c.jsx(Fe,{className:"w-8 h-8 animate-spin text-indigo-600"})});if(!e)return P?c.jsx(cw,{onBackToLogin:()=>x(!1)}):c.jsx(dw,{onShowRegistration:()=>x(!0)});const $=()=>{t(),s(null),C("DASHBOARD")},X=()=>E==="SETTINGS"?c.jsx(lw,{}):E==="LIBRARY"?c.jsx(sw,{requests:l,onViewRequest:B=>{s(B),C("DASHBOARD")}}):E==="USERS"?c.jsx(aw,{}):E==="REGISTRATIONS"?c.jsx(uw,{}):o?c.jsx(rw,{request:o,isDeveloper:e.role===tt,onBack:()=>s(null),onUpdate:()=>{N(),Fu().then(B=>{const O=B.find(de=>de.id===o.id);O&&s(O)})}}):d&&l.length===0?c.jsxs("div",{className:"flex h-64 items-center justify-center text-slate-400 dark:text-slate-500 gap-2",children:[c.jsx(Fe,{className:"w-5 h-5 animate-spin"})," Loading requests..."]}):e.role===tt?c.jsx(kg,{requests:l,onViewRequest:s}):c.jsx(Ng,{requests:l,onRequestCreate:N,onViewRequest:s});return c.jsxs("div",{className:`h-screen ${r?"dark":""} bg-slate-50 dark:bg-slate-950 flex overflow-hidden`,children:[c.jsxs("aside",{className:"w-64 bg-slate-900 dark:bg-slate-950 text-slate-300 flex flex-col flex-shrink-0 h-full border-r border-slate-800 dark:border-slate-900 z-20",children:[c.jsxs("div",{className:"h-16 flex items-center gap-3 px-6 border-b border-slate-800 dark:border-slate-900 flex-shrink-0",children:[c.jsx("div",{className:"bg-indigo-600 p-1.5 rounded-lg",children:c.jsx(da,{className:"w-5 h-5 text-white"})}),c.jsxs("span",{className:"font-bold text-lg text-white tracking-tight",children:["Automation ",c.jsx("span",{className:"text-indigo-400",children:"Hub"})]})]}),c.jsxs("div",{className:"p-4 flex-1 overflow-y-auto space-y-1",children:[c.jsx("div",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2 px-2 mt-4",children:"Menu"}),c.jsxs("button",{onClick:()=>{s(null),C("DASHBOARD"),k(b)},className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition ${E==="DASHBOARD"&&!o?"bg-indigo-600/10 text-indigo-400":"hover:bg-slate-800 dark:hover:bg-slate-900 hover:text-white"}`,children:[c.jsx(ig,{className:"w-4 h-4"}),c.jsx("span",{className:"font-medium",children:"Dashboard"}),e.role===tt&&b>w&&c.jsx("span",{className:"ml-auto text-[11px] font-bold px-2 py-0.5 rounded-full bg-yellow-500 text-slate-900",children:b-w}),e.role===tt&&H>0&&c.jsxs("span",{className:"ml-2 text-[11px] font-bold px-2 py-0.5 rounded-full bg-blue-500 text-white",children:["+",H]})]}),c.jsxs("button",{onClick:()=>{s(null),C("LIBRARY")},className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition ${E==="LIBRARY"?"bg-indigo-600/10 text-indigo-400":"hover:bg-slate-800 dark:hover:bg-slate-900 hover:text-white"}`,children:[c.jsx(sl,{className:"w-4 h-4"}),c.jsx("span",{className:"font-medium",children:"Script Library"})]}),e.role===tt&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>{s(null),C("USERS")},className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition ${E==="USERS"?"bg-indigo-600/10 text-indigo-400":"hover:bg-slate-800 dark:hover:bg-slate-900 hover:text-white"}`,children:[c.jsx(hg,{className:"w-4 h-4"}),c.jsx("span",{className:"font-medium",children:"User Management"})]}),c.jsxs("button",{onClick:()=>{s(null),C("REGISTRATIONS"),_(y)},className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition ${E==="REGISTRATIONS"?"bg-indigo-600/10 text-indigo-400":"hover:bg-slate-800 dark:hover:bg-slate-900 hover:text-white"}`,children:[c.jsx(mg,{className:"w-4 h-4"}),c.jsx("span",{className:"font-medium",children:"Registrations"}),y>I&&c.jsx("span",{className:"ml-auto text-[11px] font-bold px-2 py-0.5 rounded-full bg-red-500 text-white",children:y-I})]})]}),c.jsxs("button",{onClick:()=>{s(null),C("SETTINGS")},className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition ${E==="SETTINGS"?"bg-indigo-600/10 text-indigo-400":"hover:bg-slate-800 dark:hover:bg-slate-900 hover:text-white"}`,children:[c.jsx(fg,{className:"w-4 h-4"}),c.jsx("span",{className:"font-medium",children:"Settings"})]})]}),c.jsxs("div",{className:"p-4 border-t border-slate-800 dark:border-slate-900 bg-slate-900/50 dark:bg-slate-950/50 flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4 px-2",children:[c.jsx("img",{src:e.avatar,alt:e.name,className:"w-8 h-8 rounded-full border border-slate-600"}),c.jsxs("div",{className:"overflow-hidden",children:[c.jsx("p",{className:"text-sm font-medium text-white truncate",children:e.name}),c.jsx("p",{className:"text-xs text-slate-500 truncate",children:e.role===tt?"Lead Automation Eng.":e.role||"Employee"})]})]}),c.jsxs("button",{onClick:$,className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-slate-800 dark:bg-slate-900 hover:bg-slate-700 dark:hover:bg-slate-800 text-sm font-medium transition text-white border border-slate-700 dark:border-slate-800",children:[c.jsx(rg,{className:"w-4 h-4"})," Sign Out"]})]})]}),c.jsx("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:c.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-4 md:p-8",children:c.jsx("div",{className:"max-w-7xl mx-auto",children:X()})})})]})},pw=()=>c.jsx(iw,{children:c.jsx(Tg,{children:c.jsx(fw,{})})}),cm=document.getElementById("root");if(!cm)throw new Error("Could not find root element to mount to");const mw=fi.createRoot(cm);mw.render(c.jsx(vc.StrictMode,{children:c.jsx(pw,{})}));
